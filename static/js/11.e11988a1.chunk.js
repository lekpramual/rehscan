(this.webpackJsonprehscan=this.webpackJsonprehscan||[]).push([[11],{103:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){return r.a.createElement("div",{className:"row",style:{marginBottom:10}},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"".concat(e.alert," alert-dismissible")},r.a.createElement("h5",null,"\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19 !"),e.msg)))}},261:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(90),c=a.n(l),o=a(91),i=a(92),s=a.n(i),u=a(242),m=a.n(u),d=a(26),f=a(12),E=a(74),b=a(75),p=a(253),v=a(247),g=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(e){return Object(E.a)(this,a),t.call(this,e)}return Object(b.a)(a,[{key:"render",value:function(){return r.a.createElement("h1",null,this.props.record)}}]),a}(r.a.PureComponent),h=function(){var e=Object(n.useRef)(),t=Object(d.b)(),a=Object(d.c)((function(e){return e.scanlocation.indexData})),l=Object(d.c)((function(e){return e.scanlocation.indexStatus}));var c=function(){var e,t=[];return a.map((function(a){return 0===a.data.length?e=!1:(e=!0,t=a.data,{iscount:e,isdata:t})})),{iscount:e,isdata:t}}(),o=c.iscount,i=c.isdata;Object(n.useEffect)((function(){t(Object(f.h)())}),[t]);var s=function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 table table-responsive "},r.a.createElement("table",{className:"table table-bordered table-hover text-nowrap"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"\u0e25\u0e33\u0e14\u0e31\u0e1a"),r.a.createElement("td",null,"\u0e25\u0e30\u0e15\u0e34\u0e08\u0e39\u0e14"),r.a.createElement("td",null,"\u0e25\u0e2d\u0e07\u0e15\u0e34\u0e08\u0e39\u0e14"),r.a.createElement("td",null,"\u0e2a\u0e16\u0e32\u0e19\u0e17\u0e35\u0e48"),r.a.createElement("td",null,"\u0e2a\u0e16\u0e32\u0e19\u0e30"),r.a.createElement("td",null,"\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07"))),r.a.createElement("tbody",null,o?i.map((function(t,a){return r.a.createElement("tr",{key:t.scan_id},r.a.createElement("td",null,a+1),r.a.createElement("td",null,t.latitude),r.a.createElement("td",null,t.longitude),r.a.createElement("td",null,t.scan_location),r.a.createElement("td",null,1===t.status_id?r.a.createElement("span",{className:"badge bg-success"},"\u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19"):r.a.createElement("span",{className:"badge bg-danger"},"\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19")),r.a.createElement("td",null,r.a.createElement(m.a,{trigger:function(){return r.a.createElement("button",null,"Print this out!")},content:function(){return e.current},pageStyle:"@page { size: 11.694in 8.264in landscape} "})))})):r.a.createElement("tr",{key:"emtpydata"},r.a.createElement("td",{style:{verticalAlign:"middle"},colSpan:"7",className:"text-center"},"loading"===l?"\u0e14\u0e32\u0e27\u0e19\u0e4c\u0e42\u0e2b\u0e25\u0e14\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 ...":"--- \u0e44\u0e21\u0e48\u0e21\u0e35\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 ---"))))))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(s,null),r.a.createElement(g,{ref:e}))},N=a(77),y=a(71),w=a.n(y),j=a(258),O=a(263),k=a(102),x=a(103);var F=Object(k.geolocated)({positionOptions:{enableHighAccuracy:!1},userDecisionTimeout:5e3})((function(e){var t=Object(n.useState)(""),a=Object(N.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),i=Object(N.a)(o,2),s=i[0],u=i[1],m=function(){return u(!1)},d=function(t){t.preventDefault(),function(){var e=!0;return""===l&&(c(""),e=!1),e}()&&(e.confirm(e.coords.latitude.toFixed(4),e.coords.longitude.toFixed(4),l),u(!1),c(""))};return Object(n.useEffect)((function(){console.log("Loading ...")}),[s]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row",style:{marginBottom:10}},r.a.createElement("div",{className:"col-12",style:{textAlign:"right"}},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return u(!0)}},r.a.createElement("i",{className:"fas fa-plus"})," \u0e40\u0e1e\u0e34\u0e48\u0e21\u0e08\u0e38\u0e14\u0e2a\u0e41\u0e01\u0e19"," "))),e.isGeolocationAvailable?e.isGeolocationEnabled?e.coords?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(j.a,{show:s,onHide:m},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,null,"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e08\u0e38\u0e14\u0e2a\u0e41\u0e01\u0e19")),r.a.createElement(j.a.Body,null,r.a.createElement("form",{onSubmit:function(e){return d(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"InputMember",className:"col-form-label"}," ","\u0e25\u0e30\u0e15\u0e34\u0e08\u0e39\u0e14"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u0e25\u0e30\u0e15\u0e34\u0e08\u0e39\u0e14",value:e.coords.latitude.toFixed(4),disabled:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"InputMember",className:"col-form-label"}," ","\u0e25\u0e2d\u0e07\u0e15\u0e34\u0e08\u0e39\u0e14"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u0e25\u0e2d\u0e07\u0e15\u0e34\u0e08\u0e39\u0e14",value:e.coords.longitude.toFixed(4),disabled:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"InputMember",className:"col-form-label"}," ","\u0e2a\u0e16\u0e32\u0e19\u0e17\u0e35\u0e48 ",l.isvalid),r.a.createElement("input",{type:"text",className:w()("form-control",{"form-control is-invalid":!1===l.isvalid}),placeholder:"\u0e2a\u0e16\u0e32\u0e19\u0e17\u0e35\u0e48",value:l,onChange:function(e){return c(e.target.value)}})))),r.a.createElement(j.a.Footer,{className:"modal-footer justify-content-between p-0"},r.a.createElement(O.a,{variant:"secondary",onClick:m},"\u0e1b\u0e34\u0e14"),r.a.createElement(O.a,{variant:"primary",onClick:function(e){return d(e)},disabled:""===l},"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"))))):r.a.createElement("div",{className:"col-12",style:{textAlign:"center"}},r.a.createElement(x.a,{msg:"--- \u0e01\u0e33\u0e25\u0e31\u0e07\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e15\u0e33\u0e41\u0e2b\u0e19\u0e48\u0e07 \u2026 ---",alert:"alert alert-info"})):r.a.createElement(x.a,{msg:"--- \u0e01\u0e23\u0e38\u0e13\u0e32\u0e40\u0e1b\u0e34\u0e14 GPS \u0e21\u0e37\u0e2d\u0e16\u0e37\u0e2d\u0e02\u0e2d\u0e07\u0e17\u0e48\u0e32\u0e19 \u2026 ---",alert:"alert alert-warning"}):r.a.createElement(x.a,{msg:"--- \u0e40\u0e1a\u0e23\u0e32\u0e27\u0e4c\u0e40\u0e0b\u0e2d\u0e23\u0e4c\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e44\u0e21\u0e48\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a \u0e41\u0e19\u0e30\u0e19\u0e33 Chome---",alert:"alert alert-warning"}))})),C=a(72);var S=function(){var e=Object(d.b)(),t=new C.a("http://localhost:3000/");return Object(n.useEffect)((function(){t.loggedIn()||window.location.replace("/rehscan/#/scan/member-register")}),[t,e]),r.a.createElement("section",{className:"content",style:{marginTop:-16}},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body "},r.a.createElement(F,{confirm:function(t,a,n){var r={lat:t,lon:a,scanName:n};new Promise((function(t,a){function n(){return l.apply(this,arguments)}function l(){return(l=Object(o.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Object(f.g)(r)).then((function(e){return e[0].msg}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:"created successful"===e.sent?(setTimeout((function(){window.location.reload()}),1600),t(!0)):a(!1);case 4:case"end":return e.stop()}}),e)})))()})).then((function(e){e?s.a.fire({icon:"success",title:"\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08",text:"\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e08\u0e38\u0e14\u0e2a\u0e41\u0e01\u0e19\u0e40\u0e23\u0e35\u0e22\u0e1a\u0e23\u0e49\u0e2d\u0e22",showConfirmButton:!1,timer:1500}):s.a.fire({icon:"warning",title:"\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14",text:"\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14",showConfirmButton:!1,timer:1500})})).catch((function(e){s.a.fire({icon:"error",title:"\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14",text:"\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14",showConfirmButton:!1,timer:1500})}))}}),r.a.createElement(h,null)))))))};t.default=function(){return r.a.createElement("div",null,r.a.createElement(S,null))}},72:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(74),r=a(75),l=a(78),c=a(79),o=a.n(c),i=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,[{key:"loggedIn",value:function(){return!!this.getToken()}},{key:"setToken",value:function(e){var t=o()(e,"secret");localStorage.setItem("id_token",t)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"getProfile",value:function(){return Object(l.a)(this.getToken())}}]),e}()}}]);
//# sourceMappingURL=11.e11988a1.chunk.js.map