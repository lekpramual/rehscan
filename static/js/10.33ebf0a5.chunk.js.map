{"version":3,"sources":["components/scans/components/locaction/LocactionList.js","components/scans/components/locaction/LocactionAdd.js","components/scans/components/locaction/Locaction.js","components/scans/containers/Locaction.js","components/scans/components/common/Message.js"],"names":["LocactionList","props","formatNumber","num","parseInt","toLocaleString","iscount","isdata","data","map","rs","lengtd","isCheckData","className","key","member_no","member_name","member_money","member_sell","member_stock","member_buy","member_paid","style","verticalAlign","colSpan","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","geolocated","positionOptions","enableHighAccuracy","userDecisionTimeout","subtitle","React","useState","modalIsOpen","setIsOpen","value","isvalid","location","setLocation","closeModal","e","handleSubmit","preventDefault","isGood","formIsValidSearch","confirm","coords","latitude","toFixed","longitude","useEffect","console","log","marginBottom","textAlign","type","onClick","isOpen","onAfterOpen","color","onRequestClose","ref","_subtitle","isGeolocationAvailable","isGeolocationEnabled","onSubmit","htmlFor","placeholder","disabled","classNames","onChange","target","msg","alert","Locaction","marginTop","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","Message"],"mappings":"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","file":"static/js/10.33ebf0a5.chunk.js","sourcesContent":["import React from \"react\";\n\nconst LocactionList = (props) => {\n  function formatNumber(num) {\n    const parseNumber = parseInt(num);\n    const toLocale = parseNumber.toLocaleString();\n    return toLocale;\n  }\n  function isCheckData() {\n    let iscount;\n    var isdata = [];\n    props.data.map((rs) => {\n      if (rs.lengtd === 0) {\n        iscount = false;\n        return iscount;\n      } else {\n        iscount = true;\n        isdata = rs;\n        return { iscount, isdata };\n      }\n    });\n    return { iscount, isdata };\n  }\n\n  const { iscount, isdata } = isCheckData();\n  return (\n    <div className=\"row\">\n      <div className=\"col-12 table table-responsive \">\n        <table className=\"table table-bordered table-hover text-nowrap\">\n          <thead>\n            <tr>\n              <td>ลำดับ</td>\n              <td>ละติจูด</td>\n              <td>ลองติจูด</td>\n              <td>สถานที่</td>\n              <td>สถานะ</td>\n              <td>คำสั่ง</td>\n            </tr>\n          </thead>\n          <tbody>\n            {iscount ? (\n              <tr key=\"isdata\">\n                <td>{isdata.member_no}</td>\n                <td>{isdata.member_name}</td>\n                <td>{formatNumber(isdata.member_money)}</td>\n                <td>{formatNumber(isdata.member_sell)}</td>\n                <td>{formatNumber(isdata.member_stock)}</td>\n                <td>{formatNumber(isdata.member_buy)}</td>\n                <td>{formatNumber(isdata.member_paid)}</td>\n              </tr>\n            ) : (\n              <tr key=\"emtpydata\">\n                <td\n                  style={{ verticalAlign: \"middle\" }}\n                  colSpan=\"7\"\n                  className=\"text-center\"\n                >\n                  {/* {(page - 1) * 20 + index + 1} */}\n                  --- ไม่มีข้อมูล ---\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n\nexport default LocactionList;\n","import React, { useEffect, useState } from \"react\";\nimport classNames from \"classnames\";\nimport Modal from \"react-modal\";\nimport { geolocated } from \"react-geolocated\";\n\nimport ScanInOutMessage from \"../common/Message\";\n\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    // width: \"500px\",\n    transform: \"translate(-50%, -50%)\"\n  }\n};\n\n// Make sure to bind modal to your appElement (https://reactcommunity.org/react-modal/accessibility/)\nModal.setAppElement(\"#root\");\n\nfunction LocactionAdd(props) {\n  var subtitle;\n\n  const [modalIsOpen, setIsOpen] = React.useState(false);\n  const [location, setLocation] = useState({ value: \"\", isvalid: true });\n\n  const openModal = () => {\n    setIsOpen(true);\n  };\n\n  function afterOpenModal() {\n    // references are now sync'd and can be accessed.\n    subtitle.style.color = \"blue\";\n  }\n\n  const closeModal = (e) => {\n    setIsOpen(false);\n    setLocation({ value: \"\", isvalid: true });\n  };\n  // handle from validate\n  const formIsValidSearch = () => {\n    let isGood = true;\n    if (location.value === \"\") {\n      setLocation({ value: \"\", isvalid: false });\n      isGood = false;\n    }\n    return isGood;\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (formIsValidSearch()) {\n      props.confirm(\n        props.coords.latitude.toFixed(4),\n        props.coords.longitude.toFixed(4),\n        location.value\n      );\n\n      closeModal();\n    }\n  };\n\n  useEffect(() => {\n    console.log(\"Loading ...\");\n  }, []);\n\n  return (\n    <>\n      <div className=\"row\" style={{ marginBottom: 10 }}>\n        <div className=\"col-12\" style={{ textAlign: \"right\" }}>\n          <button type=\"button\" className=\"btn btn-primary\" onClick={openModal}>\n            <i className=\"fas fa-plus\" /> เพิ่มจุดสแกน{\" \"}\n          </button>\n        </div>\n      </div>\n\n      <Modal\n        isOpen={modalIsOpen}\n        onAfterOpen={afterOpenModal}\n        onRequestClose={closeModal}\n        style={customStyles}\n      >\n        <h2 ref={(_subtitle) => (subtitle = _subtitle)}>เพิ่มจุดสแกน</h2>\n\n        {!props.isGeolocationAvailable ? (\n          <ScanInOutMessage\n            msg=\"--- เบราว์เซอร์ของคุณไม่รองรับ แนะนำ Chome---\"\n            alert=\"alert alert-warning\"\n          />\n        ) : !props.isGeolocationEnabled ? (\n          <ScanInOutMessage\n            msg=\"--- กรุณาเปิด GPS มือถือของท่าน &hellip; ---\"\n            alert=\"alert alert-warning\"\n          />\n        ) : props.coords ? (\n          <form onSubmit={(e) => handleSubmit(e)}>\n            <div className=\"form-group\">\n              <label htmlFor=\"InputMember\" className=\"col-form-label\">\n                {\" \"}\n                ละติจูด\n              </label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"ละติจูด\"\n                value={props.coords.latitude.toFixed(4)}\n                disabled\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"InputMember\" className=\"col-form-label\">\n                {\" \"}\n                ลองติจูด\n              </label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"ลองติจูด\"\n                value={props.coords.longitude.toFixed(4)}\n                disabled\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"InputMember\" className=\"col-form-label\">\n                {\" \"}\n                สถานที่ {location.isvalid}\n              </label>\n              <input\n                type=\"text\"\n                // className=\"form-control\"\n                className={classNames(\"form-control\", {\n                  \"form-control is-invalid\": location.isvalid === false\n                })}\n                placeholder=\"สถานที่\"\n                value={location.value}\n                onChange={(e) =>\n                  setLocation({\n                    value: e.target.value,\n                    isvalid: true\n                  })\n                }\n              />\n            </div>\n            <div className=\"form-group\">\n              <div className=\"modal-footer justify-content-between p-0\">\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default\"\n                  onClick={closeModal}\n                >\n                  ปิด\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-primary\"\n                  //data-dismiss={show !== \"\" ? \"modal\" : \"\"}\n                >\n                  บันทึก\n                </button>\n              </div>\n            </div>\n          </form>\n        ) : (\n          <div className=\"col-12\" style={{ textAlign: \"center\" }}>\n            <ScanInOutMessage\n              msg=\"--- กำลังค้นหาตำแหน่ง &hellip; ---\"\n              alert=\"alert alert-info\"\n            />\n          </div>\n        )}\n      </Modal>\n    </>\n  );\n}\n\nexport default geolocated({\n  positionOptions: {\n    enableHighAccuracy: false\n  },\n  userDecisionTimeout: 5000\n})(LocactionAdd);\n","import React, { useEffect } from \"react\";\nimport LocactionList from \"./LocactionList\";\nimport LocactionAdd from \"./LocactionAdd\";\nimport { toast } from \"react-toastify\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\n\nfunction Locaction() {\n  //const [data, setData] = useState([]);\n\n  const data = [];\n  // Confirm From Search\n  const onConfirm = (latitude, longitude, location) => {\n    console.log(latitude, longitude, location);\n\n    toast.success(\"ปรับปรุงข้อมูลเรียบร้อย\", {\n      position: \"top-right\",\n      autoClose: 3000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined\n    });\n  };\n\n  useEffect(() => {\n    console.log(\"Reset ...\");\n  }, []);\n\n  return (\n    <section className=\"content\" style={{ marginTop: -16 }}>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <div className=\"card\">\n              <div className=\"card-body \">\n                <LocactionAdd confirm={onConfirm} />\n                <LocactionList data={data} />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default Locaction;\n","import React from \"react\";\nimport LocactionComponent from \"../components/locaction/Locaction\";\nfunction Locaction() {\n  return (\n    <div>\n      <LocactionComponent />\n    </div>\n  );\n}\n\nexport default Locaction;\n","import React from \"react\";\n\nconst Message = (props) => {\n  return (\n    <div className=\"row\" style={{ marginBottom: 10 }}>\n      <div className=\"col-12\">\n        <div className={`${props.alert} alert-dismissible`}>\n          <h5>แจ้งเตือน !</h5>\n          {props.msg}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Message;\n"],"sourceRoot":""}