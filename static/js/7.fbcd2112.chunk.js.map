{"version":3,"sources":["../node_modules/react-geolocated/dist-modules/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../../../../../../next-server/lib/router/utils/parse-relative-url.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js","../node_modules/sdp/sdp.js","../../../../../next-server/lib/router/router.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/nonIterableRest.js","../../../client/normalize-trailing-slash.ts","../../../../../next-server/lib/i18n/normalize-locale-path.ts","../../../../next-server/lib/utils.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/objectSpread2.js","../../../../../node_modules/next/dist/compiled/path-to-regexp/index.js","../node_modules/react-qr-reader/lib/index.js","../node_modules/react-qr-reader/lib/getDeviceId.js","../node_modules/react-qr-reader/lib/errors.js","../node_modules/react-qr-reader/lib/havePropsChanged.js","../node_modules/react-qr-reader/lib/createBlob.js","../node_modules/rtcpeerconnection-shim/rtcpeerconnection.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../../../client/route-loader.ts","../../../../../node_modules/@babel/runtime/helpers/interopRequireDefault.js","../../../../../../next-server/lib/router/utils/get-asset-path-from-route.ts","../../../client/request-idle-callback.ts","../../../../next-server/server/denormalize-page-path.ts","../../../../next-server/lib/mitt.ts","../../../../../../next-server/lib/router/utils/format-url.ts","../../../../../../next-server/lib/router/utils/is-dynamic.ts","../../../../../../next-server/lib/router/utils/resolve-rewrites.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/iterableToArray.js","../../../../../../next-server/lib/router/utils/path-match.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/defineProperty.js","../../../../../../next-server/lib/router/utils/prepare-destination.ts","../../../../../../next-server/lib/router/utils/route-matcher.ts","../../../../../../next-server/lib/router/utils/route-regex.ts","../../../../../next-server/lib/i18n/detect-domain-locale.ts","../../../../../node_modules/react-is/index.js","../../../../../node_modules/react-is/cjs/react-is.production.min.js","../node_modules/webrtc-adapter/src/js/utils.js","../node_modules/webrtc-adapter/src/js/chrome/getusermedia.js","../node_modules/webrtc-adapter/src/js/chrome/getdisplaymedia.js","../node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js","../node_modules/webrtc-adapter/src/js/edge/getusermedia.js","../node_modules/webrtc-adapter/src/js/edge/getdisplaymedia.js","../node_modules/webrtc-adapter/src/js/edge/edge_shim.js","../node_modules/webrtc-adapter/src/js/edge/filtericeservers.js","../node_modules/webrtc-adapter/src/js/firefox/getusermedia.js","../node_modules/webrtc-adapter/src/js/firefox/getdisplaymedia.js","../node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js","../node_modules/webrtc-adapter/src/js/safari/safari_shim.js","../node_modules/webrtc-adapter/src/js/common_shim.js","../node_modules/webrtc-adapter/src/js/adapter_core.js","../node_modules/webrtc-adapter/src/js/adapter_factory.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray.js","../../../../../../next-server/lib/router/utils/querystring.ts"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","geoPropTypes","geolocated","_react","__esModule","cache","_getRequireWildcardCache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","_interopRequireWildcard","require","_propTypes","WeakMap","_extends","assign","target","i","arguments","length","source","apply","this","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","enumerable","configurable","writable","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","e","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","getPrototypeOf","_defineProperty","getDisplayName","WrappedComponent","concat","displayName","name","_ref","undefined","_ref$positionOptions","positionOptions","enableHighAccuracy","maximumAge","timeout","Infinity","_ref$isOptimisticGeol","isOptimisticGeolocationEnabled","_ref$userDecisionTime","userDecisionTimeout","_ref$suppressLocation","suppressLocationOnMount","_ref$watchPosition","watchPosition","_ref$geolocationProvi","geolocationProvider","navigator","geolocation","_Component","Geolocated","_super","_this","_len","args","Array","_key","coords","timestamp","isGeolocationAvailable","isGeolocationEnabled","positionError","userDecisionTimeoutId","clearTimeout","cancelUserDecisionTimeout","isCurrentlyMounted","setState","onError","position","onSuccess","getCurrentPosition","Error","funcPosition","bind","setTimeout","onPositionError","watchId","onPositionSuccess","getLocation","clearWatch","createElement","state","Component","propTypes","func","shape","latitude","number","longitude","altitude","accuracy","altitudeAccuracy","heading","speed","bool","code","oneOf","message","string","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","module","fn","err","arrayLikeToArray","minLen","n","toString","slice","from","test","url","globalBase","URL","window","resolvedBase","base","pathname","query","searchParamsToUrlQuery","search","hash","href","unsupportedIterableToArray","isArray","F","s","_e","f","it","normalCompletion","didErr","step","next","_e2","SDPUtils","Math","random","substr","localCName","generateIdentifier","splitLines","blob","trim","split","map","line","splitSections","part","index","getDescription","sections","getMediaSections","shift","matchPrefix","prefix","filter","indexOf","parseCandidate","parts","candidate","foundation","substring","component","parseInt","protocol","toLowerCase","priority","ip","address","port","type","relatedAddress","relatedPort","tcpType","ufrag","usernameFragment","writeCandidate","sdp","push","toUpperCase","join","parseIceOptions","parseRtpMap","parsed","payloadType","clockRate","channels","numChannels","writeRtpMap","codec","pt","preferredPayloadType","parseExtmap","id","direction","uri","writeExtmap","headerExtension","preferredId","parseFmtp","kv","j","writeFmtp","parameters","keys","params","forEach","param","parseRtcpFb","parameter","writeRtcpFb","lines","rtcpFeedback","fb","parseSsrcMedia","sp","ssrc","colon","attribute","parseSsrcGroup","semantics","ssrcs","getMid","mediaSection","mid","parseFingerprint","algorithm","getDtlsParameters","sessionpart","role","fingerprints","writeDtlsParameters","setupType","fp","parseCryptoLine","tag","cryptoSuite","keyParams","sessionParams","writeCryptoLine","writeCryptoKeyParams","parseCryptoKeyParams","keyMethod","keySalt","lifeTime","mkiValue","mkiLength","getCryptoParameters","getIceParameters","pwd","password","writeIceParameters","parseRtpParameters","description","codecs","headerExtensions","fecMechanisms","rtcp","mline","rtpmapline","fmtps","writeRtpDescription","kind","caps","maxptime","extension","parseRtpEncodingParameters","secondarySsrc","encodingParameters","hasRed","hasUlpfec","primarySsrc","flows","apt","encParam","codecPayloadType","rtx","JSON","parse","stringify","fec","mechanism","bandwidth","maxBitrate","parseRtcpParameters","rtcpParameters","remoteSsrc","cname","rsize","reducedSize","compound","mux","parseMsid","spec","stream","track","planB","msidParts","parseSctpDescription","maxMessageSize","parseMLine","maxSizeLine","isNaN","sctpPort","fmt","writeSctpDescription","media","sctp","output","generateSessionId","writeSessionBoilerplate","sessId","sessVer","sessUser","version","writeMediaSection","transceiver","iceGatherer","getLocalParameters","dtlsTransport","rtpSender","rtpReceiver","msid","sendEncodingParameters","getDirection","getKind","isRejected","parseOLine","username","sessionId","sessionVersion","netType","addressType","isValidSDP","charAt","process","locale","normalizeLocalePath","detectedDomain","detectDomainLocale","domainLocales","domain","basePath","buildCancellationError","cancelled","addPathPrefix","path","normalizePathTrailingSlash","pathNoQueryHash","addLocale","delLocale","queryIndex","hashIndex","hasBasePath","addBasePath","delBasePath","isLocalURL","locationOrigin","resolved","_","interpolateAs","interpolatedRoute","dynamicRegex","getRouteRegex","dynamicGroups","dynamicMatches","asPathname","getRouteMatcher","replaced","repeat","optional","segment","encodeURIComponent","omitParmsFromQuery","filteredQuery","resolveHref","currentPath","urlAsString","formatWithValidation","resolveAs","finalUrl","interpolatedAs","isDynamicRoute","resolvedHref","stripOrigin","origin","prepareUrlAs","router","hrefHadOrigin","asHadOrigin","resolvedAs","preparedUrl","preparedAs","as","resolveDynamicRoute","cleanPathname","removePathTrailingSlash","denormalizePagePath","pages","page","manualScrollRestoration","v","sessionStorage","SSG_DATA_NOT_FOUND","fetchNextData","dataHref","fetchRetry","fetch","credentials","res","attempts","data","notFound","isServerRender","markAssetError","Router","route","asPath","components","sdc","sdr","sub","clc","pageLoader","_bps","events","_wrapApp","isSsr","isFallback","_inFlightRoute","_shallow","locales","defaultLocale","isReady","isPreview","isLocaleDomain","_idx","x","y","forcedScroll","parseRelativeUrl","shallow","options","initial","__N_SSG","initialProps","__N_SSP","styleSheets","autoExportDynamic","change","localeChange","parsedAs","localePathResult","didNavigate","asNoBasePath","ST","performance","routeProps","cleanedAs","onlyAHashChange","__rewrites","urlIsNew","method","rewritesResult","routeRegex","routeMatch","shouldInterpolate","missingParams","getRouteInfo","routeInfo","destination","parsedHref","newUrl","newAs","fetchComponent","notFoundRoute","isValidShallowRoute","document","getURL","__N","idx","isAssetError","getInitialProps","console","handleRouteInfoError","existingRouteInfo","cachedRouteInfo","getDataHref","_getData","notify","newHash","oldUrlNoHash","oldHash","idEl","nameEl","_isSsg","isSsg","cancel","loadPage","componentResult","resourceKey","AppTree","ctx","loadGetInitialProps","arr","pathnameParts","detectedLocale","used","getLocationOrigin","formatUrl","hostname","isResSent","App","pageProps","SP","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptors","defineProperties","str","tokens","char","count","pattern","charCodeAt","lexer","_a","prefixes","defaultPattern","escapeString","delimiter","tryConsume","mustConsume","nextType","consumeText","suffix","modifier","name_1","pattern_1","tokensToFunction","reFlags","flags","encode","_b","validate","matches","token","RegExp","typeOfMessage","String","regexpToFunction","re","decode","m","exec","_loop_1","replace","sensitive","tokensToRegexp","strict","start","_c","end","_d","endsWith","_i","tokens_1","mod","endToken","isEndDelimited","pathToRegexp","groups","match","regexpToRegexp","paths","arrayToRegexp","stringToRegexp","compile","_class","_temp","React","PropTypes","_require","getDeviceId","havePropsChanged","getFacingModePattern","createBlob","workerBlob","propsKeys","Reader","els","mirrorVideo","initiate","initiateLegacyMode","check","handleVideo","handleLoadStart","handleInputChange","clearComponent","handleReaderLoad","openImageDialog","handleWorkerMessage","setRefFactory","worker","Worker","createObjectURL","onmessage","legacyMode","nextProps","changedProps","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","prop","delay","componentDidUpdate","return","nextState","terminate","stopCamera","reader","removeEventListener","img","facingMode","isFirefox","userAgent","supported","mediaDevices","getSupportedConstraints","constraints","ideal","frameRate","min","vConstraintsPromise","deviceId","video","getUserMedia","catch","preview","srcObject","mozSrcObject","src","webkitURL","playsInline","streamTrack","getTracks","stop","addEventListener","streamLabel","label","_props","onLoad","_state","play","_props2","resolution","_els","canvas","width","floor","naturalWidth","videoWidth","height","naturalHeight","videoHeight","hozOffset","vertOffset","ratio","_ratio","previewIsPlaying","readyState","HAVE_ENOUGH_DATA","getContext","drawImage","imageData","getImageData","postMessage","_props3","onScan","FileReader","selectedImg","files","readAsDataURL","input","click","_this2","element","_props4","style","className","onImageLoad","showViewFinder","hiddenStyle","display","previewStyle","top","left","overflow","videoPreviewStyle","objectFit","transform","imgPreviewStyle","paddingTop","zIndex","boxSizing","border","boxShadow","accept","ref","onChange","isRequired","oneOfType","any","defaultProps","NoVideoInputDevicesError","defaultDeviceIdChooser","filteredDevices","videoDevices","chooseDeviceId","enumerateDevices","devices","device","prevProps","properties","Blob","builder","BlobBuilder","MSBlobBuilder","MozBlobBuilder","WebKitBlobBuilder","append","getBlob","dtlsRole","trackId","_initialTrackId","getCommonCapabilities","localCapabilities","remoteCapabilities","commonCapabilities","findCodecByPayloadType","rtxCapabilityMatches","lRtx","rRtx","lCodecs","rCodecs","lCodec","rCodec","lHeaderExtension","rHeaderExtension","isActionAllowedInSignalingState","action","signalingState","offer","setLocalDescription","setRemoteDescription","answer","maybeAddCandidate","iceTransport","alreadyAdded","getRemoteCandidates","find","remoteCandidate","addRemoteCandidate","makeError","NotSupportedError","InvalidStateError","InvalidAccessError","OperationError","edgeVersion","addTrackToStreamAndFireEvent","addTrack","dispatchEvent","MediaStreamTrackEvent","fireAddTrack","pc","receiver","streams","trackEvent","Event","_dispatchEvent","RTCPeerConnection","config","_eventTarget","createDocumentFragment","canTrickleIceCandidates","needNegotiation","localStreams","remoteStreams","_localDescription","_remoteDescription","iceConnectionState","connectionState","iceGatheringState","usingBundle","bundlePolicy","rtcpMuxPolicy","iceTransportPolicy","iceServers","hasTurn","server","urls","warn","isString","filterIceServers","_iceGatherers","iceCandidatePoolSize","RTCIceGatherer","gatherPolicy","_config","transceivers","_sdpSessionId","_sdpSessionVersion","_dtlsRole","_isClosed","onicecandidate","onaddstream","ontrack","onremovestream","onsignalingstatechange","oniceconnectionstatechange","onconnectionstatechange","onicegatheringstatechange","onnegotiationneeded","ondatachannel","event","_emitGatheringStateChange","getConfiguration","getLocalStreams","getRemoteStreams","_createTransceiver","doNotAdd","hasBundleTransport","recvEncodingParameters","associatedRemoteMediaStreams","wantReceive","transports","_createIceAndDtlsTransports","_maybeFireNegotiationNeeded","RTCRtpSender","addStream","clonedStream","clone","clonedTrack","enabled","removeTrack","sender","t","splice","removeStream","getSenders","getReceivers","_createIceGatherer","sdpMLineIndex","bufferedCandidateEvents","bufferCandidates","_gather","onlocalcandidate","evt","sdpMid","cand","serializedCandidate","toJSON","complete","every","RTCIceTransport","onicestatechange","_updateIceConnectionState","_updateConnectionState","RTCDtlsTransport","ondtlsstatechange","onerror","_disposeIceAndDtlsTransports","_transceive","send","recv","encodings","receive","isIceLite","rejected","remoteIceParameters","remoteDtlsParameters","_updateSignalingState","receiverList","iceOptions","remoteMsid","isComplete","cands","setTransport","setRemoteCandidates","c","MediaStream","default","RTCRtpReceiver","getCapabilities","isNewTrack","nativeTrack","removeTrackFromStreamAndFireEvent","sid","item","close","newState","states","closed","checking","connected","completed","disconnected","failed","new","connecting","createOffer","numAudioTracks","numVideoTracks","offerOptions","mandatory","offerToReceiveAudio","offerToReceiveVideo","remoteCodec","hdrExt","rHdrExt","getLocalCandidates","RTCSessionDescription","createAnswer","mediaSectionsInOffer","localTrack","getAudioTracks","getVideoTracks","addIceCandidate","candidateString","getStats","selector","MediaStreamTrack","senderOrReceiver","promises","all","allStats","results","Map","stats","stat","ortcObjectName","nativeGetstats","nativeStats","mapStats","inboundrtp","outboundrtp","candidatepair","localcandidate","remotecandidate","methods","nativeMethod","_arr","_n","_s","len","arr2","ASSET_LOAD_ERROR","withFuture","entry","prom","resolver","future","generator","canPrefetch","link","hasPrefetch","resolvePromiseWithTimeout","r","requestIdleCallback","getClientBuildManifest","cb","getFilesForRoute","manifest","allFiles","assetPrefix","encodeURI","scripts","css","entrypoints","loadedScripts","routes","script","appendScript","text","content","whenEntrypoint","onEntrypoint","old","loadRoute","entrypoint","styles","prefetch","cn","ext","Date","didTimeout","timeRemaining","cancelIdleCallback","normalizePathSep","on","off","emit","handler","urlObj","host","auth","querystring","slashedProtocols","TEST_ROUTE","matchedPage","fsPathname","handleRewrite","rewrite","customRouteMatcher","matcher","hasParams","matchHas","headers","cookies","destRes","finished","rewrites","arrayWithHoles","iterableToArray","nonIterableRest","iter","matcherOptions","customRouteMatcherOptions","customRoute","matcherRegex","hasItem","req","getSafeParamName","groupKey","safeKey","parsedDestination","hadLocale","destQuery","destPath","destPathParamKeys","destPathParams","destinationCompiler","strOrArray","compileNonPath","paramKeys","appendParamsToQuery","paramName","newParamName","charCode","decodeURIComponent","slugName","g","escapeRegex","parseParameter","segments","normalizedRoute","groupIndex","parameterizedRoute","pos","routeKeyCharCode","routeKeyCharLength","routeKeys","namedParameterizedRoute","cleanedKey","invalidKey","routeKey","getSafeRouteKey","namedRegex","domainHostname","domainItem","b","for","d","h","k","l","q","w","z","a","u","$$typeof","A","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element","ForwardRef","Fragment","Lazy","Memo","Portal","Profiler","StrictMode","Suspense","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","isValidElementType","typeOf","logDisabled_","deprecationWarnings_","extractVersion","uastring","expr","wrapPeerConnectionEvent","eventNameToWrap","wrapper","proto","nativeAddEventListener","nativeEventName","wrappedCallback","modifiedEvent","handleEvent","_eventMap","nativeRemoveEventListener","unwrappedCb","delete","size","disableLog","disableWarnings","log","deprecated","oldMethod","newMethod","detectBrowser","browser","mozGetUserMedia","webkitGetUserMedia","isSecureContext","webkitRTCPeerConnection","supportsUnifiedPlan","RTCRtpTransceiver","isObject","val","compactObject","reduce","accumulator","isObj","isEmptyObject","filterStats","outbound","streamStatsType","filteredResult","trackStats","trackIdentifier","trackStat","walkStats","resultSet","logging","utils","shimGetUserMedia","browserDetails","constraintsToChrome_","cc","exact","max","oldname_","oc","mix","advanced","shimConstraints_","audio","remap","face","getSupportedFacingModeLies","dev","some","includes","shimError_","PermissionDeniedError","PermissionDismissedError","DevicesNotFoundError","ConstraintNotSatisfiedError","TrackStartError","MediaDeviceFailedDueToShutdown","MediaDeviceKillSwitchOn","TabCaptureError","ScreenCaptureError","DeviceCaptureError","constraint","constraintName","origGetUserMedia","cs","DOMException","shimGetDisplayMedia","getSourceId","getDisplayMedia","sourceId","widthSpecified","heightSpecified","frameRateSpecified","chromeMediaSource","chromeMediaSourceId","maxFrameRate","maxWidth","maxHeight","shimMediaStream","webkitMediaStream","shimOnTrack","_ontrack","origSetRemoteDescription","_ontrackpoly","te","shimGetSendersWithDtmf","shimSenderWithDtmf","_dtmf","createDTMFSender","_pc","_senders","origAddTrack","origRemoveTrack","origAddStream","origRemoveStream","origGetSenders","senders","shimGetStats","origGetStats","onSucc","onErr","fixChromeStats_","response","standardReport","report","standardStats","names","makeMapStats","successCallbackWrapper_","shimSenderReceiverGetStats","origGetReceivers","receivers","srcElement","shimAddTrackRemoveTrackWithNative","_shimmedLocalStreams","streamId","existingSenders","newSenders","newSender","shimAddTrackRemoveTrack","origGetLocalStreams","nativeStreams","_reverseStreams","_streams","newStream","alreadyExists","oldStream","methodObj","isLegacyCall","replaceInternalStreamId","origSetLocalDescription","replaceExternalStreamId","origLocalDescription","streamid","internalId","externalStream","internalStream","shimPeerConnection","RTCIceCandidate","fixNegotiationNeeded","sdpSemantics","origMSTEnabled","ev","RTCDtmfSender","RTCDTMFSender","RTCPeerConnectionShim","shimRTCPeerConnection","validTurn","startsWith","shimReplaceTrack","replaceTrack","setTrack","nativeGetUserMedia","getSettings","nativeGetSettings","applyConstraints","nativeApplyConstraints","preferredMediaSource","mediaSource","RTCTrackEvent","mozRTCPeerConnection","modernStatsTypes","nativeGetStats","shimSenderGetStats","shimReceiverGetStats","shimRemoveStream","shimRTCDataChannel","DataChannel","RTCDataChannel","shimAddTransceiver","origAddTransceiver","addTransceiver","setParametersPromises","initParameters","shouldPerformCheck","sendEncodings","encodingParam","rid","parseFloat","scaleResolutionDownBy","RangeError","maxFramerate","getParameters","setParameters","shimGetParameters","origGetParameters","shimCreateOffer","origCreateOffer","finally","shimCreateAnswer","origCreateAnswer","shimLocalStreamsAPI","_localStreams","_addTrack","tracks","shimRemoteStreamsAPI","_remoteStreams","_onaddstream","_onaddstreampoly","shimCallbacksAPI","successCallback","failureCallback","promise","withCallback","_getUserMedia","shimConstraints","errcb","shimRTCIceServerUrls","OrigPeerConnection","pcConfig","pcConstraints","newIceServers","generateCertificate","shimTrackEventTransceiver","shimCreateOfferLegacy","audioTransceiver","getTransceivers","setDirection","videoTransceiver","shimAudioContext","AudioContext","webkitAudioContext","shimRTCIceCandidate","NativeRTCIceCandidate","nativeCandidate","parsedCandidate","augmentedCandidate","shimMaxMessageSize","_sctp","sctpInDescription","mLine","getRemoteFirefoxVersion","getCanSendMaxMessageSize","remoteIsFirefox","canSendMaxMessageSize","getMaxMessageSize","canSendMMS","remoteMMS","Number","POSITIVE_INFINITY","shimSendThrowTypeError","origCreateDataChannel","createDataChannel","dataChannel","wrapDcSend","channel","dc","origDataChannelSend","byteLength","shimConnectionState","_onconnectionstatechange","origMethod","_connectionstatechangepoly","_lastConnectionState","newEvent","removeExtmapAllowMixed","nativeSRD","shimAddIceCandidateNullOrEmpty","nativeAddIceCandidate","adapter","shimChrome","shimFirefox","shimEdge","shimSafari","commonShim","chromeShim","browserShim","firefoxShim","edgeShim","safariShim","adapterFactory","iterableToArrayLimit","stringifyUrlQueryParam","searchParams","searchParamsList"],"mappings":"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","file":"static/js/7.fbcd2112.chunk.js","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.geoPropTypes = exports.geolocated = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar getDisplayName = function getDisplayName(WrappedComponent) {\n  return \"Geolocated(\".concat(WrappedComponent.displayName || WrappedComponent.name || \"Component\", \")\");\n};\n\nvar geolocated = function geolocated() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$positionOptions = _ref.positionOptions,\n      positionOptions = _ref$positionOptions === void 0 ? {\n    enableHighAccuracy: true,\n    maximumAge: 0,\n    timeout: Infinity\n  } : _ref$positionOptions,\n      _ref$isOptimisticGeol = _ref.isOptimisticGeolocationEnabled,\n      isOptimisticGeolocationEnabled = _ref$isOptimisticGeol === void 0 ? true : _ref$isOptimisticGeol,\n      _ref$userDecisionTime = _ref.userDecisionTimeout,\n      userDecisionTimeout = _ref$userDecisionTime === void 0 ? null : _ref$userDecisionTime,\n      _ref$suppressLocation = _ref.suppressLocationOnMount,\n      suppressLocationOnMount = _ref$suppressLocation === void 0 ? false : _ref$suppressLocation,\n      _ref$watchPosition = _ref.watchPosition,\n      watchPosition = _ref$watchPosition === void 0 ? false : _ref$watchPosition,\n      _ref$geolocationProvi = _ref.geolocationProvider,\n      geolocationProvider = _ref$geolocationProvi === void 0 ? typeof navigator !== \"undefined\" && navigator.geolocation : _ref$geolocationProvi;\n\n  return function (WrappedComponent) {\n    var result = /*#__PURE__*/function (_Component) {\n      _inherits(Geolocated, _Component);\n\n      var _super = _createSuper(Geolocated);\n\n      function Geolocated() {\n        var _this;\n\n        _classCallCheck(this, Geolocated);\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _super.call.apply(_super, [this].concat(args));\n\n        _defineProperty(_assertThisInitialized(_this), \"isCurrentlyMounted\", false);\n\n        _defineProperty(_assertThisInitialized(_this), \"state\", {\n          coords: null,\n          timestamp: null,\n          isGeolocationAvailable: Boolean(geolocationProvider),\n          isGeolocationEnabled: isOptimisticGeolocationEnabled,\n          positionError: null\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"cancelUserDecisionTimeout\", function () {\n          if (_this.userDecisionTimeoutId) {\n            clearTimeout(_this.userDecisionTimeoutId);\n          }\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"onPositionError\", function (positionError) {\n          _this.cancelUserDecisionTimeout();\n\n          if (_this.isCurrentlyMounted) {\n            _this.setState({\n              coords: null,\n              isGeolocationEnabled: false,\n              positionError: positionError\n            });\n          }\n\n          if (_this.props.onError) {\n            _this.props.onError(positionError);\n          }\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"onPositionSuccess\", function (position) {\n          _this.cancelUserDecisionTimeout();\n\n          if (_this.isCurrentlyMounted) {\n            _this.setState({\n              coords: position.coords,\n              timestamp: position.timestamp,\n              isGeolocationEnabled: true,\n              positionError: null\n            });\n          }\n\n          if (_this.props.onSuccess) {\n            _this.props.onSuccess(position);\n          }\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"getLocation\", function () {\n          if (!geolocationProvider || !geolocationProvider.getCurrentPosition || !geolocationProvider.watchPosition) {\n            throw new Error(\"The provided geolocation provider is invalid\");\n          }\n\n          var funcPosition = (watchPosition ? geolocationProvider.watchPosition : geolocationProvider.getCurrentPosition).bind(geolocationProvider);\n\n          if (userDecisionTimeout) {\n            _this.userDecisionTimeoutId = setTimeout(function () {\n              _this.onPositionError();\n            }, userDecisionTimeout);\n          }\n\n          _this.watchId = funcPosition(_this.onPositionSuccess, _this.onPositionError, positionOptions);\n        });\n\n        return _this;\n      }\n\n      _createClass(Geolocated, [{\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.isCurrentlyMounted = true;\n\n          if (!suppressLocationOnMount) {\n            this.getLocation();\n          }\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.isCurrentlyMounted = false;\n          this.cancelUserDecisionTimeout();\n\n          if (watchPosition) {\n            geolocationProvider.clearWatch(this.watchId);\n          }\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          return /*#__PURE__*/_react[\"default\"].createElement(WrappedComponent, _extends({}, this.state, this.props));\n        }\n      }]);\n\n      return Geolocated;\n    }(_react.Component);\n\n    result.displayName = getDisplayName(WrappedComponent);\n    result.propTypes = {\n      onError: _propTypes[\"default\"].func,\n      onSuccess: _propTypes[\"default\"].func\n    };\n    return result;\n  };\n};\n\nexports.geolocated = geolocated;\nvar geoPropTypes = {\n  coords: _propTypes[\"default\"].shape({\n    latitude: _propTypes[\"default\"].number,\n    longitude: _propTypes[\"default\"].number,\n    altitude: _propTypes[\"default\"].number,\n    accuracy: _propTypes[\"default\"].number,\n    altitudeAccuracy: _propTypes[\"default\"].number,\n    heading: _propTypes[\"default\"].number,\n    speed: _propTypes[\"default\"].number\n  }),\n  timestamp: _propTypes[\"default\"].number,\n  isGeolocationAvailable: _propTypes[\"default\"].bool,\n  isGeolocationEnabled: _propTypes[\"default\"].bool,\n  positionError: _propTypes[\"default\"].shape({\n    code: _propTypes[\"default\"].oneOf([1, 2, 3]),\n    message: _propTypes[\"default\"].string\n  }),\n  watchPosition: _propTypes[\"default\"].bool\n};\nexports.geoPropTypes = geoPropTypes;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","import { getLocationOrigin } from '../../utils'\nimport { searchParamsToUrlQuery } from './querystring'\n\n/**\n * Parses path-relative urls (e.g. `/hello/world?foo=bar`). If url isn't path-relative\n * (e.g. `./hello`) then at least base must be.\n * Absolute urls are rejected with one exception, in the browser, absolute urls that are on\n * the current origin will be parsed as relative\n */\nexport function parseRelativeUrl(url: string, base?: string) {\n  const globalBase = new URL(\n    typeof window === 'undefined' ? 'http://n' : getLocationOrigin()\n  )\n  const resolvedBase = base ? new URL(base, globalBase) : globalBase\n  const { pathname, searchParams, search, hash, href, origin } = new URL(\n    url,\n    resolvedBase\n  )\n  if (origin !== globalBase.origin) {\n    throw new Error(`invariant: invalid relative URL, router received ${url}`)\n  }\n  return {\n    pathname,\n    query: searchParamsToUrlQuery(searchParams),\n    search,\n    hash,\n    href: href.slice(globalBase.origin.length),\n  }\n}\n","var unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nfunction _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nmodule.exports = _createForOfIteratorHelper;","/* eslint-env node */\n'use strict';\n\n// SDP helpers.\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(function(line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function(part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// returns the session description.\nSDPUtils.getDescription = function(blob) {\n  var sections = SDPUtils.splitSections(blob);\n  return sections && sections[0];\n};\n\n// returns the individual media sections.\nSDPUtils.getMediaSections = function(blob) {\n  var sections = SDPUtils.splitSections(blob);\n  sections.shift();\n  return sections;\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function(line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\nSDPUtils.parseCandidate = function(line) {\n  var parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: parseInt(parts[1], 10),\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    address: parts[4], // address is an alias for ip.\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      case 'ufrag':\n        candidate.ufrag = parts[i + 1]; // for backward compability.\n        candidate.usernameFragment = parts[i + 1];\n        break;\n      default: // extension handling, in particular ufrag\n        candidate[parts[i]] = parts[i + 1];\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\nSDPUtils.writeCandidate = function(candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n  sdp.push(candidate.component);\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.address || candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress);\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort);\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  if (candidate.usernameFragment || candidate.ufrag) {\n    sdp.push('ufrag');\n    sdp.push(candidate.usernameFragment || candidate.ufrag);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an ice-options line, returns an array of option tags.\n// a=ice-options:foo bar\nSDPUtils.parseIceOptions = function(line) {\n  return line.substr(14).split(' ');\n};\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  var parts = line.substr(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  parsed.channels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  // legacy alias, got renamed back to channels in ORTC.\n  parsed.numChannels = parsed.channels;\n  return parsed;\n};\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  var channels = codec.channels || codec.numChannels || 1;\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (channels !== 1 ? '/' + channels : '') + '\\r\\n';\n};\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n    uri: parts[1]\n  };\n};\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n      (headerExtension.direction && headerExtension.direction !== 'sendrecv'\n        ? '/' + headerExtension.direction\n        : '') +\n      ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  var parsed = {};\n  var kv;\n  var parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function(param) {\n      if (codec.parameters[param]) {\n        params.push(param + '=' + codec.parameters[param]);\n      } else {\n        params.push(param);\n      }\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function(fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\nSDPUtils.parseSsrcGroup = function(line) {\n  var parts = line.substr(13).split(' ');\n  return {\n    semantics: parts.shift(),\n    ssrcs: parts.map(function(ssrc) {\n      return parseInt(ssrc, 10);\n    })\n  };\n};\n\n// Extracts the MID (RFC 5888) from a media section.\n// returns the MID or undefined if no mid line was found.\nSDPUtils.getMid = function(mediaSection) {\n  var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n  if (mid) {\n    return mid.substr(6);\n  }\n};\n\nSDPUtils.parseFingerprint = function(line) {\n  var parts = line.substr(14).split(' ');\n  return {\n    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.\n    value: parts[1]\n  };\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n    'a=fingerprint:');\n  // Note: a=setup line is ignored since we use the 'auto' role.\n  // Note2: 'algorithm' is not case sensitive except in Edge.\n  return {\n    role: 'auto',\n    fingerprints: lines.map(SDPUtils.parseFingerprint)\n  };\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function(fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n\n// Parses a=crypto lines into\n//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#dictionary-rtcsrtpsdesparameters-members\nSDPUtils.parseCryptoLine = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    tag: parseInt(parts[0], 10),\n    cryptoSuite: parts[1],\n    keyParams: parts[2],\n    sessionParams: parts.slice(3),\n  };\n};\n\nSDPUtils.writeCryptoLine = function(parameters) {\n  return 'a=crypto:' + parameters.tag + ' ' +\n    parameters.cryptoSuite + ' ' +\n    (typeof parameters.keyParams === 'object'\n      ? SDPUtils.writeCryptoKeyParams(parameters.keyParams)\n      : parameters.keyParams) +\n    (parameters.sessionParams ? ' ' + parameters.sessionParams.join(' ') : '') +\n    '\\r\\n';\n};\n\n// Parses the crypto key parameters into\n//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#rtcsrtpkeyparam*\nSDPUtils.parseCryptoKeyParams = function(keyParams) {\n  if (keyParams.indexOf('inline:') !== 0) {\n    return null;\n  }\n  var parts = keyParams.substr(7).split('|');\n  return {\n    keyMethod: 'inline',\n    keySalt: parts[0],\n    lifeTime: parts[1],\n    mkiValue: parts[2] ? parts[2].split(':')[0] : undefined,\n    mkiLength: parts[2] ? parts[2].split(':')[1] : undefined,\n  };\n};\n\nSDPUtils.writeCryptoKeyParams = function(keyParams) {\n  return keyParams.keyMethod + ':'\n    + keyParams.keySalt +\n    (keyParams.lifeTime ? '|' + keyParams.lifeTime : '') +\n    (keyParams.mkiValue && keyParams.mkiLength\n      ? '|' + keyParams.mkiValue + ':' + keyParams.mkiLength\n      : '');\n};\n\n// Extracts all SDES paramters.\nSDPUtils.getCryptoParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n    'a=crypto:');\n  return lines.map(SDPUtils.parseCryptoLine);\n};\n\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  var ufrag = SDPUtils.matchPrefix(mediaSection + sessionpart,\n    'a=ice-ufrag:')[0];\n  var pwd = SDPUtils.matchPrefix(mediaSection + sessionpart,\n    'a=ice-pwd:')[0];\n  if (!(ufrag && pwd)) {\n    return null;\n  }\n  return {\n    usernameFragment: ufrag.substr(12),\n    password: pwd.substr(10),\n  };\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(\n      mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(\n        mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(function(codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function(codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  var maxptime = 0;\n  caps.codecs.forEach(function(codec) {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n  sdp += 'a=rtcp-mux\\r\\n';\n\n  if (caps.headerExtensions) {\n    caps.headerExtensions.forEach(function(extension) {\n      sdp += SDPUtils.writeExtmap(extension);\n    });\n  }\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n    .map(function(line) {\n      return SDPUtils.parseSsrcMedia(line);\n    })\n    .filter(function(parts) {\n      return parts.attribute === 'cname';\n    });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n    .map(function(line) {\n      var parts = line.substr(17).split(' ');\n      return parts.map(function(part) {\n        return parseInt(part, 10);\n      });\n    });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function(codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10)\n      };\n      if (primarySsrc && secondarySsrc) {\n        encParam.rtx = {ssrc: secondarySsrc};\n      }\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: primarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      // use formula from JSEP to convert b=AS to TIAS value.\n      bandwidth = parseInt(bandwidth[0].substr(5), 10) * 1000 * 0.95\n          - (50 * 40 * 8);\n    } else {\n      bandwidth = undefined;\n    }\n    encodingParameters.forEach(function(params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function(mediaSection) {\n  var rtcpParameters = {};\n\n  // Gets the first SSRC. Note tha with RTX there might be multiple\n  // SSRCs.\n  var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n    .map(function(line) {\n      return SDPUtils.parseSsrcMedia(line);\n    })\n    .filter(function(obj) {\n      return obj.attribute === 'cname';\n    })[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrіbute.\n  // Note that Edge does not support unmuxed RTCP.\n  var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function(mediaSection) {\n  var parts;\n  var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substr(7).split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n  var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n    .map(function(line) {\n      return SDPUtils.parseSsrcMedia(line);\n    })\n    .filter(function(msidParts) {\n      return msidParts.attribute === 'msid';\n    });\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n};\n\n// SCTP\n// parses draft-ietf-mmusic-sctp-sdp-26 first and falls back\n// to draft-ietf-mmusic-sctp-sdp-05\nSDPUtils.parseSctpDescription = function(mediaSection) {\n  var mline = SDPUtils.parseMLine(mediaSection);\n  var maxSizeLine = SDPUtils.matchPrefix(mediaSection, 'a=max-message-size:');\n  var maxMessageSize;\n  if (maxSizeLine.length > 0) {\n    maxMessageSize = parseInt(maxSizeLine[0].substr(19), 10);\n  }\n  if (isNaN(maxMessageSize)) {\n    maxMessageSize = 65536;\n  }\n  var sctpPort = SDPUtils.matchPrefix(mediaSection, 'a=sctp-port:');\n  if (sctpPort.length > 0) {\n    return {\n      port: parseInt(sctpPort[0].substr(12), 10),\n      protocol: mline.fmt,\n      maxMessageSize: maxMessageSize\n    };\n  }\n  var sctpMapLines = SDPUtils.matchPrefix(mediaSection, 'a=sctpmap:');\n  if (sctpMapLines.length > 0) {\n    var parts = SDPUtils.matchPrefix(mediaSection, 'a=sctpmap:')[0]\n      .substr(10)\n      .split(' ');\n    return {\n      port: parseInt(parts[0], 10),\n      protocol: parts[1],\n      maxMessageSize: maxMessageSize\n    };\n  }\n};\n\n// SCTP\n// outputs the draft-ietf-mmusic-sctp-sdp-26 version that all browsers\n// support by now receiving in this format, unless we originally parsed\n// as the draft-ietf-mmusic-sctp-sdp-05 format (indicated by the m-line\n// protocol of DTLS/SCTP -- without UDP/ or TCP/)\nSDPUtils.writeSctpDescription = function(media, sctp) {\n  var output = [];\n  if (media.protocol !== 'DTLS/SCTP') {\n    output = [\n      'm=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.protocol + '\\r\\n',\n      'c=IN IP4 0.0.0.0\\r\\n',\n      'a=sctp-port:' + sctp.port + '\\r\\n'\n    ];\n  } else {\n    output = [\n      'm=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.port + '\\r\\n',\n      'c=IN IP4 0.0.0.0\\r\\n',\n      'a=sctpmap:' + sctp.port + ' ' + sctp.protocol + ' 65535\\r\\n'\n    ];\n  }\n  if (sctp.maxMessageSize !== undefined) {\n    output.push('a=max-message-size:' + sctp.maxMessageSize + '\\r\\n');\n  }\n  return output.join('');\n};\n\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\nSDPUtils.generateSessionId = function() {\n  return Math.random().toString().substr(2, 21);\n};\n\n// Write boilder plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\n// sessUser is optional and defaults to 'thisisadapterortc'\nSDPUtils.writeSessionBoilerplate = function(sessId, sessVer, sessUser) {\n  var sessionId;\n  var version = sessVer !== undefined ? sessVer : 2;\n  if (sessId) {\n    sessionId = sessId;\n  } else {\n    sessionId = SDPUtils.generateSessionId();\n  }\n  var user = sessUser || 'thisisadapterortc';\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=' + user + ' ' + sessionId + ' ' + version +\n        ' IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\nSDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n    transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n    transceiver.dtlsTransport.getLocalParameters(),\n    type === 'offer' ? 'actpass' : 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.direction) {\n    sdp += 'a=' + transceiver.direction + '\\r\\n';\n  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return mline[0].substr(2);\n};\n\nSDPUtils.isRejected = function(mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\nSDPUtils.parseMLine = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var parts = lines[0].substr(2).split(' ');\n  return {\n    kind: parts[0],\n    port: parseInt(parts[1], 10),\n    protocol: parts[2],\n    fmt: parts.slice(3).join(' ')\n  };\n};\n\nSDPUtils.parseOLine = function(mediaSection) {\n  var line = SDPUtils.matchPrefix(mediaSection, 'o=')[0];\n  var parts = line.substr(2).split(' ');\n  return {\n    username: parts[0],\n    sessionId: parts[1],\n    sessionVersion: parseInt(parts[2], 10),\n    netType: parts[3],\n    addressType: parts[4],\n    address: parts[5]\n  };\n};\n\n// a very naive interpretation of a valid SDP.\nSDPUtils.isValidSDP = function(blob) {\n  if (typeof blob !== 'string' || blob.length === 0) {\n    return false;\n  }\n  var lines = SDPUtils.splitLines(blob);\n  for (var i = 0; i < lines.length; i++) {\n    if (lines[i].length < 2 || lines[i].charAt(1) !== '=') {\n      return false;\n    }\n    // TODO: check the modifier a bit more.\n  }\n  return true;\n};\n\n// Expose public methods.\nif (typeof module === 'object') {\n  module.exports = SDPUtils;\n}\n","/* global __NEXT_DATA__ */\n// tslint:disable:no-console\nimport { ParsedUrlQuery } from 'querystring'\nimport { ComponentType } from 'react'\nimport { UrlObject } from 'url'\nimport {\n  normalizePathTrailingSlash,\n  removePathTrailingSlash,\n} from '../../../client/normalize-trailing-slash'\nimport { GoodPageCache, StyleSheetTuple } from '../../../client/page-loader'\nimport {\n  getClientBuildManifest,\n  isAssetError,\n  markAssetError,\n} from '../../../client/route-loader'\nimport { DomainLocales } from '../../server/config'\nimport { denormalizePagePath } from '../../server/denormalize-page-path'\nimport { normalizeLocalePath } from '../i18n/normalize-locale-path'\nimport mitt, { MittEmitter } from '../mitt'\nimport {\n  AppContextType,\n  formatWithValidation,\n  getLocationOrigin,\n  getURL,\n  loadGetInitialProps,\n  NextPageContext,\n  ST,\n  NEXT_DATA,\n} from '../utils'\nimport { isDynamicRoute } from './utils/is-dynamic'\nimport { parseRelativeUrl } from './utils/parse-relative-url'\nimport { searchParamsToUrlQuery } from './utils/querystring'\nimport resolveRewrites from './utils/resolve-rewrites'\nimport { getRouteMatcher } from './utils/route-matcher'\nimport { getRouteRegex } from './utils/route-regex'\n\ndeclare global {\n  interface Window {\n    /* prod */\n    __NEXT_DATA__: NEXT_DATA\n  }\n}\n\ninterface RouteProperties {\n  shallow: boolean\n}\n\ninterface TransitionOptions {\n  shallow?: boolean\n  locale?: string | false\n  scroll?: boolean\n}\n\ninterface NextHistoryState {\n  url: string\n  as: string\n  options: TransitionOptions\n}\n\ntype HistoryState =\n  | null\n  | { __N: false }\n  | ({ __N: true; idx: number } & NextHistoryState)\n\nlet detectDomainLocale: typeof import('../i18n/detect-domain-locale').detectDomainLocale\n\nif (process.env.__NEXT_I18N_SUPPORT) {\n  detectDomainLocale = require('../i18n/detect-domain-locale')\n    .detectDomainLocale\n}\n\nconst basePath = (process.env.__NEXT_ROUTER_BASEPATH as string) || ''\n\nfunction buildCancellationError() {\n  return Object.assign(new Error('Route Cancelled'), {\n    cancelled: true,\n  })\n}\n\nfunction addPathPrefix(path: string, prefix?: string) {\n  return prefix && path.startsWith('/')\n    ? path === '/'\n      ? normalizePathTrailingSlash(prefix)\n      : `${prefix}${pathNoQueryHash(path) === '/' ? path.substring(1) : path}`\n    : path\n}\n\nexport function getDomainLocale(\n  path: string,\n  locale?: string | false,\n  locales?: string[],\n  domainLocales?: DomainLocales\n) {\n  if (process.env.__NEXT_I18N_SUPPORT) {\n    locale = locale || normalizeLocalePath(path, locales).detectedLocale\n\n    const detectedDomain = detectDomainLocale(domainLocales, undefined, locale)\n\n    if (detectedDomain) {\n      return `http${detectedDomain.http ? '' : 's'}://${detectedDomain.domain}${\n        basePath || ''\n      }${locale === detectedDomain.defaultLocale ? '' : `/${locale}`}${path}`\n    }\n    return false\n  }\n\n  return false\n}\n\nexport function addLocale(\n  path: string,\n  locale?: string | false,\n  defaultLocale?: string\n) {\n  if (process.env.__NEXT_I18N_SUPPORT) {\n    return locale &&\n      locale !== defaultLocale &&\n      !path.startsWith('/' + locale + '/') &&\n      path !== '/' + locale\n      ? addPathPrefix(path, '/' + locale)\n      : path\n  }\n  return path\n}\n\nexport function delLocale(path: string, locale?: string) {\n  if (process.env.__NEXT_I18N_SUPPORT) {\n    return locale &&\n      (path.startsWith('/' + locale + '/') || path === '/' + locale)\n      ? path.substr(locale.length + 1) || '/'\n      : path\n  }\n  return path\n}\n\nfunction pathNoQueryHash(path: string) {\n  const queryIndex = path.indexOf('?')\n  const hashIndex = path.indexOf('#')\n\n  if (queryIndex > -1 || hashIndex > -1) {\n    path = path.substring(0, queryIndex > -1 ? queryIndex : hashIndex)\n  }\n  return path\n}\n\nexport function hasBasePath(path: string): boolean {\n  path = pathNoQueryHash(path)\n  return path === basePath || path.startsWith(basePath + '/')\n}\n\nexport function addBasePath(path: string): string {\n  // we only add the basepath on relative urls\n  return addPathPrefix(path, basePath)\n}\n\nexport function delBasePath(path: string): string {\n  path = path.slice(basePath.length)\n  if (!path.startsWith('/')) path = `/${path}`\n  return path\n}\n\n/**\n * Detects whether a given url is routable by the Next.js router (browser only).\n */\nexport function isLocalURL(url: string): boolean {\n  // prevent a hydration mismatch on href for url with anchor refs\n  if (url.startsWith('/') || url.startsWith('#')) return true\n  try {\n    // absolute urls can be local if they are on the same origin\n    const locationOrigin = getLocationOrigin()\n    const resolved = new URL(url, locationOrigin)\n    return resolved.origin === locationOrigin && hasBasePath(resolved.pathname)\n  } catch (_) {\n    return false\n  }\n}\n\ntype Url = UrlObject | string\n\nexport function interpolateAs(\n  route: string,\n  asPathname: string,\n  query: ParsedUrlQuery\n) {\n  let interpolatedRoute = ''\n\n  const dynamicRegex = getRouteRegex(route)\n  const dynamicGroups = dynamicRegex.groups\n  const dynamicMatches =\n    // Try to match the dynamic route against the asPath\n    (asPathname !== route ? getRouteMatcher(dynamicRegex)(asPathname) : '') ||\n    // Fall back to reading the values from the href\n    // TODO: should this take priority; also need to change in the router.\n    query\n\n  interpolatedRoute = route\n  const params = Object.keys(dynamicGroups)\n\n  if (\n    !params.every((param) => {\n      let value = dynamicMatches[param] || ''\n      const { repeat, optional } = dynamicGroups[param]\n\n      // support single-level catch-all\n      // TODO: more robust handling for user-error (passing `/`)\n      let replaced = `[${repeat ? '...' : ''}${param}]`\n      if (optional) {\n        replaced = `${!value ? '/' : ''}[${replaced}]`\n      }\n      if (repeat && !Array.isArray(value)) value = [value]\n\n      return (\n        (optional || param in dynamicMatches) &&\n        // Interpolate group into data URL if present\n        (interpolatedRoute =\n          interpolatedRoute!.replace(\n            replaced,\n            repeat\n              ? (value as string[])\n                  .map(\n                    // these values should be fully encoded instead of just\n                    // path delimiter escaped since they are being inserted\n                    // into the URL and we expect URL encoded segments\n                    // when parsing dynamic route params\n                    (segment) => encodeURIComponent(segment)\n                  )\n                  .join('/')\n              : encodeURIComponent(value as string)\n          ) || '/')\n      )\n    })\n  ) {\n    interpolatedRoute = '' // did not satisfy all requirements\n\n    // n.b. We ignore this error because we handle warning for this case in\n    // development in the `<Link>` component directly.\n  }\n  return {\n    params,\n    result: interpolatedRoute,\n  }\n}\n\nfunction omitParmsFromQuery(query: ParsedUrlQuery, params: string[]) {\n  const filteredQuery: ParsedUrlQuery = {}\n\n  Object.keys(query).forEach((key) => {\n    if (!params.includes(key)) {\n      filteredQuery[key] = query[key]\n    }\n  })\n  return filteredQuery\n}\n\n/**\n * Resolves a given hyperlink with a certain router state (basePath not included).\n * Preserves absolute urls.\n */\nexport function resolveHref(\n  currentPath: string,\n  href: Url,\n  resolveAs?: boolean\n): string {\n  // we use a dummy base url for relative urls\n  const base = new URL(currentPath, 'http://n')\n  const urlAsString =\n    typeof href === 'string' ? href : formatWithValidation(href)\n  // Return because it cannot be routed by the Next.js router\n  if (!isLocalURL(urlAsString)) {\n    return (resolveAs ? [urlAsString] : urlAsString) as string\n  }\n  try {\n    const finalUrl = new URL(urlAsString, base)\n    finalUrl.pathname = normalizePathTrailingSlash(finalUrl.pathname)\n    let interpolatedAs = ''\n\n    if (\n      isDynamicRoute(finalUrl.pathname) &&\n      finalUrl.searchParams &&\n      resolveAs\n    ) {\n      const query = searchParamsToUrlQuery(finalUrl.searchParams)\n\n      const { result, params } = interpolateAs(\n        finalUrl.pathname,\n        finalUrl.pathname,\n        query\n      )\n\n      if (result) {\n        interpolatedAs = formatWithValidation({\n          pathname: result,\n          hash: finalUrl.hash,\n          query: omitParmsFromQuery(query, params),\n        })\n      }\n    }\n\n    // if the origin didn't change, it means we received a relative href\n    const resolvedHref =\n      finalUrl.origin === base.origin\n        ? finalUrl.href.slice(finalUrl.origin.length)\n        : finalUrl.href\n\n    return (resolveAs\n      ? [resolvedHref, interpolatedAs || resolvedHref]\n      : resolvedHref) as string\n  } catch (_) {\n    return (resolveAs ? [urlAsString] : urlAsString) as string\n  }\n}\n\nfunction stripOrigin(url: string) {\n  const origin = getLocationOrigin()\n\n  return url.startsWith(origin) ? url.substring(origin.length) : url\n}\n\nfunction prepareUrlAs(router: NextRouter, url: Url, as?: Url) {\n  // If url and as provided as an object representation,\n  // we'll format them into the string version here.\n  let [resolvedHref, resolvedAs] = resolveHref(router.pathname, url, true)\n  const origin = getLocationOrigin()\n  const hrefHadOrigin = resolvedHref.startsWith(origin)\n  const asHadOrigin = resolvedAs && resolvedAs.startsWith(origin)\n\n  resolvedHref = stripOrigin(resolvedHref)\n  resolvedAs = resolvedAs ? stripOrigin(resolvedAs) : resolvedAs\n\n  const preparedUrl = hrefHadOrigin ? resolvedHref : addBasePath(resolvedHref)\n  const preparedAs = as\n    ? stripOrigin(resolveHref(router.pathname, as))\n    : resolvedAs || resolvedHref\n\n  return {\n    url: preparedUrl,\n    as: asHadOrigin ? preparedAs : addBasePath(preparedAs),\n  }\n}\n\nfunction resolveDynamicRoute(pathname: string, pages: string[]) {\n  const cleanPathname = removePathTrailingSlash(denormalizePagePath(pathname!))\n\n  if (cleanPathname === '/404' || cleanPathname === '/_error') {\n    return pathname\n  }\n\n  // handle resolving href for dynamic routes\n  if (!pages.includes(cleanPathname!)) {\n    // eslint-disable-next-line array-callback-return\n    pages.some((page) => {\n      if (isDynamicRoute(page) && getRouteRegex(page).re.test(cleanPathname!)) {\n        pathname = page\n        return true\n      }\n    })\n  }\n  return removePathTrailingSlash(pathname)\n}\n\nexport type BaseRouter = {\n  route: string\n  pathname: string\n  query: ParsedUrlQuery\n  asPath: string\n  basePath: string\n  locale?: string\n  locales?: string[]\n  defaultLocale?: string\n  domainLocales?: DomainLocales\n  isLocaleDomain: boolean\n}\n\nexport type NextRouter = BaseRouter &\n  Pick<\n    Router,\n    | 'push'\n    | 'replace'\n    | 'reload'\n    | 'back'\n    | 'prefetch'\n    | 'beforePopState'\n    | 'events'\n    | 'isFallback'\n    | 'isReady'\n    | 'isPreview'\n  >\n\nexport type PrefetchOptions = {\n  priority?: boolean\n  locale?: string | false\n}\n\nexport type PrivateRouteInfo =\n  | (Omit<CompletePrivateRouteInfo, 'styleSheets'> & { initial: true })\n  | CompletePrivateRouteInfo\n\nexport type CompletePrivateRouteInfo = {\n  Component: ComponentType\n  styleSheets: StyleSheetTuple[]\n  __N_SSG?: boolean\n  __N_SSP?: boolean\n  props?: Record<string, any>\n  err?: Error\n  error?: any\n}\n\nexport type AppProps = Pick<CompletePrivateRouteInfo, 'Component' | 'err'> & {\n  router: Router\n} & Record<string, any>\nexport type AppComponent = ComponentType<AppProps>\n\ntype Subscription = (\n  data: PrivateRouteInfo,\n  App: AppComponent,\n  resetScroll: { x: number; y: number } | null\n) => Promise<void>\n\ntype BeforePopStateCallback = (state: NextHistoryState) => boolean\n\ntype ComponentLoadCancel = (() => void) | null\n\ntype HistoryMethod = 'replaceState' | 'pushState'\n\nconst manualScrollRestoration =\n  process.env.__NEXT_SCROLL_RESTORATION &&\n  typeof window !== 'undefined' &&\n  'scrollRestoration' in window.history &&\n  !!(function () {\n    try {\n      let v = '__next'\n      // eslint-disable-next-line no-sequences\n      return sessionStorage.setItem(v, v), sessionStorage.removeItem(v), true\n    } catch (n) {}\n  })()\n\nconst SSG_DATA_NOT_FOUND = Symbol('SSG_DATA_NOT_FOUND')\n\nfunction fetchRetry(url: string, attempts: number): Promise<any> {\n  return fetch(url, {\n    // Cookies are required to be present for Next.js' SSG \"Preview Mode\".\n    // Cookies may also be required for `getServerSideProps`.\n    //\n    // > `fetch` won’t send cookies, unless you set the credentials init\n    // > option.\n    // https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\n    //\n    // > For maximum browser compatibility when it comes to sending &\n    // > receiving cookies, always supply the `credentials: 'same-origin'`\n    // > option instead of relying on the default.\n    // https://github.com/github/fetch#caveats\n    credentials: 'same-origin',\n  }).then((res) => {\n    if (!res.ok) {\n      if (attempts > 1 && res.status >= 500) {\n        return fetchRetry(url, attempts - 1)\n      }\n      if (res.status === 404) {\n        return res.json().then((data) => {\n          if (data.notFound) {\n            return { notFound: SSG_DATA_NOT_FOUND }\n          }\n          throw new Error(`Failed to load static props`)\n        })\n      }\n      throw new Error(`Failed to load static props`)\n    }\n    return res.json()\n  })\n}\n\nfunction fetchNextData(dataHref: string, isServerRender: boolean) {\n  return fetchRetry(dataHref, isServerRender ? 3 : 1).catch((err: Error) => {\n    // We should only trigger a server-side transition if this was caused\n    // on a client-side transition. Otherwise, we'd get into an infinite\n    // loop.\n\n    if (!isServerRender) {\n      markAssetError(err)\n    }\n    throw err\n  })\n}\n\nexport default class Router implements BaseRouter {\n  route: string\n  pathname: string\n  query: ParsedUrlQuery\n  asPath: string\n  basePath: string\n\n  /**\n   * Map of all components loaded in `Router`\n   */\n  components: { [pathname: string]: PrivateRouteInfo }\n  // Static Data Cache\n  sdc: { [asPath: string]: object } = {}\n  // In-flight Server Data Requests, for deduping\n  sdr: { [asPath: string]: Promise<object> } = {}\n\n  sub: Subscription\n  clc: ComponentLoadCancel\n  pageLoader: any\n  _bps: BeforePopStateCallback | undefined\n  events: MittEmitter\n  _wrapApp: (App: AppComponent) => any\n  isSsr: boolean\n  isFallback: boolean\n  _inFlightRoute?: string\n  _shallow?: boolean\n  locale?: string\n  locales?: string[]\n  defaultLocale?: string\n  domainLocales?: DomainLocales\n  isReady: boolean\n  isPreview: boolean\n  isLocaleDomain: boolean\n\n  private _idx: number = 0\n\n  static events: MittEmitter = mitt()\n\n  constructor(\n    pathname: string,\n    query: ParsedUrlQuery,\n    as: string,\n    {\n      initialProps,\n      pageLoader,\n      App,\n      wrapApp,\n      Component,\n      err,\n      subscription,\n      isFallback,\n      locale,\n      locales,\n      defaultLocale,\n      domainLocales,\n      isPreview,\n    }: {\n      subscription: Subscription\n      initialProps: any\n      pageLoader: any\n      Component: ComponentType\n      App: AppComponent\n      wrapApp: (App: AppComponent) => any\n      err?: Error\n      isFallback: boolean\n      locale?: string\n      locales?: string[]\n      defaultLocale?: string\n      domainLocales?: DomainLocales\n      isPreview?: boolean\n    }\n  ) {\n    // represents the current component key\n    this.route = removePathTrailingSlash(pathname)\n\n    // set up the component cache (by route keys)\n    this.components = {}\n    // We should not keep the cache, if there's an error\n    // Otherwise, this cause issues when when going back and\n    // come again to the errored page.\n    if (pathname !== '/_error') {\n      this.components[this.route] = {\n        Component,\n        initial: true,\n        props: initialProps,\n        err,\n        __N_SSG: initialProps && initialProps.__N_SSG,\n        __N_SSP: initialProps && initialProps.__N_SSP,\n      }\n    }\n\n    this.components['/_app'] = {\n      Component: App as ComponentType,\n      styleSheets: [\n        /* /_app does not need its stylesheets managed */\n      ],\n    }\n\n    // Backwards compat for Router.router.events\n    // TODO: Should be remove the following major version as it was never documented\n    this.events = Router.events\n\n    this.pageLoader = pageLoader\n    this.pathname = pathname\n    this.query = query\n    // if auto prerendered and dynamic route wait to update asPath\n    // until after mount to prevent hydration mismatch\n    const autoExportDynamic =\n      isDynamicRoute(pathname) && self.__NEXT_DATA__.autoExport\n\n    this.asPath = autoExportDynamic ? pathname : as\n    this.basePath = basePath\n    this.sub = subscription\n    this.clc = null\n    this._wrapApp = wrapApp\n    // make sure to ignore extra popState in safari on navigating\n    // back from external site\n    this.isSsr = true\n\n    this.isFallback = isFallback\n\n    this.isReady = !!(\n      self.__NEXT_DATA__.gssp ||\n      self.__NEXT_DATA__.gip ||\n      (!autoExportDynamic && !self.location.search)\n    )\n    this.isPreview = !!isPreview\n    this.isLocaleDomain = false\n\n    if (process.env.__NEXT_I18N_SUPPORT) {\n      this.locale = locale\n      this.locales = locales\n      this.defaultLocale = defaultLocale\n      this.domainLocales = domainLocales\n      this.isLocaleDomain = !!detectDomainLocale(\n        domainLocales,\n        self.location.hostname\n      )\n    }\n\n    if (typeof window !== 'undefined') {\n      // make sure \"as\" doesn't start with double slashes or else it can\n      // throw an error as it's considered invalid\n      if (as.substr(0, 2) !== '//') {\n        // in order for `e.state` to work on the `onpopstate` event\n        // we have to register the initial route upon initialization\n        this.changeState(\n          'replaceState',\n          formatWithValidation({ pathname: addBasePath(pathname), query }),\n          getURL(),\n          { locale }\n        )\n      }\n\n      window.addEventListener('popstate', this.onPopState)\n\n      // enable custom scroll restoration handling when available\n      // otherwise fallback to browser's default handling\n      if (process.env.__NEXT_SCROLL_RESTORATION) {\n        if (manualScrollRestoration) {\n          window.history.scrollRestoration = 'manual'\n        }\n      }\n    }\n  }\n\n  onPopState = (e: PopStateEvent): void => {\n    const state = e.state as HistoryState\n\n    if (!state) {\n      // We get state as undefined for two reasons.\n      //  1. With older safari (< 8) and older chrome (< 34)\n      //  2. When the URL changed with #\n      //\n      // In the both cases, we don't need to proceed and change the route.\n      // (as it's already changed)\n      // But we can simply replace the state with the new changes.\n      // Actually, for (1) we don't need to nothing. But it's hard to detect that event.\n      // So, doing the following for (1) does no harm.\n      const { pathname, query } = this\n      this.changeState(\n        'replaceState',\n        formatWithValidation({ pathname: addBasePath(pathname), query }),\n        getURL()\n      )\n      return\n    }\n\n    if (!state.__N) {\n      return\n    }\n\n    let forcedScroll: { x: number; y: number } | undefined\n    const { url, as, options, idx } = state\n    if (process.env.__NEXT_SCROLL_RESTORATION) {\n      if (manualScrollRestoration) {\n        if (this._idx !== idx) {\n          // Snapshot current scroll position:\n          try {\n            sessionStorage.setItem(\n              '__next_scroll_' + this._idx,\n              JSON.stringify({ x: self.pageXOffset, y: self.pageYOffset })\n            )\n          } catch {}\n\n          // Restore old scroll position:\n          try {\n            const v = sessionStorage.getItem('__next_scroll_' + idx)\n            forcedScroll = JSON.parse(v!)\n          } catch {\n            forcedScroll = { x: 0, y: 0 }\n          }\n        }\n      }\n    }\n    this._idx = idx\n\n    const { pathname } = parseRelativeUrl(url)\n\n    // Make sure we don't re-render on initial load,\n    // can be caused by navigating back from an external site\n    if (this.isSsr && as === this.asPath && pathname === this.pathname) {\n      return\n    }\n\n    // If the downstream application returns falsy, return.\n    // They will then be responsible for handling the event.\n    if (this._bps && !this._bps(state)) {\n      return\n    }\n\n    this.change(\n      'replaceState',\n      url,\n      as,\n      Object.assign<{}, TransitionOptions, TransitionOptions>({}, options, {\n        shallow: options.shallow && this._shallow,\n        locale: options.locale || this.defaultLocale,\n      }),\n      forcedScroll\n    )\n  }\n\n  reload(): void {\n    window.location.reload()\n  }\n\n  /**\n   * Go back in history\n   */\n  back() {\n    window.history.back()\n  }\n\n  /**\n   * Performs a `pushState` with arguments\n   * @param url of the route\n   * @param as masks `url` for the browser\n   * @param options object you can define `shallow` and other options\n   */\n  push(url: Url, as?: Url, options: TransitionOptions = {}) {\n    if (process.env.__NEXT_SCROLL_RESTORATION) {\n      // TODO: remove in the future when we update history before route change\n      // is complete, as the popstate event should handle this capture.\n      if (manualScrollRestoration) {\n        try {\n          // Snapshot scroll position right before navigating to a new page:\n          sessionStorage.setItem(\n            '__next_scroll_' + this._idx,\n            JSON.stringify({ x: self.pageXOffset, y: self.pageYOffset })\n          )\n        } catch {}\n      }\n    }\n    ;({ url, as } = prepareUrlAs(this, url, as))\n    return this.change('pushState', url, as, options)\n  }\n\n  /**\n   * Performs a `replaceState` with arguments\n   * @param url of the route\n   * @param as masks `url` for the browser\n   * @param options object you can define `shallow` and other options\n   */\n  replace(url: Url, as?: Url, options: TransitionOptions = {}) {\n    ;({ url, as } = prepareUrlAs(this, url, as))\n    return this.change('replaceState', url, as, options)\n  }\n\n  private async change(\n    method: HistoryMethod,\n    url: string,\n    as: string,\n    options: TransitionOptions,\n    forcedScroll?: { x: number; y: number }\n  ): Promise<boolean> {\n    if (!isLocalURL(url)) {\n      window.location.href = url\n      return false\n    }\n\n    // for static pages with query params in the URL we delay\n    // marking the router ready until after the query is updated\n    if ((options as any)._h) {\n      this.isReady = true\n    }\n\n    // Default to scroll reset behavior unless explicitly specified to be\n    // `false`! This makes the behavior between using `Router#push` and a\n    // `<Link />` consistent.\n    options.scroll = !!(options.scroll ?? true)\n\n    let localeChange = options.locale !== this.locale\n\n    if (process.env.__NEXT_I18N_SUPPORT) {\n      this.locale =\n        options.locale === false\n          ? this.defaultLocale\n          : options.locale || this.locale\n\n      if (typeof options.locale === 'undefined') {\n        options.locale = this.locale\n      }\n\n      const parsedAs = parseRelativeUrl(hasBasePath(as) ? delBasePath(as) : as)\n      const localePathResult = normalizeLocalePath(\n        parsedAs.pathname,\n        this.locales\n      )\n\n      if (localePathResult.detectedLocale) {\n        this.locale = localePathResult.detectedLocale\n        parsedAs.pathname = addBasePath(parsedAs.pathname)\n        as = formatWithValidation(parsedAs)\n        url = addBasePath(\n          normalizeLocalePath(\n            hasBasePath(url) ? delBasePath(url) : url,\n            this.locales\n          ).pathname\n        )\n      }\n      let didNavigate = false\n\n      // we need to wrap this in the env check again since regenerator runtime\n      // moves this on its own due to the return\n      if (process.env.__NEXT_I18N_SUPPORT) {\n        // if the locale isn't configured hard navigate to show 404 page\n        if (!this.locales?.includes(this.locale!)) {\n          parsedAs.pathname = addLocale(parsedAs.pathname, this.locale)\n          window.location.href = formatWithValidation(parsedAs)\n          // this was previously a return but was removed in favor\n          // of better dead code elimination with regenerator runtime\n          didNavigate = true\n        }\n      }\n\n      const detectedDomain = detectDomainLocale(\n        this.domainLocales,\n        undefined,\n        this.locale\n      )\n\n      // we need to wrap this in the env check again since regenerator runtime\n      // moves this on its own due to the return\n      if (process.env.__NEXT_I18N_SUPPORT) {\n        // if we are navigating to a domain locale ensure we redirect to the\n        // correct domain\n        if (\n          !didNavigate &&\n          detectedDomain &&\n          this.isLocaleDomain &&\n          self.location.hostname !== detectedDomain.domain\n        ) {\n          const asNoBasePath = delBasePath(as)\n          window.location.href = `http${detectedDomain.http ? '' : 's'}://${\n            detectedDomain.domain\n          }${addBasePath(\n            `${\n              this.locale === detectedDomain.defaultLocale\n                ? ''\n                : `/${this.locale}`\n            }${asNoBasePath === '/' ? '' : asNoBasePath}` || '/'\n          )}`\n          // this was previously a return but was removed in favor\n          // of better dead code elimination with regenerator runtime\n          didNavigate = true\n        }\n      }\n\n      if (didNavigate) {\n        return new Promise(() => {})\n      }\n    }\n\n    if (!(options as any)._h) {\n      this.isSsr = false\n    }\n    // marking route changes as a navigation start entry\n    if (ST) {\n      performance.mark('routeChange')\n    }\n\n    const { shallow = false } = options\n    const routeProps = { shallow }\n\n    if (this._inFlightRoute) {\n      this.abortComponentLoad(this._inFlightRoute, routeProps)\n    }\n\n    as = addBasePath(\n      addLocale(\n        hasBasePath(as) ? delBasePath(as) : as,\n        options.locale,\n        this.defaultLocale\n      )\n    )\n    const cleanedAs = delLocale(\n      hasBasePath(as) ? delBasePath(as) : as,\n      this.locale\n    )\n    this._inFlightRoute = as\n\n    // If the url change is only related to a hash change\n    // We should not proceed. We should only change the state.\n\n    // WARNING: `_h` is an internal option for handing Next.js client-side\n    // hydration. Your app should _never_ use this property. It may change at\n    // any time without notice.\n    if (!(options as any)._h && this.onlyAHashChange(cleanedAs)) {\n      this.asPath = cleanedAs\n      Router.events.emit('hashChangeStart', as, routeProps)\n      // TODO: do we need the resolved href when only a hash change?\n      this.changeState(method, url, as, options)\n      this.scrollToHash(cleanedAs)\n      this.notify(this.components[this.route], null)\n      Router.events.emit('hashChangeComplete', as, routeProps)\n      return true\n    }\n\n    let parsed = parseRelativeUrl(url)\n    let { pathname, query } = parsed\n\n    // The build manifest needs to be loaded before auto-static dynamic pages\n    // get their query parameters to allow ensuring they can be parsed properly\n    // when rewritten to\n    let pages: any, rewrites: any\n    try {\n      pages = await this.pageLoader.getPageList()\n      ;({ __rewrites: rewrites } = await getClientBuildManifest())\n    } catch (err) {\n      // If we fail to resolve the page list or client-build manifest, we must\n      // do a server-side transition:\n      window.location.href = as\n      return false\n    }\n\n    // If asked to change the current URL we should reload the current page\n    // (not location.reload() but reload getInitialProps and other Next.js stuffs)\n    // We also need to set the method = replaceState always\n    // as this should not go into the history (That's how browsers work)\n    // We should compare the new asPath to the current asPath, not the url\n    if (!this.urlIsNew(cleanedAs) && !localeChange) {\n      method = 'replaceState'\n    }\n\n    // we need to resolve the as value using rewrites for dynamic SSG\n    // pages to allow building the data URL correctly\n    let resolvedAs = as\n\n    // url and as should always be prefixed with basePath by this\n    // point by either next/link or router.push/replace so strip the\n    // basePath from the pathname to match the pages dir 1-to-1\n    pathname = pathname\n      ? removePathTrailingSlash(delBasePath(pathname))\n      : pathname\n\n    if (pathname !== '/_error') {\n      if (process.env.__NEXT_HAS_REWRITES && as.startsWith('/')) {\n        const rewritesResult = resolveRewrites(\n          addBasePath(addLocale(delBasePath(as), this.locale)),\n          pages,\n          rewrites,\n          query,\n          (p: string) => resolveDynamicRoute(p, pages),\n          this.locales\n        )\n        resolvedAs = rewritesResult.asPath\n\n        if (rewritesResult.matchedPage && rewritesResult.resolvedHref) {\n          // if this directly matches a page we need to update the href to\n          // allow the correct page chunk to be loaded\n          pathname = rewritesResult.resolvedHref\n          parsed.pathname = pathname\n          url = formatWithValidation(parsed)\n        }\n      } else {\n        parsed.pathname = resolveDynamicRoute(pathname, pages)\n\n        if (parsed.pathname !== pathname) {\n          pathname = parsed.pathname\n          url = formatWithValidation(parsed)\n        }\n      }\n    }\n\n    const route = removePathTrailingSlash(pathname)\n\n    if (!isLocalURL(as)) {\n      if (process.env.NODE_ENV !== 'production') {\n        throw new Error(\n          `Invalid href: \"${url}\" and as: \"${as}\", received relative href and external as` +\n            `\\nSee more info: https://nextjs.org/docs/messages/invalid-relative-url-external-as`\n        )\n      }\n\n      window.location.href = as\n      return false\n    }\n\n    resolvedAs = delLocale(delBasePath(resolvedAs), this.locale)\n\n    if (isDynamicRoute(route)) {\n      const parsedAs = parseRelativeUrl(resolvedAs)\n      const asPathname = parsedAs.pathname\n\n      const routeRegex = getRouteRegex(route)\n      const routeMatch = getRouteMatcher(routeRegex)(asPathname)\n      const shouldInterpolate = route === asPathname\n      const interpolatedAs = shouldInterpolate\n        ? interpolateAs(route, asPathname, query)\n        : ({} as { result: undefined; params: undefined })\n\n      if (!routeMatch || (shouldInterpolate && !interpolatedAs.result)) {\n        const missingParams = Object.keys(routeRegex.groups).filter(\n          (param) => !query[param]\n        )\n\n        if (missingParams.length > 0) {\n          if (process.env.NODE_ENV !== 'production') {\n            console.warn(\n              `${\n                shouldInterpolate\n                  ? `Interpolating href`\n                  : `Mismatching \\`as\\` and \\`href\\``\n              } failed to manually provide ` +\n                `the params: ${missingParams.join(\n                  ', '\n                )} in the \\`href\\`'s \\`query\\``\n            )\n          }\n\n          throw new Error(\n            (shouldInterpolate\n              ? `The provided \\`href\\` (${url}) value is missing query values (${missingParams.join(\n                  ', '\n                )}) to be interpolated properly. `\n              : `The provided \\`as\\` value (${asPathname}) is incompatible with the \\`href\\` value (${route}). `) +\n              `Read more: https://nextjs.org/docs/messages/${\n                shouldInterpolate\n                  ? 'href-interpolation-failed'\n                  : 'incompatible-href-as'\n              }`\n          )\n        }\n      } else if (shouldInterpolate) {\n        as = formatWithValidation(\n          Object.assign({}, parsedAs, {\n            pathname: interpolatedAs.result,\n            query: omitParmsFromQuery(query, interpolatedAs.params!),\n          })\n        )\n      } else {\n        // Merge params into `query`, overwriting any specified in search\n        Object.assign(query, routeMatch)\n      }\n    }\n\n    Router.events.emit('routeChangeStart', as, routeProps)\n\n    try {\n      let routeInfo = await this.getRouteInfo(\n        route,\n        pathname,\n        query,\n        as,\n        resolvedAs,\n        routeProps\n      )\n      let { error, props, __N_SSG, __N_SSP } = routeInfo\n\n      // handle redirect on client-transition\n      if ((__N_SSG || __N_SSP) && props) {\n        if ((props as any).pageProps && (props as any).pageProps.__N_REDIRECT) {\n          const destination = (props as any).pageProps.__N_REDIRECT\n\n          // check if destination is internal (resolves to a page) and attempt\n          // client-navigation if it is falling back to hard navigation if\n          // it's not\n          if (destination.startsWith('/')) {\n            const parsedHref = parseRelativeUrl(destination)\n            parsedHref.pathname = resolveDynamicRoute(\n              parsedHref.pathname,\n              pages\n            )\n\n            if (pages.includes(parsedHref.pathname)) {\n              const { url: newUrl, as: newAs } = prepareUrlAs(\n                this,\n                destination,\n                destination\n              )\n              return this.change(method, newUrl, newAs, options)\n            }\n          }\n\n          window.location.href = destination\n          return new Promise(() => {})\n        }\n\n        this.isPreview = !!props.__N_PREVIEW\n\n        // handle SSG data 404\n        if (props.notFound === SSG_DATA_NOT_FOUND) {\n          let notFoundRoute\n\n          try {\n            await this.fetchComponent('/404')\n            notFoundRoute = '/404'\n          } catch (_) {\n            notFoundRoute = '/_error'\n          }\n\n          routeInfo = await this.getRouteInfo(\n            notFoundRoute,\n            notFoundRoute,\n            query,\n            as,\n            resolvedAs,\n            { shallow: false }\n          )\n        }\n      }\n\n      Router.events.emit('beforeHistoryChange', as, routeProps)\n      this.changeState(method, url, as, options)\n\n      if (process.env.NODE_ENV !== 'production') {\n        const appComp: any = this.components['/_app'].Component\n        ;(window as any).next.isPrerendered =\n          appComp.getInitialProps === appComp.origGetInitialProps &&\n          !(routeInfo.Component as any).getInitialProps\n      }\n\n      // shallow routing is only allowed for same page URL changes.\n      const isValidShallowRoute = options.shallow && this.route === route\n\n      if (\n        (options as any)._h &&\n        pathname === '/_error' &&\n        self.__NEXT_DATA__.props?.pageProps?.statusCode === 500 &&\n        props?.pageProps\n      ) {\n        // ensure statusCode is still correct for static 500 page\n        // when updating query information\n        props.pageProps.statusCode = 500\n      }\n\n      await this.set(\n        route,\n        pathname!,\n        query,\n        cleanedAs,\n        routeInfo,\n        forcedScroll ||\n          (isValidShallowRoute || !options.scroll ? null : { x: 0, y: 0 })\n      ).catch((e) => {\n        if (e.cancelled) error = error || e\n        else throw e\n      })\n\n      if (error) {\n        Router.events.emit('routeChangeError', error, cleanedAs, routeProps)\n        throw error\n      }\n\n      if (process.env.__NEXT_I18N_SUPPORT) {\n        if (this.locale) {\n          document.documentElement.lang = this.locale\n        }\n      }\n      Router.events.emit('routeChangeComplete', as, routeProps)\n\n      return true\n    } catch (err) {\n      if (err.cancelled) {\n        return false\n      }\n      throw err\n    }\n  }\n\n  changeState(\n    method: HistoryMethod,\n    url: string,\n    as: string,\n    options: TransitionOptions = {}\n  ): void {\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof window.history === 'undefined') {\n        console.error(`Warning: window.history is not available.`)\n        return\n      }\n\n      if (typeof window.history[method] === 'undefined') {\n        console.error(`Warning: window.history.${method} is not available`)\n        return\n      }\n    }\n\n    if (method !== 'pushState' || getURL() !== as) {\n      this._shallow = options.shallow\n      window.history[method](\n        {\n          url,\n          as,\n          options,\n          __N: true,\n          idx: this._idx = method !== 'pushState' ? this._idx : this._idx + 1,\n        } as HistoryState,\n        // Most browsers currently ignores this parameter, although they may use it in the future.\n        // Passing the empty string here should be safe against future changes to the method.\n        // https://developer.mozilla.org/en-US/docs/Web/API/History/replaceState\n        '',\n        as\n      )\n    }\n  }\n\n  async handleRouteInfoError(\n    err: Error & { code: any; cancelled: boolean },\n    pathname: string,\n    query: ParsedUrlQuery,\n    as: string,\n    routeProps: RouteProperties,\n    loadErrorFail?: boolean\n  ): Promise<CompletePrivateRouteInfo> {\n    if (err.cancelled) {\n      // bubble up cancellation errors\n      throw err\n    }\n\n    if (isAssetError(err) || loadErrorFail) {\n      Router.events.emit('routeChangeError', err, as, routeProps)\n\n      // If we can't load the page it could be one of following reasons\n      //  1. Page doesn't exists\n      //  2. Page does exist in a different zone\n      //  3. Internal error while loading the page\n\n      // So, doing a hard reload is the proper way to deal with this.\n      window.location.href = as\n\n      // Changing the URL doesn't block executing the current code path.\n      // So let's throw a cancellation error stop the routing logic.\n      throw buildCancellationError()\n    }\n\n    try {\n      let Component: ComponentType\n      let styleSheets: StyleSheetTuple[]\n      let props: Record<string, any> | undefined\n\n      if (\n        typeof Component! === 'undefined' ||\n        typeof styleSheets! === 'undefined'\n      ) {\n        ;({ page: Component, styleSheets } = await this.fetchComponent(\n          '/_error'\n        ))\n      }\n\n      const routeInfo: CompletePrivateRouteInfo = {\n        props,\n        Component,\n        styleSheets,\n        err,\n        error: err,\n      }\n\n      if (!routeInfo.props) {\n        try {\n          routeInfo.props = await this.getInitialProps(Component, {\n            err,\n            pathname,\n            query,\n          } as any)\n        } catch (gipErr) {\n          console.error('Error in error page `getInitialProps`: ', gipErr)\n          routeInfo.props = {}\n        }\n      }\n\n      return routeInfo\n    } catch (routeInfoErr) {\n      return this.handleRouteInfoError(\n        routeInfoErr,\n        pathname,\n        query,\n        as,\n        routeProps,\n        true\n      )\n    }\n  }\n\n  async getRouteInfo(\n    route: string,\n    pathname: string,\n    query: any,\n    as: string,\n    resolvedAs: string,\n    routeProps: RouteProperties\n  ): Promise<PrivateRouteInfo> {\n    try {\n      const existingRouteInfo: PrivateRouteInfo | undefined = this.components[\n        route\n      ]\n      if (routeProps.shallow && existingRouteInfo && this.route === route) {\n        return existingRouteInfo\n      }\n\n      const cachedRouteInfo: CompletePrivateRouteInfo | undefined =\n        existingRouteInfo && 'initial' in existingRouteInfo\n          ? undefined\n          : existingRouteInfo\n      const routeInfo: CompletePrivateRouteInfo = cachedRouteInfo\n        ? cachedRouteInfo\n        : await this.fetchComponent(route).then((res) => ({\n            Component: res.page,\n            styleSheets: res.styleSheets,\n            __N_SSG: res.mod.__N_SSG,\n            __N_SSP: res.mod.__N_SSP,\n          }))\n\n      const { Component, __N_SSG, __N_SSP } = routeInfo\n\n      if (process.env.NODE_ENV !== 'production') {\n        const { isValidElementType } = require('react-is')\n        if (!isValidElementType(Component)) {\n          throw new Error(\n            `The default export is not a React Component in page: \"${pathname}\"`\n          )\n        }\n      }\n\n      let dataHref: string | undefined\n\n      if (__N_SSG || __N_SSP) {\n        dataHref = this.pageLoader.getDataHref(\n          formatWithValidation({ pathname, query }),\n          resolvedAs,\n          __N_SSG,\n          this.locale\n        )\n      }\n\n      const props = await this._getData<CompletePrivateRouteInfo>(() =>\n        __N_SSG\n          ? this._getStaticData(dataHref!)\n          : __N_SSP\n          ? this._getServerData(dataHref!)\n          : this.getInitialProps(\n              Component,\n              // we provide AppTree later so this needs to be `any`\n              {\n                pathname,\n                query,\n                asPath: as,\n              } as any\n            )\n      )\n\n      routeInfo.props = props\n      this.components[route] = routeInfo\n      return routeInfo\n    } catch (err) {\n      return this.handleRouteInfoError(err, pathname, query, as, routeProps)\n    }\n  }\n\n  set(\n    route: string,\n    pathname: string,\n    query: ParsedUrlQuery,\n    as: string,\n    data: PrivateRouteInfo,\n    resetScroll: { x: number; y: number } | null\n  ): Promise<void> {\n    this.isFallback = false\n\n    this.route = route\n    this.pathname = pathname\n    this.query = query\n    this.asPath = as\n    return this.notify(data, resetScroll)\n  }\n\n  /**\n   * Callback to execute before replacing router state\n   * @param cb callback to be executed\n   */\n  beforePopState(cb: BeforePopStateCallback) {\n    this._bps = cb\n  }\n\n  onlyAHashChange(as: string): boolean {\n    if (!this.asPath) return false\n    const [oldUrlNoHash, oldHash] = this.asPath.split('#')\n    const [newUrlNoHash, newHash] = as.split('#')\n\n    // Makes sure we scroll to the provided hash if the url/hash are the same\n    if (newHash && oldUrlNoHash === newUrlNoHash && oldHash === newHash) {\n      return true\n    }\n\n    // If the urls are change, there's more than a hash change\n    if (oldUrlNoHash !== newUrlNoHash) {\n      return false\n    }\n\n    // If the hash has changed, then it's a hash only change.\n    // This check is necessary to handle both the enter and\n    // leave hash === '' cases. The identity case falls through\n    // and is treated as a next reload.\n    return oldHash !== newHash\n  }\n\n  scrollToHash(as: string): void {\n    const [, hash] = as.split('#')\n    // Scroll to top if the hash is just `#` with no value or `#top`\n    // To mirror browsers\n    if (hash === '' || hash === 'top') {\n      window.scrollTo(0, 0)\n      return\n    }\n\n    // First we check if the element by id is found\n    const idEl = document.getElementById(hash)\n    if (idEl) {\n      idEl.scrollIntoView()\n      return\n    }\n    // If there's no element with the id, we check the `name` property\n    // To mirror browsers\n    const nameEl = document.getElementsByName(hash)[0]\n    if (nameEl) {\n      nameEl.scrollIntoView()\n    }\n  }\n\n  urlIsNew(asPath: string): boolean {\n    return this.asPath !== asPath\n  }\n\n  /**\n   * Prefetch page code, you may wait for the data during page rendering.\n   * This feature only works in production!\n   * @param url the href of prefetched page\n   * @param asPath the as path of the prefetched page\n   */\n  async prefetch(\n    url: string,\n    asPath: string = url,\n    options: PrefetchOptions = {}\n  ): Promise<void> {\n    let parsed = parseRelativeUrl(url)\n\n    let { pathname } = parsed\n\n    if (process.env.__NEXT_I18N_SUPPORT) {\n      if (options.locale === false) {\n        pathname = normalizeLocalePath!(pathname, this.locales).pathname\n        parsed.pathname = pathname\n        url = formatWithValidation(parsed)\n\n        let parsedAs = parseRelativeUrl(asPath)\n        const localePathResult = normalizeLocalePath!(\n          parsedAs.pathname,\n          this.locales\n        )\n        parsedAs.pathname = localePathResult.pathname\n        options.locale = localePathResult.detectedLocale || this.defaultLocale\n        asPath = formatWithValidation(parsedAs)\n      }\n    }\n\n    const pages = await this.pageLoader.getPageList()\n    let resolvedAs = asPath\n\n    if (process.env.__NEXT_HAS_REWRITES && asPath.startsWith('/')) {\n      let rewrites: any\n      ;({ __rewrites: rewrites } = await getClientBuildManifest())\n\n      const rewritesResult = resolveRewrites(\n        addBasePath(addLocale(asPath, this.locale)),\n        pages,\n        rewrites,\n        parsed.query,\n        (p: string) => resolveDynamicRoute(p, pages),\n        this.locales\n      )\n      resolvedAs = delLocale(delBasePath(rewritesResult.asPath), this.locale)\n\n      if (rewritesResult.matchedPage && rewritesResult.resolvedHref) {\n        // if this directly matches a page we need to update the href to\n        // allow the correct page chunk to be loaded\n        pathname = rewritesResult.resolvedHref\n        parsed.pathname = pathname\n        url = formatWithValidation(parsed)\n      }\n    } else {\n      parsed.pathname = resolveDynamicRoute(parsed.pathname, pages)\n\n      if (parsed.pathname !== pathname) {\n        pathname = parsed.pathname\n        url = formatWithValidation(parsed)\n      }\n    }\n    const route = removePathTrailingSlash(pathname)\n\n    // Prefetch is not supported in development mode because it would trigger on-demand-entries\n    if (process.env.NODE_ENV !== 'production') {\n      return\n    }\n\n    await Promise.all([\n      this.pageLoader._isSsg(route).then((isSsg: boolean) => {\n        return isSsg\n          ? this._getStaticData(\n              this.pageLoader.getDataHref(\n                url,\n                resolvedAs,\n                true,\n                typeof options.locale !== 'undefined'\n                  ? options.locale\n                  : this.locale\n              )\n            )\n          : false\n      }),\n      this.pageLoader[options.priority ? 'loadPage' : 'prefetch'](route),\n    ])\n  }\n\n  async fetchComponent(route: string): Promise<GoodPageCache> {\n    let cancelled = false\n    const cancel = (this.clc = () => {\n      cancelled = true\n    })\n\n    const componentResult = await this.pageLoader.loadPage(route)\n\n    if (cancelled) {\n      const error: any = new Error(\n        `Abort fetching component for route: \"${route}\"`\n      )\n      error.cancelled = true\n      throw error\n    }\n\n    if (cancel === this.clc) {\n      this.clc = null\n    }\n\n    return componentResult\n  }\n\n  _getData<T>(fn: () => Promise<T>): Promise<T> {\n    let cancelled = false\n    const cancel = () => {\n      cancelled = true\n    }\n    this.clc = cancel\n    return fn().then((data) => {\n      if (cancel === this.clc) {\n        this.clc = null\n      }\n\n      if (cancelled) {\n        const err: any = new Error('Loading initial props cancelled')\n        err.cancelled = true\n        throw err\n      }\n\n      return data\n    })\n  }\n\n  _getStaticData(dataHref: string): Promise<object> {\n    const { href: cacheKey } = new URL(dataHref, window.location.href)\n    if (\n      process.env.NODE_ENV === 'production' &&\n      !this.isPreview &&\n      this.sdc[cacheKey]\n    ) {\n      return Promise.resolve(this.sdc[cacheKey])\n    }\n    return fetchNextData(dataHref, this.isSsr).then((data) => {\n      this.sdc[cacheKey] = data\n      return data\n    })\n  }\n\n  _getServerData(dataHref: string): Promise<object> {\n    const { href: resourceKey } = new URL(dataHref, window.location.href)\n    if (this.sdr[resourceKey]) {\n      return this.sdr[resourceKey]\n    }\n    return (this.sdr[resourceKey] = fetchNextData(dataHref, this.isSsr)\n      .then((data) => {\n        delete this.sdr[resourceKey]\n        return data\n      })\n      .catch((err) => {\n        delete this.sdr[resourceKey]\n        throw err\n      }))\n  }\n\n  getInitialProps(\n    Component: ComponentType,\n    ctx: NextPageContext\n  ): Promise<any> {\n    const { Component: App } = this.components['/_app']\n    const AppTree = this._wrapApp(App as AppComponent)\n    ctx.AppTree = AppTree\n    return loadGetInitialProps<AppContextType<Router>>(App, {\n      AppTree,\n      Component,\n      router: this,\n      ctx,\n    })\n  }\n\n  abortComponentLoad(as: string, routeProps: RouteProperties): void {\n    if (this.clc) {\n      Router.events.emit(\n        'routeChangeError',\n        buildCancellationError(),\n        as,\n        routeProps\n      )\n      this.clc()\n      this.clc = null\n    }\n  }\n\n  notify(\n    data: PrivateRouteInfo,\n    resetScroll: { x: number; y: number } | null\n  ): Promise<void> {\n    return this.sub(\n      data,\n      this.components['/_app'].Component as AppComponent,\n      resetScroll\n    )\n  }\n}\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","/**\n * Removes the trailing slash of a path if there is one. Preserves the root path `/`.\n */\nexport function removePathTrailingSlash(path: string): string {\n  return path.endsWith('/') && path !== '/' ? path.slice(0, -1) : path\n}\n\n/**\n * Normalizes the trailing slash of a path according to the `trailingSlash` option\n * in `next.config.js`.\n */\nexport const normalizePathTrailingSlash = process.env.__NEXT_TRAILING_SLASH\n  ? (path: string): string => {\n      if (/\\.[^/]+\\/?$/.test(path)) {\n        return removePathTrailingSlash(path)\n      } else if (path.endsWith('/')) {\n        return path\n      } else {\n        return path + '/'\n      }\n    }\n  : removePathTrailingSlash\n","export function normalizeLocalePath(\n  pathname: string,\n  locales?: string[]\n): {\n  detectedLocale?: string\n  pathname: string\n} {\n  let detectedLocale: string | undefined\n  // first item will be empty string from splitting at first char\n  const pathnameParts = pathname.split('/')\n\n  ;(locales || []).some((locale) => {\n    if (pathnameParts[1].toLowerCase() === locale.toLowerCase()) {\n      detectedLocale = locale\n      pathnameParts.splice(1, 1)\n      pathname = pathnameParts.join('/') || '/'\n      return true\n    }\n    return false\n  })\n\n  return {\n    pathname,\n    detectedLocale,\n  }\n}\n","import { IncomingMessage, ServerResponse } from 'http'\nimport { ParsedUrlQuery } from 'querystring'\nimport { ComponentType } from 'react'\nimport { UrlObject } from 'url'\nimport { formatUrl } from './router/utils/format-url'\nimport { ManifestItem } from '../server/load-components'\nimport { NextRouter } from './router/router'\nimport { Env } from '@next/env'\nimport { BuildManifest } from '../server/get-page-files'\nimport { DomainLocales } from '../server/config'\n\n/**\n * Types used by both next and next-server\n */\n\nexport type NextComponentType<\n  C extends BaseContext = NextPageContext,\n  IP = {},\n  P = {}\n> = ComponentType<P> & {\n  /**\n   * Used for initial page load data population. Data returned from `getInitialProps` is serialized when server rendered.\n   * Make sure to return plain `Object` without using `Date`, `Map`, `Set`.\n   * @param ctx Context of `page`\n   */\n  getInitialProps?(context: C): IP | Promise<IP>\n}\n\nexport type DocumentType = NextComponentType<\n  DocumentContext,\n  DocumentInitialProps,\n  DocumentProps\n> & {\n  renderDocument(\n    Document: DocumentType,\n    props: DocumentProps\n  ): React.ReactElement\n}\n\nexport type AppType = NextComponentType<\n  AppContextType,\n  AppInitialProps,\n  AppPropsType\n>\n\nexport type AppTreeType = ComponentType<\n  AppInitialProps & { [name: string]: any }\n>\n\n/**\n * Web vitals provided to _app.reportWebVitals by Core Web Vitals plugin developed by Google Chrome team.\n * https://nextjs.org/blog/next-9-4#integrated-web-vitals-reporting\n */\nexport type NextWebVitalsMetric = {\n  id: string\n  label: string\n  name: string\n  startTime: number\n  value: number\n}\n\nexport type Enhancer<C> = (Component: C) => C\n\nexport type ComponentsEnhancer =\n  | {\n      enhanceApp?: Enhancer<AppType>\n      enhanceComponent?: Enhancer<NextComponentType>\n    }\n  | Enhancer<NextComponentType>\n\nexport type RenderPageResult = {\n  html: string\n  head?: Array<JSX.Element | null>\n}\n\nexport type RenderPage = (\n  options?: ComponentsEnhancer\n) => RenderPageResult | Promise<RenderPageResult>\n\nexport type BaseContext = {\n  res?: ServerResponse\n  [k: string]: any\n}\n\nexport type NEXT_DATA = {\n  props: Record<string, any>\n  page: string\n  query: ParsedUrlQuery\n  buildId: string\n  assetPrefix?: string\n  runtimeConfig?: { [key: string]: any }\n  nextExport?: boolean\n  autoExport?: boolean\n  isFallback?: boolean\n  dynamicIds?: string[]\n  err?: Error & { statusCode?: number }\n  gsp?: boolean\n  gssp?: boolean\n  customServer?: boolean\n  gip?: boolean\n  appGip?: boolean\n  locale?: string\n  locales?: string[]\n  defaultLocale?: string\n  domainLocales?: DomainLocales\n  scriptLoader?: any[]\n  isPreview?: boolean\n}\n\n/**\n * `Next` context\n */\nexport interface NextPageContext {\n  /**\n   * Error object if encountered during rendering\n   */\n  err?: (Error & { statusCode?: number }) | null\n  /**\n   * `HTTP` request object.\n   */\n  req?: IncomingMessage\n  /**\n   * `HTTP` response object.\n   */\n  res?: ServerResponse\n  /**\n   * Path section of `URL`.\n   */\n  pathname: string\n  /**\n   * Query string section of `URL` parsed as an object.\n   */\n  query: ParsedUrlQuery\n  /**\n   * `String` of the actual path including query.\n   */\n  asPath?: string\n  /**\n   * `Component` the tree of the App to use if needing to render separately\n   */\n  AppTree: AppTreeType\n}\n\nexport type AppContextType<R extends NextRouter = NextRouter> = {\n  Component: NextComponentType<NextPageContext>\n  AppTree: AppTreeType\n  ctx: NextPageContext\n  router: R\n}\n\nexport type AppInitialProps = {\n  pageProps: any\n}\n\nexport type AppPropsType<\n  R extends NextRouter = NextRouter,\n  P = {}\n> = AppInitialProps & {\n  Component: NextComponentType<NextPageContext, any, P>\n  router: R\n  __N_SSG?: boolean\n  __N_SSP?: boolean\n}\n\nexport type DocumentContext = NextPageContext & {\n  renderPage: RenderPage\n}\n\nexport type DocumentInitialProps = RenderPageResult & {\n  styles?: React.ReactElement[] | React.ReactFragment\n}\n\nexport type DocumentProps = DocumentInitialProps & {\n  __NEXT_DATA__: NEXT_DATA\n  dangerousAsPath: string\n  docComponentsRendered: {\n    Html?: boolean\n    Main?: boolean\n    Head?: boolean\n    NextScript?: boolean\n  }\n  buildManifest: BuildManifest\n  ampPath: string\n  inAmpMode: boolean\n  hybridAmp: boolean\n  isDevelopment: boolean\n  dynamicImports: ManifestItem[]\n  assetPrefix?: string\n  canonicalBase: string\n  headTags: any[]\n  unstable_runtimeJS?: false\n  unstable_JsPreload?: false\n  devOnlyCacheBusterQueryString: string\n  scriptLoader: { defer?: string[]; eager?: any[] }\n  locale?: string\n}\n\n/**\n * Next `API` route request\n */\nexport interface NextApiRequest extends IncomingMessage {\n  /**\n   * Object of `query` values from url\n   */\n  query: {\n    [key: string]: string | string[]\n  }\n  /**\n   * Object of `cookies` from header\n   */\n  cookies: {\n    [key: string]: string\n  }\n\n  body: any\n\n  env: Env\n\n  preview?: boolean\n  /**\n   * Preview data set on the request, if any\n   * */\n  previewData?: any\n}\n\n/**\n * Send body of response\n */\ntype Send<T> = (body: T) => void\n\n/**\n * Next `API` route response\n */\nexport type NextApiResponse<T = any> = ServerResponse & {\n  /**\n   * Send data `any` data in response\n   */\n  send: Send<T>\n  /**\n   * Send data `json` data in response\n   */\n  json: Send<T>\n  status: (statusCode: number) => NextApiResponse<T>\n  redirect(url: string): NextApiResponse<T>\n  redirect(status: number, url: string): NextApiResponse<T>\n\n  /**\n   * Set preview data for Next.js' prerender mode\n   */\n  setPreviewData: (\n    data: object | string,\n    options?: {\n      /**\n       * Specifies the number (in seconds) for the preview session to last for.\n       * The given number will be converted to an integer by rounding down.\n       * By default, no maximum age is set and the preview session finishes\n       * when the client shuts down (browser is closed).\n       */\n      maxAge?: number\n    }\n  ) => NextApiResponse<T>\n  clearPreviewData: () => NextApiResponse<T>\n}\n\n/**\n * Next `API` route handler\n */\nexport type NextApiHandler<T = any> = (\n  req: NextApiRequest,\n  res: NextApiResponse<T>\n) => void | Promise<void>\n\n/**\n * Utils\n */\nexport function execOnce<T extends (...args: any[]) => ReturnType<T>>(\n  fn: T\n): T {\n  let used = false\n  let result: ReturnType<T>\n\n  return ((...args: any[]) => {\n    if (!used) {\n      used = true\n      result = fn(...args)\n    }\n    return result\n  }) as T\n}\n\nexport function getLocationOrigin() {\n  const { protocol, hostname, port } = window.location\n  return `${protocol}//${hostname}${port ? ':' + port : ''}`\n}\n\nexport function getURL() {\n  const { href } = window.location\n  const origin = getLocationOrigin()\n  return href.substring(origin.length)\n}\n\nexport function getDisplayName<P>(Component: ComponentType<P>) {\n  return typeof Component === 'string'\n    ? Component\n    : Component.displayName || Component.name || 'Unknown'\n}\n\nexport function isResSent(res: ServerResponse) {\n  return res.finished || res.headersSent\n}\n\nexport async function loadGetInitialProps<\n  C extends BaseContext,\n  IP = {},\n  P = {}\n>(App: NextComponentType<C, IP, P>, ctx: C): Promise<IP> {\n  if (process.env.NODE_ENV !== 'production') {\n    if (App.prototype?.getInitialProps) {\n      const message = `\"${getDisplayName(\n        App\n      )}.getInitialProps()\" is defined as an instance method - visit https://nextjs.org/docs/messages/get-initial-props-as-an-instance-method for more information.`\n      throw new Error(message)\n    }\n  }\n  // when called from _app `ctx` is nested in `ctx`\n  const res = ctx.res || (ctx.ctx && ctx.ctx.res)\n\n  if (!App.getInitialProps) {\n    if (ctx.ctx && ctx.Component) {\n      // @ts-ignore pageProps default\n      return {\n        pageProps: await loadGetInitialProps(ctx.Component, ctx.ctx),\n      }\n    }\n    return {} as IP\n  }\n\n  const props = await App.getInitialProps(ctx)\n\n  if (res && isResSent(res)) {\n    return props\n  }\n\n  if (!props) {\n    const message = `\"${getDisplayName(\n      App\n    )}.getInitialProps()\" should resolve to an object. But found \"${props}\" instead.`\n    throw new Error(message)\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (Object.keys(props).length === 0 && !ctx.ctx) {\n      console.warn(\n        `${getDisplayName(\n          App\n        )} returned an empty object from \\`getInitialProps\\`. This de-optimizes and prevents automatic static optimization. https://nextjs.org/docs/messages/empty-object-getInitialProps`\n      )\n    }\n  }\n\n  return props\n}\n\nexport const urlObjectKeys = [\n  'auth',\n  'hash',\n  'host',\n  'hostname',\n  'href',\n  'path',\n  'pathname',\n  'port',\n  'protocol',\n  'query',\n  'search',\n  'slashes',\n]\n\nexport function formatWithValidation(url: UrlObject): string {\n  if (process.env.NODE_ENV === 'development') {\n    if (url !== null && typeof url === 'object') {\n      Object.keys(url).forEach((key) => {\n        if (urlObjectKeys.indexOf(key) === -1) {\n          console.warn(\n            `Unknown key passed via urlObject into url.format: ${key}`\n          )\n        }\n      })\n    }\n  }\n\n  return formatUrl(url)\n}\n\nexport const SP = typeof performance !== 'undefined'\nexport const ST =\n  SP &&\n  typeof performance.mark === 'function' &&\n  typeof performance.measure === 'function'\n","var defineProperty = require(\"./defineProperty\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread2;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Tokenize input string.\n */\nfunction lexer(str) {\n    var tokens = [];\n    var i = 0;\n    while (i < str.length) {\n        var char = str[i];\n        if (char === \"*\" || char === \"+\" || char === \"?\") {\n            tokens.push({ type: \"MODIFIER\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"\\\\\") {\n            tokens.push({ type: \"ESCAPED_CHAR\", index: i++, value: str[i++] });\n            continue;\n        }\n        if (char === \"{\") {\n            tokens.push({ type: \"OPEN\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"}\") {\n            tokens.push({ type: \"CLOSE\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \":\") {\n            var name = \"\";\n            var j = i + 1;\n            while (j < str.length) {\n                var code = str.charCodeAt(j);\n                if (\n                // `0-9`\n                (code >= 48 && code <= 57) ||\n                    // `A-Z`\n                    (code >= 65 && code <= 90) ||\n                    // `a-z`\n                    (code >= 97 && code <= 122) ||\n                    // `_`\n                    code === 95) {\n                    name += str[j++];\n                    continue;\n                }\n                break;\n            }\n            if (!name)\n                throw new TypeError(\"Missing parameter name at \" + i);\n            tokens.push({ type: \"NAME\", index: i, value: name });\n            i = j;\n            continue;\n        }\n        if (char === \"(\") {\n            var count = 1;\n            var pattern = \"\";\n            var j = i + 1;\n            if (str[j] === \"?\") {\n                throw new TypeError(\"Pattern cannot start with \\\"?\\\" at \" + j);\n            }\n            while (j < str.length) {\n                if (str[j] === \"\\\\\") {\n                    pattern += str[j++] + str[j++];\n                    continue;\n                }\n                if (str[j] === \")\") {\n                    count--;\n                    if (count === 0) {\n                        j++;\n                        break;\n                    }\n                }\n                else if (str[j] === \"(\") {\n                    count++;\n                    if (str[j + 1] !== \"?\") {\n                        throw new TypeError(\"Capturing groups are not allowed at \" + j);\n                    }\n                }\n                pattern += str[j++];\n            }\n            if (count)\n                throw new TypeError(\"Unbalanced pattern at \" + i);\n            if (!pattern)\n                throw new TypeError(\"Missing pattern at \" + i);\n            tokens.push({ type: \"PATTERN\", index: i, value: pattern });\n            i = j;\n            continue;\n        }\n        tokens.push({ type: \"CHAR\", index: i, value: str[i++] });\n    }\n    tokens.push({ type: \"END\", index: i, value: \"\" });\n    return tokens;\n}\n/**\n * Parse a string for the raw tokens.\n */\nfunction parse(str, options) {\n    if (options === void 0) { options = {}; }\n    var tokens = lexer(str);\n    var _a = options.prefixes, prefixes = _a === void 0 ? \"./\" : _a;\n    var defaultPattern = \"[^\" + escapeString(options.delimiter || \"/#?\") + \"]+?\";\n    var result = [];\n    var key = 0;\n    var i = 0;\n    var path = \"\";\n    var tryConsume = function (type) {\n        if (i < tokens.length && tokens[i].type === type)\n            return tokens[i++].value;\n    };\n    var mustConsume = function (type) {\n        var value = tryConsume(type);\n        if (value !== undefined)\n            return value;\n        var _a = tokens[i], nextType = _a.type, index = _a.index;\n        throw new TypeError(\"Unexpected \" + nextType + \" at \" + index + \", expected \" + type);\n    };\n    var consumeText = function () {\n        var result = \"\";\n        var value;\n        // tslint:disable-next-line\n        while ((value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))) {\n            result += value;\n        }\n        return result;\n    };\n    while (i < tokens.length) {\n        var char = tryConsume(\"CHAR\");\n        var name = tryConsume(\"NAME\");\n        var pattern = tryConsume(\"PATTERN\");\n        if (name || pattern) {\n            var prefix = char || \"\";\n            if (prefixes.indexOf(prefix) === -1) {\n                path += prefix;\n                prefix = \"\";\n            }\n            if (path) {\n                result.push(path);\n                path = \"\";\n            }\n            result.push({\n                name: name || key++,\n                prefix: prefix,\n                suffix: \"\",\n                pattern: pattern || defaultPattern,\n                modifier: tryConsume(\"MODIFIER\") || \"\"\n            });\n            continue;\n        }\n        var value = char || tryConsume(\"ESCAPED_CHAR\");\n        if (value) {\n            path += value;\n            continue;\n        }\n        if (path) {\n            result.push(path);\n            path = \"\";\n        }\n        var open = tryConsume(\"OPEN\");\n        if (open) {\n            var prefix = consumeText();\n            var name_1 = tryConsume(\"NAME\") || \"\";\n            var pattern_1 = tryConsume(\"PATTERN\") || \"\";\n            var suffix = consumeText();\n            mustConsume(\"CLOSE\");\n            result.push({\n                name: name_1 || (pattern_1 ? key++ : \"\"),\n                pattern: name_1 && !pattern_1 ? defaultPattern : pattern_1,\n                prefix: prefix,\n                suffix: suffix,\n                modifier: tryConsume(\"MODIFIER\") || \"\"\n            });\n            continue;\n        }\n        mustConsume(\"END\");\n    }\n    return result;\n}\nexports.parse = parse;\n/**\n * Compile a string to a template function for the path.\n */\nfunction compile(str, options) {\n    return tokensToFunction(parse(str, options), options);\n}\nexports.compile = compile;\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction(tokens, options) {\n    if (options === void 0) { options = {}; }\n    var reFlags = flags(options);\n    var _a = options.encode, encode = _a === void 0 ? function (x) { return x; } : _a, _b = options.validate, validate = _b === void 0 ? true : _b;\n    // Compile all the tokens into regexps.\n    var matches = tokens.map(function (token) {\n        if (typeof token === \"object\") {\n            return new RegExp(\"^(?:\" + token.pattern + \")$\", reFlags);\n        }\n    });\n    return function (data) {\n        var path = \"\";\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            if (typeof token === \"string\") {\n                path += token;\n                continue;\n            }\n            var value = data ? data[token.name] : undefined;\n            var optional = token.modifier === \"?\" || token.modifier === \"*\";\n            var repeat = token.modifier === \"*\" || token.modifier === \"+\";\n            if (Array.isArray(value)) {\n                if (!repeat) {\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to not repeat, but got an array\");\n                }\n                if (value.length === 0) {\n                    if (optional)\n                        continue;\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to not be empty\");\n                }\n                for (var j = 0; j < value.length; j++) {\n                    var segment = encode(value[j], token);\n                    if (validate && !matches[i].test(segment)) {\n                        throw new TypeError(\"Expected all \\\"\" + token.name + \"\\\" to match \\\"\" + token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n                    }\n                    path += token.prefix + segment + token.suffix;\n                }\n                continue;\n            }\n            if (typeof value === \"string\" || typeof value === \"number\") {\n                var segment = encode(String(value), token);\n                if (validate && !matches[i].test(segment)) {\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to match \\\"\" + token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n                }\n                path += token.prefix + segment + token.suffix;\n                continue;\n            }\n            if (optional)\n                continue;\n            var typeOfMessage = repeat ? \"an array\" : \"a string\";\n            throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to be \" + typeOfMessage);\n        }\n        return path;\n    };\n}\nexports.tokensToFunction = tokensToFunction;\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nfunction match(str, options) {\n    var keys = [];\n    var re = pathToRegexp(str, keys, options);\n    return regexpToFunction(re, keys, options);\n}\nexports.match = match;\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nfunction regexpToFunction(re, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.decode, decode = _a === void 0 ? function (x) { return x; } : _a;\n    return function (pathname) {\n        var m = re.exec(pathname);\n        if (!m)\n            return false;\n        var path = m[0], index = m.index;\n        var params = Object.create(null);\n        var _loop_1 = function (i) {\n            // tslint:disable-next-line\n            if (m[i] === undefined)\n                return \"continue\";\n            var key = keys[i - 1];\n            if (key.modifier === \"*\" || key.modifier === \"+\") {\n                params[key.name] = m[i].split(key.prefix + key.suffix).map(function (value) {\n                    return decode(value, key);\n                });\n            }\n            else {\n                params[key.name] = decode(m[i], key);\n            }\n        };\n        for (var i = 1; i < m.length; i++) {\n            _loop_1(i);\n        }\n        return { path: path, index: index, params: params };\n    };\n}\nexports.regexpToFunction = regexpToFunction;\n/**\n * Escape a regular expression string.\n */\nfunction escapeString(str) {\n    return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n/**\n * Get the flags for a regexp from the options.\n */\nfunction flags(options) {\n    return options && options.sensitive ? \"\" : \"i\";\n}\n/**\n * Pull out keys from a regexp.\n */\nfunction regexpToRegexp(path, keys) {\n    if (!keys)\n        return path;\n    // Use a negative lookahead to match only capturing groups.\n    var groups = path.source.match(/\\((?!\\?)/g);\n    if (groups) {\n        for (var i = 0; i < groups.length; i++) {\n            keys.push({\n                name: i,\n                prefix: \"\",\n                suffix: \"\",\n                modifier: \"\",\n                pattern: \"\"\n            });\n        }\n    }\n    return path;\n}\n/**\n * Transform an array into a regexp.\n */\nfunction arrayToRegexp(paths, keys, options) {\n    var parts = paths.map(function (path) { return pathToRegexp(path, keys, options).source; });\n    return new RegExp(\"(?:\" + parts.join(\"|\") + \")\", flags(options));\n}\n/**\n * Create a path regexp from string input.\n */\nfunction stringToRegexp(path, keys, options) {\n    return tokensToRegexp(parse(path, options), keys, options);\n}\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nfunction tokensToRegexp(tokens, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.strict, strict = _a === void 0 ? false : _a, _b = options.start, start = _b === void 0 ? true : _b, _c = options.end, end = _c === void 0 ? true : _c, _d = options.encode, encode = _d === void 0 ? function (x) { return x; } : _d;\n    var endsWith = \"[\" + escapeString(options.endsWith || \"\") + \"]|$\";\n    var delimiter = \"[\" + escapeString(options.delimiter || \"/#?\") + \"]\";\n    var route = start ? \"^\" : \"\";\n    // Iterate over the tokens and create our regexp string.\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        if (typeof token === \"string\") {\n            route += escapeString(encode(token));\n        }\n        else {\n            var prefix = escapeString(encode(token.prefix));\n            var suffix = escapeString(encode(token.suffix));\n            if (token.pattern) {\n                if (keys)\n                    keys.push(token);\n                if (prefix || suffix) {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        var mod = token.modifier === \"*\" ? \"?\" : \"\";\n                        route += \"(?:\" + prefix + \"((?:\" + token.pattern + \")(?:\" + suffix + prefix + \"(?:\" + token.pattern + \"))*)\" + suffix + \")\" + mod;\n                    }\n                    else {\n                        route += \"(?:\" + prefix + \"(\" + token.pattern + \")\" + suffix + \")\" + token.modifier;\n                    }\n                }\n                else {\n                    route += \"(\" + token.pattern + \")\" + token.modifier;\n                }\n            }\n            else {\n                route += \"(?:\" + prefix + suffix + \")\" + token.modifier;\n            }\n        }\n    }\n    if (end) {\n        if (!strict)\n            route += delimiter + \"?\";\n        route += !options.endsWith ? \"$\" : \"(?=\" + endsWith + \")\";\n    }\n    else {\n        var endToken = tokens[tokens.length - 1];\n        var isEndDelimited = typeof endToken === \"string\"\n            ? delimiter.indexOf(endToken[endToken.length - 1]) > -1\n            : // tslint:disable-next-line\n                endToken === undefined;\n        if (!strict) {\n            route += \"(?:\" + delimiter + \"(?=\" + endsWith + \"))?\";\n        }\n        if (!isEndDelimited) {\n            route += \"(?=\" + delimiter + \"|\" + endsWith + \")\";\n        }\n    }\n    return new RegExp(route, flags(options));\n}\nexports.tokensToRegexp = tokensToRegexp;\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nfunction pathToRegexp(path, keys, options) {\n    if (path instanceof RegExp)\n        return regexpToRegexp(path, keys);\n    if (Array.isArray(path))\n        return arrayToRegexp(path, keys, options);\n    return stringToRegexp(path, keys, options);\n}\nexports.pathToRegexp = pathToRegexp;\n//# sourceMappingURL=index.js.map","'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar React = require('react');\nvar Component = React.Component;\n\nvar PropTypes = require('prop-types');\n\nvar _require = require('./getDeviceId'),\n    getDeviceId = _require.getDeviceId,\n    getFacingModePattern = _require.getFacingModePattern;\n\nvar havePropsChanged = require('./havePropsChanged');\nvar createBlob = require('./createBlob');\n\n// Require adapter to support older browser implementations\nrequire('webrtc-adapter');\n\n// Inline worker.js as a string value of workerBlob.\n// eslint-disable-next-line\nvar workerBlob = createBlob([\"!function(o,e){\\\"object\\\"==typeof exports&&\\\"object\\\"==typeof module?module.exports=e():\\\"function\\\"==typeof define&&define.amd?define([],e):\\\"object\\\"==typeof exports?exports.jsQR=e():o.jsQR=e()}(\\\"undefined\\\"!=typeof self?self:this,function(){return function(o){function e(t){if(r[t])return r[t].exports;var c=r[t]={i:t,l:!1,exports:{}};return o[t].call(c.exports,c,c.exports,e),c.l=!0,c.exports}var r={};return e.m=o,e.c=r,e.d=function(o,r,t){e.o(o,r)||Object.defineProperty(o,r,{configurable:!1,enumerable:!0,get:t})},e.n=function(o){var r=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(r,\\\"a\\\",r),r},e.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},e.p=\\\"\\\",e(e.s=3)}([function(o,e,r){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var t=function(){function o(o,e){this.width=e,this.height=o.length/e,this.data=o}return o.createEmpty=function(e,r){return new o(new Uint8ClampedArray(e*r),e)},o.prototype.get=function(o,e){return!(o<0||o>=this.width||e<0||e>=this.height)&&!!this.data[e*this.width+o]},o.prototype.set=function(o,e,r){this.data[e*this.width+o]=r?1:0},o.prototype.setRegion=function(o,e,r,t,c){for(var s=e;s<e+t;s++)for(var a=o;a<o+r;a++)this.set(a,s,!!c)},o}();e.BitMatrix=t},function(o,e,r){\\\"use strict\\\";function t(o,e){return o^e}Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var c=r(2);e.addOrSubtractGF=t;var s=function(){function o(o,e,r){this.primitive=o,this.size=e,this.generatorBase=r,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var t=1,s=0;s<this.size;s++)this.expTable[s]=t,(t*=2)>=this.size&&(t=(t^this.primitive)&this.size-1);for(var s=0;s<this.size-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new c.default(this,Uint8ClampedArray.from([0])),this.one=new c.default(this,Uint8ClampedArray.from([1]))}return o.prototype.multiply=function(o,e){return 0===o||0===e?0:this.expTable[(this.logTable[o]+this.logTable[e])%(this.size-1)]},o.prototype.inverse=function(o){if(0===o)throw new Error(\\\"Can't invert 0\\\");return this.expTable[this.size-this.logTable[o]-1]},o.prototype.buildMonomial=function(o,e){if(o<0)throw new Error(\\\"Invalid monomial degree less than 0\\\");if(0===e)return this.zero;var r=new Uint8ClampedArray(o+1);return r[0]=e,new c.default(this,r)},o.prototype.log=function(o){if(0===o)throw new Error(\\\"Can't take log(0)\\\");return this.logTable[o]},o.prototype.exp=function(o){return this.expTable[o]},o}();e.default=s},function(o,e,r){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var t=r(1),c=function(){function o(o,e){if(0===e.length)throw new Error(\\\"No coefficients.\\\");this.field=o;var r=e.length;if(r>1&&0===e[0]){for(var t=1;t<r&&0===e[t];)t++;if(t===r)this.coefficients=o.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(r-t);for(var c=0;c<this.coefficients.length;c++)this.coefficients[c]=e[t+c]}}else this.coefficients=e}return o.prototype.degree=function(){return this.coefficients.length-1},o.prototype.isZero=function(){return 0===this.coefficients[0]},o.prototype.getCoefficient=function(o){return this.coefficients[this.coefficients.length-1-o]},o.prototype.addOrSubtract=function(e){if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,c=e.coefficients;r.length>c.length&&(n=[c,r],r=n[0],c=n[1]);for(var s=new Uint8ClampedArray(c.length),a=c.length-r.length,d=0;d<a;d++)s[d]=c[d];for(var d=a;d<c.length;d++)s[d]=t.addOrSubtractGF(r[d-a],c[d]);return new o(this.field,s);var n},o.prototype.multiply=function(e){if(0===e)return this.field.zero;if(1===e)return this;for(var r=this.coefficients.length,t=new Uint8ClampedArray(r),c=0;c<r;c++)t[c]=this.field.multiply(this.coefficients[c],e);return new o(this.field,t)},o.prototype.multiplyPoly=function(e){if(this.isZero()||e.isZero())return this.field.zero;for(var r=this.coefficients,c=r.length,s=e.coefficients,a=s.length,d=new Uint8ClampedArray(c+a-1),n=0;n<c;n++)for(var l=r[n],i=0;i<a;i++)d[n+i]=t.addOrSubtractGF(d[n+i],this.field.multiply(l,s[i]));return new o(this.field,d)},o.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Error(\\\"Invalid degree less than 0\\\");if(0===r)return this.field.zero;for(var t=this.coefficients.length,c=new Uint8ClampedArray(t+e),s=0;s<t;s++)c[s]=this.field.multiply(this.coefficients[s],r);return new o(this.field,c)},o.prototype.evaluateAt=function(o){var e=0;if(0===o)return this.getCoefficient(0);var r=this.coefficients.length;if(1===o)return this.coefficients.forEach(function(o){e=t.addOrSubtractGF(e,o)}),e;e=this.coefficients[0];for(var c=1;c<r;c++)e=t.addOrSubtractGF(this.field.multiply(o,e),this.coefficients[c]);return e},o}();e.default=c},function(o,e,r){\\\"use strict\\\";function t(o){var e=n.locate(o);if(!e)return null;var r=d.extract(o,e),t=a.decode(r.matrix);return t?{binaryData:t.bytes,data:t.text,chunks:t.chunks,location:{topRightCorner:r.mappingFunction(e.dimension,0),topLeftCorner:r.mappingFunction(0,0),bottomRightCorner:r.mappingFunction(e.dimension,e.dimension),bottomLeftCorner:r.mappingFunction(0,e.dimension),topRightFinderPattern:e.topRight,topLeftFinderPattern:e.topLeft,bottomLeftFinderPattern:e.bottomLeft,bottomRightAlignmentPattern:e.alignmentPattern}}:null}function c(o,e,r,c){void 0===c&&(c={});var a=l;Object.keys(a||{}).forEach(function(o){a[o]=c[o]||a[o]});var d=\\\"attemptBoth\\\"===a.inversionAttempts||\\\"invertFirst\\\"===a.inversionAttempts,n=\\\"onlyInvert\\\"===a.inversionAttempts||\\\"invertFirst\\\"===a.inversionAttempts,i=s.binarize(o,e,r,d),B=i.binarized,k=i.inverted,u=t(n?k:B);return u||\\\"attemptBoth\\\"!==a.inversionAttempts&&\\\"invertFirst\\\"!==a.inversionAttempts||(u=t(n?B:k)),u}Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var s=r(4),a=r(5),d=r(11),n=r(12),l={inversionAttempts:\\\"attemptBoth\\\"};c.default=c,e.default=c},function(o,e,r){\\\"use strict\\\";function t(o,e,r){return o<e?e:o>r?r:o}function c(o,e,r,c){if(o.length!==e*r*4)throw new Error(\\\"Malformed data passed to binarizer.\\\");for(var l=new n(e,r),i=0;i<e;i++)for(var B=0;B<r;B++){var k=o[4*(B*e+i)+0],u=o[4*(B*e+i)+1],C=o[4*(B*e+i)+2];l.set(i,B,.2126*k+.7152*u+.0722*C)}for(var m=Math.ceil(e/a),f=Math.ceil(r/a),w=new n(m,f),P=0;P<f;P++)for(var v=0;v<m;v++){for(var h=0,p=1/0,y=0,B=0;B<a;B++)for(var i=0;i<a;i++){var b=l.get(v*a+i,P*a+B);h+=b,p=Math.min(p,b),y=Math.max(y,b)}var g=h/Math.pow(a,2);if(y-p<=d&&(g=p/2,P>0&&v>0)){var x=(w.get(v,P-1)+2*w.get(v-1,P)+w.get(v-1,P-1))/4;p<x&&(g=x)}w.set(v,P,g)}var M=s.BitMatrix.createEmpty(e,r),L=null;c&&(L=s.BitMatrix.createEmpty(e,r));for(var P=0;P<f;P++)for(var v=0;v<m;v++){for(var N=t(v,2,m-3),I=t(P,2,f-3),h=0,O=-2;O<=2;O++)for(var z=-2;z<=2;z++)h+=w.get(N+O,I+z);for(var S=h/25,O=0;O<a;O++)for(var z=0;z<a;z++){var i=v*a+O,B=P*a+z,X=l.get(i,B);M.set(i,B,X<=S),c&&L.set(i,B,!(X<=S))}}return c?{binarized:M,inverted:L}:{binarized:M}}Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var s=r(0),a=8,d=24,n=function(){function o(o,e){this.width=o,this.data=new Uint8ClampedArray(o*e)}return o.prototype.get=function(o,e){return this.data[e*this.width+o]},o.prototype.set=function(o,e,r){this.data[e*this.width+o]=r},o}();e.binarize=c},function(o,e,r){\\\"use strict\\\";function t(o,e){for(var r=o^e,t=0;r;)t++,r&=r-1;return t}function c(o,e){return e<<1|o}function s(o){var e=17+4*o.versionNumber,r=k.BitMatrix.createEmpty(e,e);r.setRegion(0,0,9,9,!0),r.setRegion(e-8,0,8,9,!0),r.setRegion(0,e-8,9,8,!0);for(var t=0,c=o.alignmentPatternCenters;t<c.length;t++)for(var s=c[t],a=0,d=o.alignmentPatternCenters;a<d.length;a++){var n=d[a];6===s&&6===n||6===s&&n===e-7||s===e-7&&6===n||r.setRegion(s-2,n-2,5,5,!0)}return r.setRegion(6,9,1,e-17,!0),r.setRegion(9,6,e-17,1,!0),o.versionNumber>6&&(r.setRegion(e-11,0,3,6,!0),r.setRegion(0,e-11,6,3,!0)),r}function a(o,e,r){for(var t=w[r.dataMask],a=o.height,d=s(e),n=[],l=0,i=0,B=!0,k=a-1;k>0;k-=2){6===k&&k--;for(var u=0;u<a;u++)for(var C=B?a-1-u:u,m=0;m<2;m++){var f=k-m;if(!d.get(f,C)){i++;var P=o.get(f,C);t({y:C,x:f})&&(P=!P),l=c(P,l),8===i&&(n.push(l),i=0,l=0)}}B=!B}return n}function d(o){var e=o.height,r=Math.floor((e-17)/4);if(r<=6)return m.VERSIONS[r-1];for(var s=0,a=5;a>=0;a--)for(var d=e-9;d>=e-11;d--)s=c(o.get(d,a),s);for(var n=0,d=5;d>=0;d--)for(var a=e-9;a>=e-11;a--)n=c(o.get(d,a),n);for(var l,i=1/0,B=0,k=m.VERSIONS;B<k.length;B++){var u=k[B];if(u.infoBits===s||u.infoBits===n)return u;var C=t(s,u.infoBits);C<i&&(l=u,i=C),C=t(n,u.infoBits),C<i&&(l=u,i=C)}return i<=3?l:void 0}function n(o){for(var e=0,r=0;r<=8;r++)6!==r&&(e=c(o.get(r,8),e));for(var s=7;s>=0;s--)6!==s&&(e=c(o.get(8,s),e));for(var a=o.height,d=0,s=a-1;s>=a-7;s--)d=c(o.get(8,s),d);for(var r=a-8;r<a;r++)d=c(o.get(r,8),d);for(var n=1/0,l=null,i=0,B=f;i<B.length;i++){var k=B[i],u=k.bits,C=k.formatInfo;if(u===e||u===d)return C;var m=t(e,u);m<n&&(l=C,n=m),e!==d&&(m=t(d,u))<n&&(l=C,n=m)}return n<=3?l:null}function l(o,e,r){var t=e.errorCorrectionLevels[r],c=[],s=0;if(t.ecBlocks.forEach(function(o){for(var e=0;e<o.numBlocks;e++)c.push({numDataCodewords:o.dataCodewordsPerBlock,codewords:[]}),s+=o.dataCodewordsPerBlock+t.ecCodewordsPerBlock}),o.length<s)return null;o=o.slice(0,s);for(var a=t.ecBlocks[0].dataCodewordsPerBlock,d=0;d<a;d++)for(var n=0,l=c;n<l.length;n++){var i=l[n];i.codewords.push(o.shift())}if(t.ecBlocks.length>1)for(var B=t.ecBlocks[0].numBlocks,k=t.ecBlocks[1].numBlocks,d=0;d<k;d++)c[B+d].codewords.push(o.shift());for(;o.length>0;)for(var u=0,C=c;u<C.length;u++){var i=C[u];i.codewords.push(o.shift())}return c}function i(o){var e=d(o);if(!e)return null;var r=n(o);if(!r)return null;var t=a(o,e,r),c=l(t,e,r.errorCorrectionLevel);if(!c)return null;for(var s=c.reduce(function(o,e){return o+e.numDataCodewords},0),i=new Uint8ClampedArray(s),B=0,k=0,m=c;k<m.length;k++){var f=m[k],w=C.decode(f.codewords,f.codewords.length-f.numDataCodewords);if(!w)return null;for(var P=0;P<f.numDataCodewords;P++)i[B++]=w[P]}try{return u.decode(i,e.versionNumber)}catch(o){return null}}function B(o){if(null==o)return null;var e=i(o);if(e)return e;for(var r=0;r<o.width;r++)for(var t=r+1;t<o.height;t++)o.get(r,t)!==o.get(t,r)&&(o.set(r,t,!o.get(r,t)),o.set(t,r,!o.get(t,r)));return i(o)}Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var k=r(0),u=r(6),C=r(9),m=r(10),f=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],w=[function(o){return(o.y+o.x)%2==0},function(o){return o.y%2==0},function(o){return o.x%3==0},function(o){return(o.y+o.x)%3==0},function(o){return(Math.floor(o.y/2)+Math.floor(o.x/3))%2==0},function(o){return o.x*o.y%2+o.x*o.y%3==0},function(o){return(o.y*o.x%2+o.y*o.x%3)%2==0},function(o){return((o.y+o.x)%2+o.y*o.x%3)%2==0}];e.decode=B},function(o,e,r){\\\"use strict\\\";function t(o,e){for(var r=[],t=\\\"\\\",c=[10,12,14][e],s=o.readBits(c);s>=3;){var a=o.readBits(10);if(a>=1e3)throw new Error(\\\"Invalid numeric value above 999\\\");var d=Math.floor(a/100),n=Math.floor(a/10)%10,l=a%10;r.push(48+d,48+n,48+l),t+=d.toString()+n.toString()+l.toString(),s-=3}if(2===s){var a=o.readBits(7);if(a>=100)throw new Error(\\\"Invalid numeric value above 99\\\");var d=Math.floor(a/10),n=a%10;r.push(48+d,48+n),t+=d.toString()+n.toString()}else if(1===s){var a=o.readBits(4);if(a>=10)throw new Error(\\\"Invalid numeric value above 9\\\");r.push(48+a),t+=a.toString()}return{bytes:r,text:t}}function c(o,e){for(var r=[],t=\\\"\\\",c=[9,11,13][e],s=o.readBits(c);s>=2;){var a=o.readBits(11),d=Math.floor(a/45),n=a%45;r.push(k[d].charCodeAt(0),k[n].charCodeAt(0)),t+=k[d]+k[n],s-=2}if(1===s){var d=o.readBits(6);r.push(k[d].charCodeAt(0)),t+=k[d]}return{bytes:r,text:t}}function s(o,e){for(var r=[],t=\\\"\\\",c=[8,16,16][e],s=o.readBits(c),a=0;a<s;a++){var d=o.readBits(8);r.push(d)}try{t+=decodeURIComponent(r.map(function(o){return\\\"%\\\"+(\\\"0\\\"+o.toString(16)).substr(-2)}).join(\\\"\\\"))}catch(o){}return{bytes:r,text:t}}function a(o,e){for(var r=[],t=\\\"\\\",c=[8,10,12][e],s=o.readBits(c),a=0;a<s;a++){var d=o.readBits(13),n=Math.floor(d/192)<<8|d%192;n+=n<7936?33088:49472,r.push(n>>8,255&n),t+=String.fromCharCode(i.shiftJISTable[n])}return{bytes:r,text:t}}function d(o,e){for(var r=new l.BitStream(o),d=e<=9?0:e<=26?1:2,i={text:\\\"\\\",bytes:[],chunks:[]};r.available()>=4;){var k=r.readBits(4);if(k===B.Terminator)return i;if(k===B.ECI)0===r.readBits(1)?i.chunks.push({type:n.ECI,assignmentNumber:r.readBits(7)}):0===r.readBits(1)?i.chunks.push({type:n.ECI,assignmentNumber:r.readBits(14)}):0===r.readBits(1)?i.chunks.push({type:n.ECI,assignmentNumber:r.readBits(21)}):i.chunks.push({type:n.ECI,assignmentNumber:-1});else if(k===B.Numeric){var u=t(r,d);i.text+=u.text,(w=i.bytes).push.apply(w,u.bytes),i.chunks.push({type:n.Numeric,text:u.text})}else if(k===B.Alphanumeric){var C=c(r,d);i.text+=C.text,(P=i.bytes).push.apply(P,C.bytes),i.chunks.push({type:n.Alphanumeric,text:C.text})}else if(k===B.Byte){var m=s(r,d);i.text+=m.text,(v=i.bytes).push.apply(v,m.bytes),i.chunks.push({type:n.Byte,bytes:m.bytes,text:m.text})}else if(k===B.Kanji){var f=a(r,d);i.text+=f.text,(h=i.bytes).push.apply(h,f.bytes),i.chunks.push({type:n.Kanji,bytes:f.bytes,text:f.text})}}var w,P,v,h}Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var n,l=r(7),i=r(8);!function(o){o.Numeric=\\\"numeric\\\",o.Alphanumeric=\\\"alphanumeric\\\",o.Byte=\\\"byte\\\",o.Kanji=\\\"kanji\\\",o.ECI=\\\"eci\\\"}(n=e.Mode||(e.Mode={}));var B;!function(o){o[o.Terminator=0]=\\\"Terminator\\\",o[o.Numeric=1]=\\\"Numeric\\\",o[o.Alphanumeric=2]=\\\"Alphanumeric\\\",o[o.Byte=4]=\\\"Byte\\\",o[o.Kanji=8]=\\\"Kanji\\\",o[o.ECI=7]=\\\"ECI\\\"}(B||(B={}));var k=[\\\"0\\\",\\\"1\\\",\\\"2\\\",\\\"3\\\",\\\"4\\\",\\\"5\\\",\\\"6\\\",\\\"7\\\",\\\"8\\\",\\\"9\\\",\\\"A\\\",\\\"B\\\",\\\"C\\\",\\\"D\\\",\\\"E\\\",\\\"F\\\",\\\"G\\\",\\\"H\\\",\\\"I\\\",\\\"J\\\",\\\"K\\\",\\\"L\\\",\\\"M\\\",\\\"N\\\",\\\"O\\\",\\\"P\\\",\\\"Q\\\",\\\"R\\\",\\\"S\\\",\\\"T\\\",\\\"U\\\",\\\"V\\\",\\\"W\\\",\\\"X\\\",\\\"Y\\\",\\\"Z\\\",\\\" \\\",\\\"$\\\",\\\"%\\\",\\\"*\\\",\\\"+\\\",\\\"-\\\",\\\".\\\",\\\"/\\\",\\\":\\\"];e.decode=d},function(o,e,r){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var t=function(){function o(o){this.byteOffset=0,this.bitOffset=0,this.bytes=o}return o.prototype.readBits=function(o){if(o<1||o>32||o>this.available())throw new Error(\\\"Cannot read \\\"+o.toString()+\\\" bits\\\");var e=0;if(this.bitOffset>0){var r=8-this.bitOffset,t=o<r?o:r,c=r-t,s=255>>8-t<<c;e=(this.bytes[this.byteOffset]&s)>>c,o-=t,this.bitOffset+=t,8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(o>0){for(;o>=8;)e=e<<8|255&this.bytes[this.byteOffset],this.byteOffset++,o-=8;if(o>0){var c=8-o,s=255>>c<<c;e=e<<o|(this.bytes[this.byteOffset]&s)>>c,this.bitOffset+=o}}return e},o.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},o}();e.BitStream=t},function(o,e,r){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0}),e.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,\\n36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,\\n39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,\\n59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(o,e,r){\\\"use strict\\\";function t(o,e,r,t){e.degree()<r.degree()&&(w=[r,e],e=w[0],r=w[1]);for(var c=e,s=r,a=o.zero,d=o.one;s.degree()>=t/2;){var n=c,l=a;if(c=s,a=d,c.isZero())return null;s=n;for(var i=o.zero,B=c.getCoefficient(c.degree()),k=o.inverse(B);s.degree()>=c.degree()&&!s.isZero();){var u=s.degree()-c.degree(),C=o.multiply(s.getCoefficient(s.degree()),k);i=i.addOrSubtract(o.buildMonomial(u,C)),s=s.addOrSubtract(c.multiplyByMonomial(u,C))}if(d=i.multiplyPoly(a).addOrSubtract(l),s.degree()>=c.degree())return null}var m=d.getCoefficient(0);if(0===m)return null;var f=o.inverse(m);return[d.multiply(f),s.multiply(f)];var w}function c(o,e){var r=e.degree();if(1===r)return[e.getCoefficient(1)];for(var t=new Array(r),c=0,s=1;s<o.size&&c<r;s++)0===e.evaluateAt(s)&&(t[c]=o.inverse(s),c++);return c!==r?null:t}function s(o,e,r){for(var t=r.length,c=new Array(t),s=0;s<t;s++){for(var a=o.inverse(r[s]),n=1,l=0;l<t;l++)s!==l&&(n=o.multiply(n,d.addOrSubtractGF(1,o.multiply(r[l],a))));c[s]=o.multiply(e.evaluateAt(a),o.inverse(n)),0!==o.generatorBase&&(c[s]=o.multiply(c[s],a))}return c}function a(o,e){var r=new Uint8ClampedArray(o.length);r.set(o);for(var a=new d.default(285,256,0),l=new n.default(a,r),i=new Uint8ClampedArray(e),B=!1,k=0;k<e;k++){var u=l.evaluateAt(a.exp(k+a.generatorBase));i[i.length-1-k]=u,0!==u&&(B=!0)}if(!B)return r;var C=new n.default(a,i),m=t(a,a.buildMonomial(e,1),C,e);if(null===m)return null;var f=c(a,m[0]);if(null==f)return null;for(var w=s(a,m[1],f),P=0;P<f.length;P++){var v=r.length-1-a.log(f[P]);if(v<0)return null;r[v]=d.addOrSubtractGF(r[v],w[P])}return r}Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var d=r(1),n=r(2);e.decode=a},function(o,e,r){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0}),e.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(o,e,r){\\\"use strict\\\";function t(o,e,r,t){var c=o.x-e.x+r.x-t.x,s=o.y-e.y+r.y-t.y;if(0===c&&0===s)return{a11:e.x-o.x,a12:e.y-o.y,a13:0,a21:r.x-e.x,a22:r.y-e.y,a23:0,a31:o.x,a32:o.y,a33:1};var a=e.x-r.x,d=t.x-r.x,n=e.y-r.y,l=t.y-r.y,i=a*l-d*n,B=(c*l-d*s)/i,k=(a*s-c*n)/i;return{a11:e.x-o.x+B*e.x,a12:e.y-o.y+B*e.y,a13:B,a21:t.x-o.x+k*t.x,a22:t.y-o.y+k*t.y,a23:k,a31:o.x,a32:o.y,a33:1}}function c(o,e,r,c){var s=t(o,e,r,c);return{a11:s.a22*s.a33-s.a23*s.a32,a12:s.a13*s.a32-s.a12*s.a33,a13:s.a12*s.a23-s.a13*s.a22,a21:s.a23*s.a31-s.a21*s.a33,a22:s.a11*s.a33-s.a13*s.a31,a23:s.a13*s.a21-s.a11*s.a23,a31:s.a21*s.a32-s.a22*s.a31,a32:s.a12*s.a31-s.a11*s.a32,a33:s.a11*s.a22-s.a12*s.a21}}function s(o,e){return{a11:o.a11*e.a11+o.a21*e.a12+o.a31*e.a13,a12:o.a12*e.a11+o.a22*e.a12+o.a32*e.a13,a13:o.a13*e.a11+o.a23*e.a12+o.a33*e.a13,a21:o.a11*e.a21+o.a21*e.a22+o.a31*e.a23,a22:o.a12*e.a21+o.a22*e.a22+o.a32*e.a23,a23:o.a13*e.a21+o.a23*e.a22+o.a33*e.a23,a31:o.a11*e.a31+o.a21*e.a32+o.a31*e.a33,a32:o.a12*e.a31+o.a22*e.a32+o.a32*e.a33,a33:o.a13*e.a31+o.a23*e.a32+o.a33*e.a33}}function a(o,e){for(var r=c({x:3.5,y:3.5},{x:e.dimension-3.5,y:3.5},{x:e.dimension-6.5,y:e.dimension-6.5},{x:3.5,y:e.dimension-3.5}),a=t(e.topLeft,e.topRight,e.alignmentPattern,e.bottomLeft),n=s(a,r),l=d.BitMatrix.createEmpty(e.dimension,e.dimension),i=function(o,e){var r=n.a13*o+n.a23*e+n.a33;return{x:(n.a11*o+n.a21*e+n.a31)/r,y:(n.a12*o+n.a22*e+n.a32)/r}},B=0;B<e.dimension;B++)for(var k=0;k<e.dimension;k++){var u=k+.5,C=B+.5,m=i(u,C);l.set(k,B,o.get(Math.floor(m.x),Math.floor(m.y)))}return{matrix:l,mappingFunction:i}}Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var d=r(0);e.extract=a},function(o,e,r){\\\"use strict\\\";function t(o){return o.reduce(function(o,e){return o+e})}function c(o,e,r){var t,c,s,a=C(o,e),d=C(e,r),n=C(o,r);return d>=a&&d>=n?(l=[e,o,r],t=l[0],c=l[1],s=l[2]):n>=d&&n>=a?(i=[o,e,r],t=i[0],c=i[1],s=i[2]):(B=[o,r,e],t=B[0],c=B[1],s=B[2]),(s.x-c.x)*(t.y-c.y)-(s.y-c.y)*(t.x-c.x)<0&&(k=[s,t],t=k[0],s=k[1]),{bottomLeft:t,topLeft:c,topRight:s};var l,i,B,k}function s(o,e,r,c){var s=(t(d(o,r,c,5))/7+t(d(o,e,c,5))/7+t(d(r,o,c,5))/7+t(d(e,o,c,5))/7)/4;if(s<1)throw new Error(\\\"Invalid module size\\\");var a=Math.round(C(o,e)/s),n=Math.round(C(o,r)/s),l=Math.floor((a+n)/2)+7;switch(l%4){case 0:l++;break;case 2:l--}return{dimension:l,moduleSize:s}}function a(o,e,r,t){var c,s,a,d,n=[{x:Math.floor(o.x),y:Math.floor(o.y)}],l=Math.abs(e.y-o.y)>Math.abs(e.x-o.x);l?(c=Math.floor(o.y),s=Math.floor(o.x),a=Math.floor(e.y),d=Math.floor(e.x)):(c=Math.floor(o.x),s=Math.floor(o.y),a=Math.floor(e.x),d=Math.floor(e.y));for(var i=Math.abs(a-c),B=Math.abs(d-s),k=Math.floor(-i/2),u=c<a?1:-1,m=s<d?1:-1,f=!0,w=c,P=s;w!==a+u;w+=u){var v=l?P:w,h=l?w:P;if(r.get(v,h)!==f&&(f=!f,n.push({x:v,y:h}),n.length===t+1))break;if((k+=B)>0){if(P===d)break;P+=m,k-=i}}for(var p=[],y=0;y<t;y++)n[y]&&n[y+1]?p.push(C(n[y],n[y+1])):p.push(0);return p}function d(o,e,r,t){var c=e.y-o.y,s=e.x-o.x,d=a(o,e,r,Math.ceil(t/2)),n=a(o,{x:o.x-s,y:o.y-c},r,Math.ceil(t/2)),l=d.shift()+n.shift()-1;return(i=n.concat(l)).concat.apply(i,d);var i}function n(o,e){var r=t(o)/t(e),c=0;return e.forEach(function(e,t){c+=Math.pow(o[t]-e*r,2)}),{averageSize:r,error:c}}function l(o,e,r){try{var t=d(o,{x:-1,y:o.y},r,e.length),c=d(o,{x:o.x,y:-1},r,e.length),s={x:Math.max(0,o.x-o.y)-1,y:Math.max(0,o.y-o.x)-1},a=d(o,s,r,e.length),l={x:Math.min(r.width,o.x+o.y)+1,y:Math.min(r.height,o.y+o.x)+1},i=d(o,l,r,e.length),B=n(t,e),k=n(c,e),u=n(a,e),C=n(i,e),m=Math.sqrt(B.error*B.error+k.error*k.error+u.error*u.error+C.error*C.error),f=(B.averageSize+k.averageSize+u.averageSize+C.averageSize)/4;return m+(Math.pow(B.averageSize-f,2)+Math.pow(k.averageSize-f,2)+Math.pow(u.averageSize-f,2)+Math.pow(C.averageSize-f,2))/f}catch(o){return 1/0}}function i(o){for(var e=[],r=[],a=[],d=[],n=0;n<=o.height;n++)!function(c){for(var s=0,n=!1,l=[0,0,0,0,0],i=-1;i<=o.width;i++)!function(e){var a=o.get(e,c);if(a===n)s++;else{l=[l[1],l[2],l[3],l[4],s],s=1,n=a;var i=t(l)/7,B=Math.abs(l[0]-i)<i&&Math.abs(l[1]-i)<i&&Math.abs(l[2]-3*i)<3*i&&Math.abs(l[3]-i)<i&&Math.abs(l[4]-i)<i&&!a,C=t(l.slice(-3))/3,m=Math.abs(l[2]-C)<C&&Math.abs(l[3]-C)<C&&Math.abs(l[4]-C)<C&&a;if(B){var f=e-l[3]-l[4],w=f-l[2],P={startX:w,endX:f,y:c},v=r.filter(function(o){return w>=o.bottom.startX&&w<=o.bottom.endX||f>=o.bottom.startX&&w<=o.bottom.endX||w<=o.bottom.startX&&f>=o.bottom.endX&&l[2]/(o.bottom.endX-o.bottom.startX)<u&&l[2]/(o.bottom.endX-o.bottom.startX)>k});v.length>0?v[0].bottom=P:r.push({top:P,bottom:P})}if(m){var h=e-l[4],p=h-l[3],P={startX:p,y:c,endX:h},v=d.filter(function(o){return p>=o.bottom.startX&&p<=o.bottom.endX||h>=o.bottom.startX&&p<=o.bottom.endX||p<=o.bottom.startX&&h>=o.bottom.endX&&l[2]/(o.bottom.endX-o.bottom.startX)<u&&l[2]/(o.bottom.endX-o.bottom.startX)>k});v.length>0?v[0].bottom=P:d.push({top:P,bottom:P})}}}(i);e.push.apply(e,r.filter(function(o){return o.bottom.y!==c&&o.bottom.y-o.top.y>=2})),r=r.filter(function(o){return o.bottom.y===c}),a.push.apply(a,d.filter(function(o){return o.bottom.y!==c})),d=d.filter(function(o){return o.bottom.y===c})}(n);e.push.apply(e,r.filter(function(o){return o.bottom.y-o.top.y>=2})),a.push.apply(a,d);var i=e.filter(function(o){return o.bottom.y-o.top.y>=2}).map(function(e){var r=(e.top.startX+e.top.endX+e.bottom.startX+e.bottom.endX)/4,c=(e.top.y+e.bottom.y+1)/2;if(o.get(Math.round(r),Math.round(c))){\\nvar s=[e.top.endX-e.top.startX,e.bottom.endX-e.bottom.startX,e.bottom.y-e.top.y+1],a=t(s)/s.length;return{score:l({x:Math.round(r),y:Math.round(c)},[1,1,3,1,1],o),x:r,y:c,size:a}}}).filter(function(o){return!!o}).sort(function(o,e){return o.score-e.score}).map(function(o,e,r){if(e>B)return null;var t=r.filter(function(o,r){return e!==r}).map(function(e){return{x:e.x,y:e.y,score:e.score+Math.pow(e.size-o.size,2)/o.size,size:e.size}}).sort(function(o,e){return o.score-e.score});if(t.length<2)return null;var c=o.score+t[0].score+t[1].score;return{points:[o].concat(t.slice(0,2)),score:c}}).filter(function(o){return!!o}).sort(function(o,e){return o.score-e.score});if(0===i.length)return null;var m,f,w=c(i[0].points[0],i[0].points[1],i[0].points[2]),P=w.topRight,v=w.topLeft,h=w.bottomLeft;try{L=s(v,P,h,o),m=L.dimension,f=L.moduleSize}catch(o){return null}var p={x:P.x-v.x+h.x,y:P.y-v.y+h.y},y=(C(v,h)+C(v,P))/2/f,b=1-3/y,g={x:v.x+b*(p.x-v.x),y:v.y+b*(p.y-v.y)},x=a.map(function(e){var r=(e.top.startX+e.top.endX+e.bottom.startX+e.bottom.endX)/4,c=(e.top.y+e.bottom.y+1)/2;if(o.get(Math.floor(r),Math.floor(c))){var s=[e.top.endX-e.top.startX,e.bottom.endX-e.bottom.startX,e.bottom.y-e.top.y+1];t(s);return{x:r,y:c,score:l({x:Math.floor(r),y:Math.floor(c)},[1,1,1],o)+C({x:r,y:c},g)}}}).filter(function(o){return!!o}).sort(function(o,e){return o.score-e.score}),M=y>=15&&x.length?x[0]:g;return{alignmentPattern:{x:M.x,y:M.y},bottomLeft:{x:h.x,y:h.y},dimension:m,topLeft:{x:v.x,y:v.y},topRight:{x:P.x,y:P.y}};var L}Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var B=4,k=.5,u=1.5,C=function(o,e){return Math.sqrt(Math.pow(e.x-o.x,2)+Math.pow(e.y-o.y,2))};e.locate=i}]).default}),self.addEventListener(\\\"message\\\",function(o){var e=jsQR(o.data.data,o.data.width,o.data.height);e?postMessage(e.data):postMessage(null)});\"], {\n  type: 'application/javascript'\n});\n\n// Props that are allowed to change dynamicly\nvar propsKeys = ['delay', 'legacyMode', 'facingMode'];\n\nmodule.exports = (_temp = _class = function (_Component) {\n  _inherits(Reader, _Component);\n\n  function Reader(props) {\n    _classCallCheck(this, Reader);\n\n    var _this = _possibleConstructorReturn(this, (Reader.__proto__ || Object.getPrototypeOf(Reader)).call(this, props));\n\n    _this.els = {};\n\n\n    _this.state = {\n      mirrorVideo: false\n\n      // Bind function to the class\n    };_this.initiate = _this.initiate.bind(_this);\n    _this.initiateLegacyMode = _this.initiateLegacyMode.bind(_this);\n    _this.check = _this.check.bind(_this);\n    _this.handleVideo = _this.handleVideo.bind(_this);\n    _this.handleLoadStart = _this.handleLoadStart.bind(_this);\n    _this.handleInputChange = _this.handleInputChange.bind(_this);\n    _this.clearComponent = _this.clearComponent.bind(_this);\n    _this.handleReaderLoad = _this.handleReaderLoad.bind(_this);\n    _this.openImageDialog = _this.openImageDialog.bind(_this);\n    _this.handleWorkerMessage = _this.handleWorkerMessage.bind(_this);\n    _this.setRefFactory = _this.setRefFactory.bind(_this);\n    return _this;\n  }\n\n  _createClass(Reader, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      // Initiate web worker execute handler according to mode.\n      this.worker = new Worker(URL.createObjectURL(workerBlob));\n      this.worker.onmessage = this.handleWorkerMessage;\n\n      if (!this.props.legacyMode) {\n        this.initiate();\n      } else {\n        this.initiateLegacyMode();\n      }\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      // React according to change in props\n      var changedProps = havePropsChanged(this.props, nextProps, propsKeys);\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = changedProps[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var prop = _step.value;\n\n          if (prop == 'facingMode') {\n            this.clearComponent();\n            this.initiate(nextProps);\n            break;\n          } else if (prop == 'delay') {\n            if (this.props.delay == false && !nextProps.legacyMode) {\n              this.timeout = setTimeout(this.check, nextProps.delay);\n            }\n            if (nextProps.delay == false) {\n              clearTimeout(this.timeout);\n            }\n          } else if (prop == 'legacyMode') {\n            if (this.props.legacyMode && !nextProps.legacyMode) {\n              this.clearComponent();\n              this.initiate(nextProps);\n            } else {\n              this.clearComponent();\n              this.componentDidUpdate = this.initiateLegacyMode;\n            }\n            break;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      if (nextState !== this.state) {\n        return true;\n      }\n\n      // Only render when the `propsKeys` have changed.\n      var changedProps = havePropsChanged(this.props, nextProps, propsKeys);\n      return changedProps.length > 0;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      // Stop web-worker and clear the component\n      if (this.worker) {\n        this.worker.terminate();\n        this.worker = undefined;\n      }\n      this.clearComponent();\n    }\n  }, {\n    key: 'clearComponent',\n    value: function clearComponent() {\n      // Remove all event listeners and variables\n      if (this.timeout) {\n        clearTimeout(this.timeout);\n        this.timeout = undefined;\n      }\n      if (this.stopCamera) {\n        this.stopCamera();\n      }\n      if (this.reader) {\n        this.reader.removeEventListener('load', this.handleReaderLoad);\n      }\n      if (this.els.img) {\n        this.els.img.removeEventListener('load', this.check);\n      }\n    }\n  }, {\n    key: 'initiate',\n    value: function initiate() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var onError = props.onError,\n          facingMode = props.facingMode;\n\n      // Check browser facingMode constraint support\n      // Firefox ignores facingMode or deviceId constraints\n\n      var isFirefox = /firefox/i.test(navigator.userAgent);\n      var supported = {};\n      if (navigator.mediaDevices && typeof navigator.mediaDevices.getSupportedConstraints === 'function') {\n        supported = navigator.mediaDevices.getSupportedConstraints();\n      }\n      var constraints = {};\n\n      if (supported.facingMode) {\n        constraints.facingMode = { ideal: facingMode };\n      }\n      if (supported.frameRate) {\n        constraints.frameRate = { ideal: 25, min: 10 };\n      }\n\n      var vConstraintsPromise = supported.facingMode || isFirefox ? Promise.resolve(props.constraints || constraints) : getDeviceId(facingMode).then(function (deviceId) {\n        return Object.assign({}, { deviceId: deviceId }, props.constraints);\n      });\n\n      vConstraintsPromise.then(function (video) {\n        return navigator.mediaDevices.getUserMedia({ video: video });\n      }).then(this.handleVideo).catch(onError);\n    }\n  }, {\n    key: 'handleVideo',\n    value: function handleVideo(stream) {\n      var preview = this.els.preview;\n      var facingMode = this.props.facingMode;\n\n      // Preview element hasn't been rendered so wait for it.\n\n      if (!preview) {\n        return setTimeout(this.handleVideo, 200, stream);\n      }\n\n      // Handle different browser implementations of MediaStreams as src\n      if ((preview || {}).srcObject !== undefined) {\n        preview.srcObject = stream;\n      } else if (preview.mozSrcObject !== undefined) {\n        preview.mozSrcObject = stream;\n      } else if (window.URL.createObjectURL) {\n        preview.src = window.URL.createObjectURL(stream);\n      } else if (window.webkitURL) {\n        preview.src = window.webkitURL.createObjectURL(stream);\n      } else {\n        preview.src = stream;\n      }\n\n      // IOS play in fullscreen\n      preview.playsInline = true;\n\n      var streamTrack = stream.getTracks()[0];\n      // Assign `stopCamera` so the track can be stopped once component is cleared\n      this.stopCamera = streamTrack.stop.bind(streamTrack);\n\n      preview.addEventListener('loadstart', this.handleLoadStart);\n\n      this.setState({ mirrorVideo: facingMode == 'user', streamLabel: streamTrack.label });\n    }\n  }, {\n    key: 'handleLoadStart',\n    value: function handleLoadStart() {\n      var _props = this.props,\n          delay = _props.delay,\n          onLoad = _props.onLoad;\n      var _state = this.state,\n          mirrorVideo = _state.mirrorVideo,\n          streamLabel = _state.streamLabel;\n\n      var preview = this.els.preview;\n      preview.play();\n\n      if (typeof onLoad == 'function') {\n        onLoad({ mirrorVideo: mirrorVideo, streamLabel: streamLabel });\n      }\n\n      if (typeof delay == 'number') {\n        this.timeout = setTimeout(this.check, delay);\n      }\n\n      // Some browsers call loadstart continuously\n      preview.removeEventListener('loadstart', this.handleLoadStart);\n    }\n  }, {\n    key: 'check',\n    value: function check() {\n      var _props2 = this.props,\n          legacyMode = _props2.legacyMode,\n          resolution = _props2.resolution,\n          delay = _props2.delay;\n      var _els = this.els,\n          preview = _els.preview,\n          canvas = _els.canvas,\n          img = _els.img;\n\n      // Get image/video dimensions\n\n      var width = Math.floor(legacyMode ? img.naturalWidth : preview.videoWidth);\n      var height = Math.floor(legacyMode ? img.naturalHeight : preview.videoHeight);\n\n      // Canvas draw offsets\n      var hozOffset = 0;\n      var vertOffset = 0;\n\n      // Scale image to correct resolution\n      if (legacyMode) {\n        // Keep image aspect ratio\n        var greatestSize = width > height ? width : height;\n        var ratio = resolution / greatestSize;\n\n        height = ratio * height;\n        width = ratio * width;\n\n        canvas.width = width;\n        canvas.height = height;\n      } else {\n        // Crop image to fit 1:1 aspect ratio\n        var smallestSize = width < height ? width : height;\n        var _ratio = resolution / smallestSize;\n\n        height = _ratio * height;\n        width = _ratio * width;\n\n        vertOffset = (height - resolution) / 2 * -1;\n        hozOffset = (width - resolution) / 2 * -1;\n\n        canvas.width = resolution;\n        canvas.height = resolution;\n      }\n\n      var previewIsPlaying = preview && preview.readyState === preview.HAVE_ENOUGH_DATA;\n\n      if (legacyMode || previewIsPlaying) {\n        var ctx = canvas.getContext('2d');\n\n        ctx.drawImage(legacyMode ? img : preview, hozOffset, vertOffset, width, height);\n\n        var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        // Send data to web-worker\n        this.worker.postMessage(imageData);\n      } else {\n        // Preview not ready -> check later\n        this.timeout = setTimeout(this.check, delay);\n      }\n    }\n  }, {\n    key: 'handleWorkerMessage',\n    value: function handleWorkerMessage(e) {\n      var _props3 = this.props,\n          onScan = _props3.onScan,\n          legacyMode = _props3.legacyMode,\n          delay = _props3.delay;\n\n      var decoded = e.data;\n      onScan(decoded || null);\n\n      if (!legacyMode && typeof delay == 'number' && this.worker) {\n        this.timeout = setTimeout(this.check, delay);\n      }\n    }\n  }, {\n    key: 'initiateLegacyMode',\n    value: function initiateLegacyMode() {\n      this.reader = new FileReader();\n      this.reader.addEventListener('load', this.handleReaderLoad);\n      this.els.img.addEventListener('load', this.check, false);\n\n      // Reset componentDidUpdate\n      this.componentDidUpdate = undefined;\n\n      if (typeof this.props.onLoad == 'function') {\n        this.props.onLoad();\n      }\n    }\n  }, {\n    key: 'handleInputChange',\n    value: function handleInputChange(e) {\n      var selectedImg = e.target.files[0];\n      this.reader.readAsDataURL(selectedImg);\n    }\n  }, {\n    key: 'handleReaderLoad',\n    value: function handleReaderLoad(e) {\n      // Set selected image blob as img source\n      this.els.img.src = e.target.result;\n    }\n  }, {\n    key: 'openImageDialog',\n    value: function openImageDialog() {\n      // Function to be executed by parent in user action context to trigger img file uploader\n      this.els.input.click();\n    }\n  }, {\n    key: 'setRefFactory',\n    value: function setRefFactory(key) {\n      var _this2 = this;\n\n      return function (element) {\n        _this2.els[key] = element;\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props4 = this.props,\n          style = _props4.style,\n          className = _props4.className,\n          onImageLoad = _props4.onImageLoad,\n          legacyMode = _props4.legacyMode,\n          showViewFinder = _props4.showViewFinder,\n          facingMode = _props4.facingMode;\n\n\n      var containerStyle = {\n        overflow: 'hidden',\n        position: 'relative',\n        width: '100%',\n        paddingTop: '100%'\n      };\n      var hiddenStyle = { display: 'none' };\n      var previewStyle = {\n        top: 0,\n        left: 0,\n        display: 'block',\n        position: 'absolute',\n        overflow: 'hidden',\n        width: '100%',\n        height: '100%'\n      };\n      var videoPreviewStyle = _extends({}, previewStyle, {\n        objectFit: 'cover',\n        transform: this.state.mirrorVideo ? 'scaleX(-1)' : undefined\n      });\n      var imgPreviewStyle = _extends({}, previewStyle, {\n        objectFit: 'scale-down'\n      });\n\n      var viewFinderStyle = {\n        top: 0,\n        left: 0,\n        zIndex: 1,\n        boxSizing: 'border-box',\n        border: '50px solid rgba(0, 0, 0, 0.3)',\n        boxShadow: 'inset 0 0 0 5px rgba(255, 0, 0, 0.5)',\n        position: 'absolute',\n        width: '100%',\n        height: '100%'\n      };\n\n      return React.createElement(\n        'section',\n        { className: className, style: style },\n        React.createElement(\n          'section',\n          { style: containerStyle },\n          !legacyMode && showViewFinder ? React.createElement('div', { style: viewFinderStyle }) : null,\n          legacyMode ? React.createElement('input', {\n            style: hiddenStyle,\n            type: 'file',\n            accept: 'image/*',\n            ref: this.setRefFactory('input'),\n            onChange: this.handleInputChange\n          }) : null,\n          legacyMode ? React.createElement('img', { style: imgPreviewStyle, ref: this.setRefFactory('img'), onLoad: onImageLoad }) : React.createElement('video', { style: videoPreviewStyle, ref: this.setRefFactory('preview') }),\n          React.createElement('canvas', { style: hiddenStyle, ref: this.setRefFactory('canvas') })\n        )\n      );\n    }\n  }]);\n\n  return Reader;\n}(Component), _class.propTypes = {\n  onScan: PropTypes.func.isRequired,\n  onError: PropTypes.func.isRequired,\n  onLoad: PropTypes.func,\n  onImageLoad: PropTypes.func,\n  delay: PropTypes.oneOfType([PropTypes.number, PropTypes.bool]),\n  facingMode: PropTypes.oneOf(['user', 'environment']),\n  legacyMode: PropTypes.bool,\n  resolution: PropTypes.number,\n  showViewFinder: PropTypes.bool,\n  style: PropTypes.any,\n  className: PropTypes.string,\n  constraints: PropTypes.object\n}, _class.defaultProps = {\n  delay: 500,\n  resolution: 600,\n  facingMode: 'environment',\n  showViewFinder: true,\n  constraints: null\n}, _temp);","'use strict';\n\nvar _require = require('./errors'),\n    NoVideoInputDevicesError = _require.NoVideoInputDevicesError;\n\nfunction defaultDeviceIdChooser(filteredDevices, videoDevices, facingMode) {\n  if (filteredDevices.length > 0) {\n    return filteredDevices[0].deviceId;\n  }\n  if (videoDevices.length == 1 || facingMode == 'user') {\n    return videoDevices[0].deviceId;\n  }\n  return videoDevices[1].deviceId;\n}\n\nvar getFacingModePattern = function getFacingModePattern(facingMode) {\n  return facingMode == 'environment' ? /rear|back|environment/ig : /front|user|face/ig;\n};\n\nfunction getDeviceId(facingMode) {\n  var chooseDeviceId = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultDeviceIdChooser;\n\n  // Get manual deviceId from available devices.\n  return new Promise(function (resolve, reject) {\n    var enumerateDevices = void 0;\n    try {\n      enumerateDevices = navigator.mediaDevices.enumerateDevices();\n    } catch (err) {\n      reject(new NoVideoInputDevicesError());\n    }\n    enumerateDevices.then(function (devices) {\n      // Filter out non-videoinputs\n      var videoDevices = devices.filter(function (device) {\n        return device.kind == 'videoinput';\n      });\n\n      if (videoDevices.length < 1) {\n        reject(new NoVideoInputDevicesError());\n        return;\n      }\n\n      var pattern = getFacingModePattern(facingMode);\n\n      // Filter out video devices without the pattern\n      var filteredDevices = videoDevices.filter(function (_ref) {\n        var label = _ref.label;\n        return pattern.test(label);\n      });\n\n      resolve(chooseDeviceId(filteredDevices, videoDevices, facingMode));\n    });\n  });\n}\n\nmodule.exports = { getDeviceId: getDeviceId, getFacingModePattern: getFacingModePattern };","'use strict';\n\nfunction NoVideoInputDevicesError() {\n  this.name = 'NoVideoInputDevicesError';\n  this.message = 'No video input devices found';\n}\nNoVideoInputDevicesError.prototype = new Error();\n\nmodule.exports = {\n  NoVideoInputDevicesError: NoVideoInputDevicesError\n};","\"use strict\";\n\nmodule.exports = function havePropsChanged(prevProps, nextProps, keys) {\n  var changedProps = [];\n  keys.forEach(function (key) {\n    if (prevProps[key] != nextProps[key]) {\n      changedProps.push(key);\n    }\n  });\n  return changedProps;\n};","\"use strict\";\n\n/**\n * From https://gist.github.com/nolanlawson/10340255\n */\nmodule.exports = function createBlob(parts, properties) {\n  parts = parts || [];\n  properties = properties || {};\n  try {\n    return new Blob(parts, properties);\n  } catch (e) {\n    if (e.name !== \"TypeError\") {\n      throw e;\n    }\n    var BlobBuilder = window.BlobBuilder || window.MSBlobBuilder || window.MozBlobBuilder || window.WebKitBlobBuilder;\n    var builder = new BlobBuilder();\n    for (var i = 0; i < parts.length; i += 1) {\n      builder.append(parts[i]);\n    }\n    return builder.getBlob(properties.type);\n  }\n};","/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\n\nfunction fixStatsType(stat) {\n  return {\n    inboundrtp: 'inbound-rtp',\n    outboundrtp: 'outbound-rtp',\n    candidatepair: 'candidate-pair',\n    localcandidate: 'local-candidate',\n    remotecandidate: 'remote-candidate'\n  }[stat.type] || stat.type;\n}\n\nfunction writeMediaSection(transceiver, caps, type, stream, dtlsRole) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : dtlsRole || 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    var trackId = transceiver.rtpSender._initialTrackId ||\n        transceiver.rtpSender.track.id;\n    transceiver.rtpSender._initialTrackId = trackId;\n    // spec.\n    var msid = 'msid:' + (stream ? stream.id : '-') + ' ' +\n        trackId + '\\r\\n';\n    sdp += 'a=' + msid;\n    // for Chrome. Legacy should no longer be required.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n\n    // RTX\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n}\n\n// Edge does not like\n// 1) stun: filtered after 14393 unless ?transport=udp is present\n// 2) turn: that does not have all of turn:host:port?transport=udp\n// 3) turn: with ipv6 addresses\n// 4) turn: occurring muliple times\nfunction filterIceServers(iceServers, edgeVersion) {\n  var hasTurn = false;\n  iceServers = JSON.parse(JSON.stringify(iceServers));\n  return iceServers.filter(function(server) {\n    if (server && (server.urls || server.url)) {\n      var urls = server.urls || server.url;\n      if (server.url && !server.urls) {\n        console.warn('RTCIceServer.url is deprecated! Use urls instead.');\n      }\n      var isString = typeof urls === 'string';\n      if (isString) {\n        urls = [urls];\n      }\n      urls = urls.filter(function(url) {\n        var validTurn = url.indexOf('turn:') === 0 &&\n            url.indexOf('transport=udp') !== -1 &&\n            url.indexOf('turn:[') === -1 &&\n            !hasTurn;\n\n        if (validTurn) {\n          hasTurn = true;\n          return true;\n        }\n        return url.indexOf('stun:') === 0 && edgeVersion >= 14393 &&\n            url.indexOf('?transport=udp') === -1;\n      });\n\n      delete server.url;\n      server.urls = isString ? urls[0] : urls;\n      return !!urls.length;\n    }\n  });\n}\n\n// Determines the intersection of local and remote capabilities.\nfunction getCommonCapabilities(localCapabilities, remoteCapabilities) {\n  var commonCapabilities = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: []\n  };\n\n  var findCodecByPayloadType = function(pt, codecs) {\n    pt = parseInt(pt, 10);\n    for (var i = 0; i < codecs.length; i++) {\n      if (codecs[i].payloadType === pt ||\n          codecs[i].preferredPayloadType === pt) {\n        return codecs[i];\n      }\n    }\n  };\n\n  var rtxCapabilityMatches = function(lRtx, rRtx, lCodecs, rCodecs) {\n    var lCodec = findCodecByPayloadType(lRtx.parameters.apt, lCodecs);\n    var rCodec = findCodecByPayloadType(rRtx.parameters.apt, rCodecs);\n    return lCodec && rCodec &&\n        lCodec.name.toLowerCase() === rCodec.name.toLowerCase();\n  };\n\n  localCapabilities.codecs.forEach(function(lCodec) {\n    for (var i = 0; i < remoteCapabilities.codecs.length; i++) {\n      var rCodec = remoteCapabilities.codecs[i];\n      if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&\n          lCodec.clockRate === rCodec.clockRate) {\n        if (lCodec.name.toLowerCase() === 'rtx' &&\n            lCodec.parameters && rCodec.parameters.apt) {\n          // for RTX we need to find the local rtx that has a apt\n          // which points to the same local codec as the remote one.\n          if (!rtxCapabilityMatches(lCodec, rCodec,\n              localCapabilities.codecs, remoteCapabilities.codecs)) {\n            continue;\n          }\n        }\n        rCodec = JSON.parse(JSON.stringify(rCodec)); // deepcopy\n        // number of channels is the highest common number of channels\n        rCodec.numChannels = Math.min(lCodec.numChannels,\n            rCodec.numChannels);\n        // push rCodec so we reply with offerer payload type\n        commonCapabilities.codecs.push(rCodec);\n\n        // determine common feedback mechanisms\n        rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {\n          for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {\n            if (lCodec.rtcpFeedback[j].type === fb.type &&\n                lCodec.rtcpFeedback[j].parameter === fb.parameter) {\n              return true;\n            }\n          }\n          return false;\n        });\n        // FIXME: also need to determine .parameters\n        //  see https://github.com/openpeer/ortc/issues/569\n        break;\n      }\n    }\n  });\n\n  localCapabilities.headerExtensions.forEach(function(lHeaderExtension) {\n    for (var i = 0; i < remoteCapabilities.headerExtensions.length;\n         i++) {\n      var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n      if (lHeaderExtension.uri === rHeaderExtension.uri) {\n        commonCapabilities.headerExtensions.push(rHeaderExtension);\n        break;\n      }\n    }\n  });\n\n  // FIXME: fecMechanisms\n  return commonCapabilities;\n}\n\n// is action=setLocalDescription with type allowed in signalingState\nfunction isActionAllowedInSignalingState(action, type, signalingState) {\n  return {\n    offer: {\n      setLocalDescription: ['stable', 'have-local-offer'],\n      setRemoteDescription: ['stable', 'have-remote-offer']\n    },\n    answer: {\n      setLocalDescription: ['have-remote-offer', 'have-local-pranswer'],\n      setRemoteDescription: ['have-local-offer', 'have-remote-pranswer']\n    }\n  }[type][action].indexOf(signalingState) !== -1;\n}\n\nfunction maybeAddCandidate(iceTransport, candidate) {\n  // Edge's internal representation adds some fields therefore\n  // not all fieldѕ are taken into account.\n  var alreadyAdded = iceTransport.getRemoteCandidates()\n      .find(function(remoteCandidate) {\n        return candidate.foundation === remoteCandidate.foundation &&\n            candidate.ip === remoteCandidate.ip &&\n            candidate.port === remoteCandidate.port &&\n            candidate.priority === remoteCandidate.priority &&\n            candidate.protocol === remoteCandidate.protocol &&\n            candidate.type === remoteCandidate.type;\n      });\n  if (!alreadyAdded) {\n    iceTransport.addRemoteCandidate(candidate);\n  }\n  return !alreadyAdded;\n}\n\n\nfunction makeError(name, description) {\n  var e = new Error(description);\n  e.name = name;\n  // legacy error codes from https://heycam.github.io/webidl/#idl-DOMException-error-names\n  e.code = {\n    NotSupportedError: 9,\n    InvalidStateError: 11,\n    InvalidAccessError: 15,\n    TypeError: undefined,\n    OperationError: undefined\n  }[name];\n  return e;\n}\n\nmodule.exports = function(window, edgeVersion) {\n  // https://w3c.github.io/mediacapture-main/#mediastream\n  // Helper function to add the track to the stream and\n  // dispatch the event ourselves.\n  function addTrackToStreamAndFireEvent(track, stream) {\n    stream.addTrack(track);\n    stream.dispatchEvent(new window.MediaStreamTrackEvent('addtrack',\n        {track: track}));\n  }\n\n  function removeTrackFromStreamAndFireEvent(track, stream) {\n    stream.removeTrack(track);\n    stream.dispatchEvent(new window.MediaStreamTrackEvent('removetrack',\n        {track: track}));\n  }\n\n  function fireAddTrack(pc, track, receiver, streams) {\n    var trackEvent = new Event('track');\n    trackEvent.track = track;\n    trackEvent.receiver = receiver;\n    trackEvent.transceiver = {receiver: receiver};\n    trackEvent.streams = streams;\n    window.setTimeout(function() {\n      pc._dispatchEvent('track', trackEvent);\n    });\n  }\n\n  var RTCPeerConnection = function(config) {\n    var pc = this;\n\n    var _eventTarget = document.createDocumentFragment();\n    ['addEventListener', 'removeEventListener', 'dispatchEvent']\n        .forEach(function(method) {\n          pc[method] = _eventTarget[method].bind(_eventTarget);\n        });\n\n    this.canTrickleIceCandidates = null;\n\n    this.needNegotiation = false;\n\n    this.localStreams = [];\n    this.remoteStreams = [];\n\n    this._localDescription = null;\n    this._remoteDescription = null;\n\n    this.signalingState = 'stable';\n    this.iceConnectionState = 'new';\n    this.connectionState = 'new';\n    this.iceGatheringState = 'new';\n\n    config = JSON.parse(JSON.stringify(config || {}));\n\n    this.usingBundle = config.bundlePolicy === 'max-bundle';\n    if (config.rtcpMuxPolicy === 'negotiate') {\n      throw(makeError('NotSupportedError',\n          'rtcpMuxPolicy \\'negotiate\\' is not supported'));\n    } else if (!config.rtcpMuxPolicy) {\n      config.rtcpMuxPolicy = 'require';\n    }\n\n    switch (config.iceTransportPolicy) {\n      case 'all':\n      case 'relay':\n        break;\n      default:\n        config.iceTransportPolicy = 'all';\n        break;\n    }\n\n    switch (config.bundlePolicy) {\n      case 'balanced':\n      case 'max-compat':\n      case 'max-bundle':\n        break;\n      default:\n        config.bundlePolicy = 'balanced';\n        break;\n    }\n\n    config.iceServers = filterIceServers(config.iceServers || [], edgeVersion);\n\n    this._iceGatherers = [];\n    if (config.iceCandidatePoolSize) {\n      for (var i = config.iceCandidatePoolSize; i > 0; i--) {\n        this._iceGatherers.push(new window.RTCIceGatherer({\n          iceServers: config.iceServers,\n          gatherPolicy: config.iceTransportPolicy\n        }));\n      }\n    } else {\n      config.iceCandidatePoolSize = 0;\n    }\n\n    this._config = config;\n\n    // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n    // everything that is needed to describe a SDP m-line.\n    this.transceivers = [];\n\n    this._sdpSessionId = SDPUtils.generateSessionId();\n    this._sdpSessionVersion = 0;\n\n    this._dtlsRole = undefined; // role for a=setup to use in answers.\n\n    this._isClosed = false;\n  };\n\n  Object.defineProperty(RTCPeerConnection.prototype, 'localDescription', {\n    configurable: true,\n    get: function() {\n      return this._localDescription;\n    }\n  });\n  Object.defineProperty(RTCPeerConnection.prototype, 'remoteDescription', {\n    configurable: true,\n    get: function() {\n      return this._remoteDescription;\n    }\n  });\n\n  // set up event handlers on prototype\n  RTCPeerConnection.prototype.onicecandidate = null;\n  RTCPeerConnection.prototype.onaddstream = null;\n  RTCPeerConnection.prototype.ontrack = null;\n  RTCPeerConnection.prototype.onremovestream = null;\n  RTCPeerConnection.prototype.onsignalingstatechange = null;\n  RTCPeerConnection.prototype.oniceconnectionstatechange = null;\n  RTCPeerConnection.prototype.onconnectionstatechange = null;\n  RTCPeerConnection.prototype.onicegatheringstatechange = null;\n  RTCPeerConnection.prototype.onnegotiationneeded = null;\n  RTCPeerConnection.prototype.ondatachannel = null;\n\n  RTCPeerConnection.prototype._dispatchEvent = function(name, event) {\n    if (this._isClosed) {\n      return;\n    }\n    this.dispatchEvent(event);\n    if (typeof this['on' + name] === 'function') {\n      this['on' + name](event);\n    }\n  };\n\n  RTCPeerConnection.prototype._emitGatheringStateChange = function() {\n    var event = new Event('icegatheringstatechange');\n    this._dispatchEvent('icegatheringstatechange', event);\n  };\n\n  RTCPeerConnection.prototype.getConfiguration = function() {\n    return this._config;\n  };\n\n  RTCPeerConnection.prototype.getLocalStreams = function() {\n    return this.localStreams;\n  };\n\n  RTCPeerConnection.prototype.getRemoteStreams = function() {\n    return this.remoteStreams;\n  };\n\n  // internal helper to create a transceiver object.\n  // (which is not yet the same as the WebRTC 1.0 transceiver)\n  RTCPeerConnection.prototype._createTransceiver = function(kind, doNotAdd) {\n    var hasBundleTransport = this.transceivers.length > 0;\n    var transceiver = {\n      track: null,\n      iceGatherer: null,\n      iceTransport: null,\n      dtlsTransport: null,\n      localCapabilities: null,\n      remoteCapabilities: null,\n      rtpSender: null,\n      rtpReceiver: null,\n      kind: kind,\n      mid: null,\n      sendEncodingParameters: null,\n      recvEncodingParameters: null,\n      stream: null,\n      associatedRemoteMediaStreams: [],\n      wantReceive: true\n    };\n    if (this.usingBundle && hasBundleTransport) {\n      transceiver.iceTransport = this.transceivers[0].iceTransport;\n      transceiver.dtlsTransport = this.transceivers[0].dtlsTransport;\n    } else {\n      var transports = this._createIceAndDtlsTransports();\n      transceiver.iceTransport = transports.iceTransport;\n      transceiver.dtlsTransport = transports.dtlsTransport;\n    }\n    if (!doNotAdd) {\n      this.transceivers.push(transceiver);\n    }\n    return transceiver;\n  };\n\n  RTCPeerConnection.prototype.addTrack = function(track, stream) {\n    if (this._isClosed) {\n      throw makeError('InvalidStateError',\n          'Attempted to call addTrack on a closed peerconnection.');\n    }\n\n    var alreadyExists = this.transceivers.find(function(s) {\n      return s.track === track;\n    });\n\n    if (alreadyExists) {\n      throw makeError('InvalidAccessError', 'Track already exists.');\n    }\n\n    var transceiver;\n    for (var i = 0; i < this.transceivers.length; i++) {\n      if (!this.transceivers[i].track &&\n          this.transceivers[i].kind === track.kind) {\n        transceiver = this.transceivers[i];\n      }\n    }\n    if (!transceiver) {\n      transceiver = this._createTransceiver(track.kind);\n    }\n\n    this._maybeFireNegotiationNeeded();\n\n    if (this.localStreams.indexOf(stream) === -1) {\n      this.localStreams.push(stream);\n    }\n\n    transceiver.track = track;\n    transceiver.stream = stream;\n    transceiver.rtpSender = new window.RTCRtpSender(track,\n        transceiver.dtlsTransport);\n    return transceiver.rtpSender;\n  };\n\n  RTCPeerConnection.prototype.addStream = function(stream) {\n    var pc = this;\n    if (edgeVersion >= 15025) {\n      stream.getTracks().forEach(function(track) {\n        pc.addTrack(track, stream);\n      });\n    } else {\n      // Clone is necessary for local demos mostly, attaching directly\n      // to two different senders does not work (build 10547).\n      // Fixed in 15025 (or earlier)\n      var clonedStream = stream.clone();\n      stream.getTracks().forEach(function(track, idx) {\n        var clonedTrack = clonedStream.getTracks()[idx];\n        track.addEventListener('enabled', function(event) {\n          clonedTrack.enabled = event.enabled;\n        });\n      });\n      clonedStream.getTracks().forEach(function(track) {\n        pc.addTrack(track, clonedStream);\n      });\n    }\n  };\n\n  RTCPeerConnection.prototype.removeTrack = function(sender) {\n    if (this._isClosed) {\n      throw makeError('InvalidStateError',\n          'Attempted to call removeTrack on a closed peerconnection.');\n    }\n\n    if (!(sender instanceof window.RTCRtpSender)) {\n      throw new TypeError('Argument 1 of RTCPeerConnection.removeTrack ' +\n          'does not implement interface RTCRtpSender.');\n    }\n\n    var transceiver = this.transceivers.find(function(t) {\n      return t.rtpSender === sender;\n    });\n\n    if (!transceiver) {\n      throw makeError('InvalidAccessError',\n          'Sender was not created by this connection.');\n    }\n    var stream = transceiver.stream;\n\n    transceiver.rtpSender.stop();\n    transceiver.rtpSender = null;\n    transceiver.track = null;\n    transceiver.stream = null;\n\n    // remove the stream from the set of local streams\n    var localStreams = this.transceivers.map(function(t) {\n      return t.stream;\n    });\n    if (localStreams.indexOf(stream) === -1 &&\n        this.localStreams.indexOf(stream) > -1) {\n      this.localStreams.splice(this.localStreams.indexOf(stream), 1);\n    }\n\n    this._maybeFireNegotiationNeeded();\n  };\n\n  RTCPeerConnection.prototype.removeStream = function(stream) {\n    var pc = this;\n    stream.getTracks().forEach(function(track) {\n      var sender = pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n      if (sender) {\n        pc.removeTrack(sender);\n      }\n    });\n  };\n\n  RTCPeerConnection.prototype.getSenders = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpSender;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpSender;\n    });\n  };\n\n  RTCPeerConnection.prototype.getReceivers = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpReceiver;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpReceiver;\n    });\n  };\n\n\n  RTCPeerConnection.prototype._createIceGatherer = function(sdpMLineIndex,\n      usingBundle) {\n    var pc = this;\n    if (usingBundle && sdpMLineIndex > 0) {\n      return this.transceivers[0].iceGatherer;\n    } else if (this._iceGatherers.length) {\n      return this._iceGatherers.shift();\n    }\n    var iceGatherer = new window.RTCIceGatherer({\n      iceServers: this._config.iceServers,\n      gatherPolicy: this._config.iceTransportPolicy\n    });\n    Object.defineProperty(iceGatherer, 'state',\n        {value: 'new', writable: true}\n    );\n\n    this.transceivers[sdpMLineIndex].bufferedCandidateEvents = [];\n    this.transceivers[sdpMLineIndex].bufferCandidates = function(event) {\n      var end = !event.candidate || Object.keys(event.candidate).length === 0;\n      // polyfill since RTCIceGatherer.state is not implemented in\n      // Edge 10547 yet.\n      iceGatherer.state = end ? 'completed' : 'gathering';\n      if (pc.transceivers[sdpMLineIndex].bufferedCandidateEvents !== null) {\n        pc.transceivers[sdpMLineIndex].bufferedCandidateEvents.push(event);\n      }\n    };\n    iceGatherer.addEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    return iceGatherer;\n  };\n\n  // start gathering from an RTCIceGatherer.\n  RTCPeerConnection.prototype._gather = function(mid, sdpMLineIndex) {\n    var pc = this;\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer.onlocalcandidate) {\n      return;\n    }\n    var bufferedCandidateEvents =\n      this.transceivers[sdpMLineIndex].bufferedCandidateEvents;\n    this.transceivers[sdpMLineIndex].bufferedCandidateEvents = null;\n    iceGatherer.removeEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    iceGatherer.onlocalcandidate = function(evt) {\n      if (pc.usingBundle && sdpMLineIndex > 0) {\n        // if we know that we use bundle we can drop candidates with\n        // ѕdpMLineIndex > 0. If we don't do this then our state gets\n        // confused since we dispose the extra ice gatherer.\n        return;\n      }\n      var event = new Event('icecandidate');\n      event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};\n\n      var cand = evt.candidate;\n      // Edge emits an empty object for RTCIceCandidateComplete‥\n      var end = !cand || Object.keys(cand).length === 0;\n      if (end) {\n        // polyfill since RTCIceGatherer.state is not implemented in\n        // Edge 10547 yet.\n        if (iceGatherer.state === 'new' || iceGatherer.state === 'gathering') {\n          iceGatherer.state = 'completed';\n        }\n      } else {\n        if (iceGatherer.state === 'new') {\n          iceGatherer.state = 'gathering';\n        }\n        // RTCIceCandidate doesn't have a component, needs to be added\n        cand.component = 1;\n        // also the usernameFragment. TODO: update SDP to take both variants.\n        cand.ufrag = iceGatherer.getLocalParameters().usernameFragment;\n\n        var serializedCandidate = SDPUtils.writeCandidate(cand);\n        event.candidate = Object.assign(event.candidate,\n            SDPUtils.parseCandidate(serializedCandidate));\n\n        event.candidate.candidate = serializedCandidate;\n        event.candidate.toJSON = function() {\n          return {\n            candidate: event.candidate.candidate,\n            sdpMid: event.candidate.sdpMid,\n            sdpMLineIndex: event.candidate.sdpMLineIndex,\n            usernameFragment: event.candidate.usernameFragment\n          };\n        };\n      }\n\n      // update local description.\n      var sections = SDPUtils.getMediaSections(pc._localDescription.sdp);\n      if (!end) {\n        sections[event.candidate.sdpMLineIndex] +=\n            'a=' + event.candidate.candidate + '\\r\\n';\n      } else {\n        sections[event.candidate.sdpMLineIndex] +=\n            'a=end-of-candidates\\r\\n';\n      }\n      pc._localDescription.sdp =\n          SDPUtils.getDescription(pc._localDescription.sdp) +\n          sections.join('');\n      var complete = pc.transceivers.every(function(transceiver) {\n        return transceiver.iceGatherer &&\n            transceiver.iceGatherer.state === 'completed';\n      });\n\n      if (pc.iceGatheringState !== 'gathering') {\n        pc.iceGatheringState = 'gathering';\n        pc._emitGatheringStateChange();\n      }\n\n      // Emit candidate. Also emit null candidate when all gatherers are\n      // complete.\n      if (!end) {\n        pc._dispatchEvent('icecandidate', event);\n      }\n      if (complete) {\n        pc._dispatchEvent('icecandidate', new Event('icecandidate'));\n        pc.iceGatheringState = 'complete';\n        pc._emitGatheringStateChange();\n      }\n    };\n\n    // emit already gathered candidates.\n    window.setTimeout(function() {\n      bufferedCandidateEvents.forEach(function(e) {\n        iceGatherer.onlocalcandidate(e);\n      });\n    }, 0);\n  };\n\n  // Create ICE transport and DTLS transport.\n  RTCPeerConnection.prototype._createIceAndDtlsTransports = function() {\n    var pc = this;\n    var iceTransport = new window.RTCIceTransport(null);\n    iceTransport.onicestatechange = function() {\n      pc._updateIceConnectionState();\n      pc._updateConnectionState();\n    };\n\n    var dtlsTransport = new window.RTCDtlsTransport(iceTransport);\n    dtlsTransport.ondtlsstatechange = function() {\n      pc._updateConnectionState();\n    };\n    dtlsTransport.onerror = function() {\n      // onerror does not set state to failed by itself.\n      Object.defineProperty(dtlsTransport, 'state',\n          {value: 'failed', writable: true});\n      pc._updateConnectionState();\n    };\n\n    return {\n      iceTransport: iceTransport,\n      dtlsTransport: dtlsTransport\n    };\n  };\n\n  // Destroy ICE gatherer, ICE transport and DTLS transport.\n  // Without triggering the callbacks.\n  RTCPeerConnection.prototype._disposeIceAndDtlsTransports = function(\n      sdpMLineIndex) {\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer) {\n      delete iceGatherer.onlocalcandidate;\n      delete this.transceivers[sdpMLineIndex].iceGatherer;\n    }\n    var iceTransport = this.transceivers[sdpMLineIndex].iceTransport;\n    if (iceTransport) {\n      delete iceTransport.onicestatechange;\n      delete this.transceivers[sdpMLineIndex].iceTransport;\n    }\n    var dtlsTransport = this.transceivers[sdpMLineIndex].dtlsTransport;\n    if (dtlsTransport) {\n      delete dtlsTransport.ondtlsstatechange;\n      delete dtlsTransport.onerror;\n      delete this.transceivers[sdpMLineIndex].dtlsTransport;\n    }\n  };\n\n  // Start the RTP Sender and Receiver for a transceiver.\n  RTCPeerConnection.prototype._transceive = function(transceiver,\n      send, recv) {\n    var params = getCommonCapabilities(transceiver.localCapabilities,\n        transceiver.remoteCapabilities);\n    if (send && transceiver.rtpSender) {\n      params.encodings = transceiver.sendEncodingParameters;\n      params.rtcp = {\n        cname: SDPUtils.localCName,\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.recvEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpSender.send(params);\n    }\n    if (recv && transceiver.rtpReceiver && params.codecs.length > 0) {\n      // remove RTX field in Edge 14942\n      if (transceiver.kind === 'video'\n          && transceiver.recvEncodingParameters\n          && edgeVersion < 15019) {\n        transceiver.recvEncodingParameters.forEach(function(p) {\n          delete p.rtx;\n        });\n      }\n      if (transceiver.recvEncodingParameters.length) {\n        params.encodings = transceiver.recvEncodingParameters;\n      } else {\n        params.encodings = [{}];\n      }\n      params.rtcp = {\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.rtcpParameters.cname) {\n        params.rtcp.cname = transceiver.rtcpParameters.cname;\n      }\n      if (transceiver.sendEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpReceiver.receive(params);\n    }\n  };\n\n  RTCPeerConnection.prototype.setLocalDescription = function(description) {\n    var pc = this;\n\n    // Note: pranswer is not supported.\n    if (['offer', 'answer'].indexOf(description.type) === -1) {\n      return Promise.reject(makeError('TypeError',\n          'Unsupported type \"' + description.type + '\"'));\n    }\n\n    if (!isActionAllowedInSignalingState('setLocalDescription',\n        description.type, pc.signalingState) || pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not set local ' + description.type +\n          ' in state ' + pc.signalingState));\n    }\n\n    var sections;\n    var sessionpart;\n    if (description.type === 'offer') {\n      // VERY limited support for SDP munging. Limited to:\n      // * changing the order of codecs\n      sections = SDPUtils.splitSections(description.sdp);\n      sessionpart = sections.shift();\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var caps = SDPUtils.parseRtpParameters(mediaSection);\n        pc.transceivers[sdpMLineIndex].localCapabilities = caps;\n      });\n\n      pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n        pc._gather(transceiver.mid, sdpMLineIndex);\n      });\n    } else if (description.type === 'answer') {\n      sections = SDPUtils.splitSections(pc._remoteDescription.sdp);\n      sessionpart = sections.shift();\n      var isIceLite = SDPUtils.matchPrefix(sessionpart,\n          'a=ice-lite').length > 0;\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var transceiver = pc.transceivers[sdpMLineIndex];\n        var iceGatherer = transceiver.iceGatherer;\n        var iceTransport = transceiver.iceTransport;\n        var dtlsTransport = transceiver.dtlsTransport;\n        var localCapabilities = transceiver.localCapabilities;\n        var remoteCapabilities = transceiver.remoteCapabilities;\n\n        // treat bundle-only as not-rejected.\n        var rejected = SDPUtils.isRejected(mediaSection) &&\n            SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 0;\n\n        if (!rejected && !transceiver.rejected) {\n          var remoteIceParameters = SDPUtils.getIceParameters(\n              mediaSection, sessionpart);\n          var remoteDtlsParameters = SDPUtils.getDtlsParameters(\n              mediaSection, sessionpart);\n          if (isIceLite) {\n            remoteDtlsParameters.role = 'server';\n          }\n\n          if (!pc.usingBundle || sdpMLineIndex === 0) {\n            pc._gather(transceiver.mid, sdpMLineIndex);\n            if (iceTransport.state === 'new') {\n              iceTransport.start(iceGatherer, remoteIceParameters,\n                  isIceLite ? 'controlling' : 'controlled');\n            }\n            if (dtlsTransport.state === 'new') {\n              dtlsTransport.start(remoteDtlsParameters);\n            }\n          }\n\n          // Calculate intersection of capabilities.\n          var params = getCommonCapabilities(localCapabilities,\n              remoteCapabilities);\n\n          // Start the RTCRtpSender. The RTCRtpReceiver for this\n          // transceiver has already been started in setRemoteDescription.\n          pc._transceive(transceiver,\n              params.codecs.length > 0,\n              false);\n        }\n      });\n    }\n\n    pc._localDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    if (description.type === 'offer') {\n      pc._updateSignalingState('have-local-offer');\n    } else {\n      pc._updateSignalingState('stable');\n    }\n\n    return Promise.resolve();\n  };\n\n  RTCPeerConnection.prototype.setRemoteDescription = function(description) {\n    var pc = this;\n\n    // Note: pranswer is not supported.\n    if (['offer', 'answer'].indexOf(description.type) === -1) {\n      return Promise.reject(makeError('TypeError',\n          'Unsupported type \"' + description.type + '\"'));\n    }\n\n    if (!isActionAllowedInSignalingState('setRemoteDescription',\n        description.type, pc.signalingState) || pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not set remote ' + description.type +\n          ' in state ' + pc.signalingState));\n    }\n\n    var streams = {};\n    pc.remoteStreams.forEach(function(stream) {\n      streams[stream.id] = stream;\n    });\n    var receiverList = [];\n    var sections = SDPUtils.splitSections(description.sdp);\n    var sessionpart = sections.shift();\n    var isIceLite = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-lite').length > 0;\n    var usingBundle = SDPUtils.matchPrefix(sessionpart,\n        'a=group:BUNDLE ').length > 0;\n    pc.usingBundle = usingBundle;\n    var iceOptions = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-options:')[0];\n    if (iceOptions) {\n      pc.canTrickleIceCandidates = iceOptions.substr(14).split(' ')\n          .indexOf('trickle') >= 0;\n    } else {\n      pc.canTrickleIceCandidates = false;\n    }\n\n    sections.forEach(function(mediaSection, sdpMLineIndex) {\n      var lines = SDPUtils.splitLines(mediaSection);\n      var kind = SDPUtils.getKind(mediaSection);\n      // treat bundle-only as not-rejected.\n      var rejected = SDPUtils.isRejected(mediaSection) &&\n          SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 0;\n      var protocol = lines[0].substr(2).split(' ')[2];\n\n      var direction = SDPUtils.getDirection(mediaSection, sessionpart);\n      var remoteMsid = SDPUtils.parseMsid(mediaSection);\n\n      var mid = SDPUtils.getMid(mediaSection) || SDPUtils.generateIdentifier();\n\n      // Reject datachannels which are not implemented yet.\n      if (rejected || (kind === 'application' && (protocol === 'DTLS/SCTP' ||\n          protocol === 'UDP/DTLS/SCTP'))) {\n        // TODO: this is dangerous in the case where a non-rejected m-line\n        //     becomes rejected.\n        pc.transceivers[sdpMLineIndex] = {\n          mid: mid,\n          kind: kind,\n          protocol: protocol,\n          rejected: true\n        };\n        return;\n      }\n\n      if (!rejected && pc.transceivers[sdpMLineIndex] &&\n          pc.transceivers[sdpMLineIndex].rejected) {\n        // recycle a rejected transceiver.\n        pc.transceivers[sdpMLineIndex] = pc._createTransceiver(kind, true);\n      }\n\n      var transceiver;\n      var iceGatherer;\n      var iceTransport;\n      var dtlsTransport;\n      var rtpReceiver;\n      var sendEncodingParameters;\n      var recvEncodingParameters;\n      var localCapabilities;\n\n      var track;\n      // FIXME: ensure the mediaSection has rtcp-mux set.\n      var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);\n      var remoteIceParameters;\n      var remoteDtlsParameters;\n      if (!rejected) {\n        remoteIceParameters = SDPUtils.getIceParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters.role = 'client';\n      }\n      recvEncodingParameters =\n          SDPUtils.parseRtpEncodingParameters(mediaSection);\n\n      var rtcpParameters = SDPUtils.parseRtcpParameters(mediaSection);\n\n      var isComplete = SDPUtils.matchPrefix(mediaSection,\n          'a=end-of-candidates', sessionpart).length > 0;\n      var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n          .map(function(cand) {\n            return SDPUtils.parseCandidate(cand);\n          })\n          .filter(function(cand) {\n            return cand.component === 1;\n          });\n\n      // Check if we can use BUNDLE and dispose transports.\n      if ((description.type === 'offer' || description.type === 'answer') &&\n          !rejected && usingBundle && sdpMLineIndex > 0 &&\n          pc.transceivers[sdpMLineIndex]) {\n        pc._disposeIceAndDtlsTransports(sdpMLineIndex);\n        pc.transceivers[sdpMLineIndex].iceGatherer =\n            pc.transceivers[0].iceGatherer;\n        pc.transceivers[sdpMLineIndex].iceTransport =\n            pc.transceivers[0].iceTransport;\n        pc.transceivers[sdpMLineIndex].dtlsTransport =\n            pc.transceivers[0].dtlsTransport;\n        if (pc.transceivers[sdpMLineIndex].rtpSender) {\n          pc.transceivers[sdpMLineIndex].rtpSender.setTransport(\n              pc.transceivers[0].dtlsTransport);\n        }\n        if (pc.transceivers[sdpMLineIndex].rtpReceiver) {\n          pc.transceivers[sdpMLineIndex].rtpReceiver.setTransport(\n              pc.transceivers[0].dtlsTransport);\n        }\n      }\n      if (description.type === 'offer' && !rejected) {\n        transceiver = pc.transceivers[sdpMLineIndex] ||\n            pc._createTransceiver(kind);\n        transceiver.mid = mid;\n\n        if (!transceiver.iceGatherer) {\n          transceiver.iceGatherer = pc._createIceGatherer(sdpMLineIndex,\n              usingBundle);\n        }\n\n        if (cands.length && transceiver.iceTransport.state === 'new') {\n          if (isComplete && (!usingBundle || sdpMLineIndex === 0)) {\n            transceiver.iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        localCapabilities = window.RTCRtpReceiver.getCapabilities(kind);\n\n        // filter RTX until additional stuff needed for RTX is implemented\n        // in adapter.js\n        if (edgeVersion < 15019) {\n          localCapabilities.codecs = localCapabilities.codecs.filter(\n              function(codec) {\n                return codec.name !== 'rtx';\n              });\n        }\n\n        sendEncodingParameters = transceiver.sendEncodingParameters || [{\n          ssrc: (2 * sdpMLineIndex + 2) * 1001\n        }];\n\n        // TODO: rewrite to use http://w3c.github.io/webrtc-pc/#set-associated-remote-streams\n        var isNewTrack = false;\n        if (direction === 'sendrecv' || direction === 'sendonly') {\n          isNewTrack = !transceiver.rtpReceiver;\n          rtpReceiver = transceiver.rtpReceiver ||\n              new window.RTCRtpReceiver(transceiver.dtlsTransport, kind);\n\n          if (isNewTrack) {\n            var stream;\n            track = rtpReceiver.track;\n            // FIXME: does not work with Plan B.\n            if (remoteMsid && remoteMsid.stream === '-') {\n              // no-op. a stream id of '-' means: no associated stream.\n            } else if (remoteMsid) {\n              if (!streams[remoteMsid.stream]) {\n                streams[remoteMsid.stream] = new window.MediaStream();\n                Object.defineProperty(streams[remoteMsid.stream], 'id', {\n                  get: function() {\n                    return remoteMsid.stream;\n                  }\n                });\n              }\n              Object.defineProperty(track, 'id', {\n                get: function() {\n                  return remoteMsid.track;\n                }\n              });\n              stream = streams[remoteMsid.stream];\n            } else {\n              if (!streams.default) {\n                streams.default = new window.MediaStream();\n              }\n              stream = streams.default;\n            }\n            if (stream) {\n              addTrackToStreamAndFireEvent(track, stream);\n              transceiver.associatedRemoteMediaStreams.push(stream);\n            }\n            receiverList.push([track, rtpReceiver, stream]);\n          }\n        } else if (transceiver.rtpReceiver && transceiver.rtpReceiver.track) {\n          transceiver.associatedRemoteMediaStreams.forEach(function(s) {\n            var nativeTrack = s.getTracks().find(function(t) {\n              return t.id === transceiver.rtpReceiver.track.id;\n            });\n            if (nativeTrack) {\n              removeTrackFromStreamAndFireEvent(nativeTrack, s);\n            }\n          });\n          transceiver.associatedRemoteMediaStreams = [];\n        }\n\n        transceiver.localCapabilities = localCapabilities;\n        transceiver.remoteCapabilities = remoteCapabilities;\n        transceiver.rtpReceiver = rtpReceiver;\n        transceiver.rtcpParameters = rtcpParameters;\n        transceiver.sendEncodingParameters = sendEncodingParameters;\n        transceiver.recvEncodingParameters = recvEncodingParameters;\n\n        // Start the RTCRtpReceiver now. The RTPSender is started in\n        // setLocalDescription.\n        pc._transceive(pc.transceivers[sdpMLineIndex],\n            false,\n            isNewTrack);\n      } else if (description.type === 'answer' && !rejected) {\n        transceiver = pc.transceivers[sdpMLineIndex];\n        iceGatherer = transceiver.iceGatherer;\n        iceTransport = transceiver.iceTransport;\n        dtlsTransport = transceiver.dtlsTransport;\n        rtpReceiver = transceiver.rtpReceiver;\n        sendEncodingParameters = transceiver.sendEncodingParameters;\n        localCapabilities = transceiver.localCapabilities;\n\n        pc.transceivers[sdpMLineIndex].recvEncodingParameters =\n            recvEncodingParameters;\n        pc.transceivers[sdpMLineIndex].remoteCapabilities =\n            remoteCapabilities;\n        pc.transceivers[sdpMLineIndex].rtcpParameters = rtcpParameters;\n\n        if (cands.length && iceTransport.state === 'new') {\n          if ((isIceLite || isComplete) &&\n              (!usingBundle || sdpMLineIndex === 0)) {\n            iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        if (!usingBundle || sdpMLineIndex === 0) {\n          if (iceTransport.state === 'new') {\n            iceTransport.start(iceGatherer, remoteIceParameters,\n                'controlling');\n          }\n          if (dtlsTransport.state === 'new') {\n            dtlsTransport.start(remoteDtlsParameters);\n          }\n        }\n\n        // If the offer contained RTX but the answer did not,\n        // remove RTX from sendEncodingParameters.\n        var commonCapabilities = getCommonCapabilities(\n          transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n\n        var hasRtx = commonCapabilities.codecs.filter(function(c) {\n          return c.name.toLowerCase() === 'rtx';\n        }).length;\n        if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {\n          delete transceiver.sendEncodingParameters[0].rtx;\n        }\n\n        pc._transceive(transceiver,\n            direction === 'sendrecv' || direction === 'recvonly',\n            direction === 'sendrecv' || direction === 'sendonly');\n\n        // TODO: rewrite to use http://w3c.github.io/webrtc-pc/#set-associated-remote-streams\n        if (rtpReceiver &&\n            (direction === 'sendrecv' || direction === 'sendonly')) {\n          track = rtpReceiver.track;\n          if (remoteMsid) {\n            if (!streams[remoteMsid.stream]) {\n              streams[remoteMsid.stream] = new window.MediaStream();\n            }\n            addTrackToStreamAndFireEvent(track, streams[remoteMsid.stream]);\n            receiverList.push([track, rtpReceiver, streams[remoteMsid.stream]]);\n          } else {\n            if (!streams.default) {\n              streams.default = new window.MediaStream();\n            }\n            addTrackToStreamAndFireEvent(track, streams.default);\n            receiverList.push([track, rtpReceiver, streams.default]);\n          }\n        } else {\n          // FIXME: actually the receiver should be created later.\n          delete transceiver.rtpReceiver;\n        }\n      }\n    });\n\n    if (pc._dtlsRole === undefined) {\n      pc._dtlsRole = description.type === 'offer' ? 'active' : 'passive';\n    }\n\n    pc._remoteDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    if (description.type === 'offer') {\n      pc._updateSignalingState('have-remote-offer');\n    } else {\n      pc._updateSignalingState('stable');\n    }\n    Object.keys(streams).forEach(function(sid) {\n      var stream = streams[sid];\n      if (stream.getTracks().length) {\n        if (pc.remoteStreams.indexOf(stream) === -1) {\n          pc.remoteStreams.push(stream);\n          var event = new Event('addstream');\n          event.stream = stream;\n          window.setTimeout(function() {\n            pc._dispatchEvent('addstream', event);\n          });\n        }\n\n        receiverList.forEach(function(item) {\n          var track = item[0];\n          var receiver = item[1];\n          if (stream.id !== item[2].id) {\n            return;\n          }\n          fireAddTrack(pc, track, receiver, [stream]);\n        });\n      }\n    });\n    receiverList.forEach(function(item) {\n      if (item[2]) {\n        return;\n      }\n      fireAddTrack(pc, item[0], item[1], []);\n    });\n\n    // check whether addIceCandidate({}) was called within four seconds after\n    // setRemoteDescription.\n    window.setTimeout(function() {\n      if (!(pc && pc.transceivers)) {\n        return;\n      }\n      pc.transceivers.forEach(function(transceiver) {\n        if (transceiver.iceTransport &&\n            transceiver.iceTransport.state === 'new' &&\n            transceiver.iceTransport.getRemoteCandidates().length > 0) {\n          console.warn('Timeout for addRemoteCandidate. Consider sending ' +\n              'an end-of-candidates notification');\n          transceiver.iceTransport.addRemoteCandidate({});\n        }\n      });\n    }, 4000);\n\n    return Promise.resolve();\n  };\n\n  RTCPeerConnection.prototype.close = function() {\n    this.transceivers.forEach(function(transceiver) {\n      /* not yet\n      if (transceiver.iceGatherer) {\n        transceiver.iceGatherer.close();\n      }\n      */\n      if (transceiver.iceTransport) {\n        transceiver.iceTransport.stop();\n      }\n      if (transceiver.dtlsTransport) {\n        transceiver.dtlsTransport.stop();\n      }\n      if (transceiver.rtpSender) {\n        transceiver.rtpSender.stop();\n      }\n      if (transceiver.rtpReceiver) {\n        transceiver.rtpReceiver.stop();\n      }\n    });\n    // FIXME: clean up tracks, local streams, remote streams, etc\n    this._isClosed = true;\n    this._updateSignalingState('closed');\n  };\n\n  // Update the signaling state.\n  RTCPeerConnection.prototype._updateSignalingState = function(newState) {\n    this.signalingState = newState;\n    var event = new Event('signalingstatechange');\n    this._dispatchEvent('signalingstatechange', event);\n  };\n\n  // Determine whether to fire the negotiationneeded event.\n  RTCPeerConnection.prototype._maybeFireNegotiationNeeded = function() {\n    var pc = this;\n    if (this.signalingState !== 'stable' || this.needNegotiation === true) {\n      return;\n    }\n    this.needNegotiation = true;\n    window.setTimeout(function() {\n      if (pc.needNegotiation) {\n        pc.needNegotiation = false;\n        var event = new Event('negotiationneeded');\n        pc._dispatchEvent('negotiationneeded', event);\n      }\n    }, 0);\n  };\n\n  // Update the ice connection state.\n  RTCPeerConnection.prototype._updateIceConnectionState = function() {\n    var newState;\n    var states = {\n      'new': 0,\n      closed: 0,\n      checking: 0,\n      connected: 0,\n      completed: 0,\n      disconnected: 0,\n      failed: 0\n    };\n    this.transceivers.forEach(function(transceiver) {\n      if (transceiver.iceTransport && !transceiver.rejected) {\n        states[transceiver.iceTransport.state]++;\n      }\n    });\n\n    newState = 'new';\n    if (states.failed > 0) {\n      newState = 'failed';\n    } else if (states.checking > 0) {\n      newState = 'checking';\n    } else if (states.disconnected > 0) {\n      newState = 'disconnected';\n    } else if (states.new > 0) {\n      newState = 'new';\n    } else if (states.connected > 0) {\n      newState = 'connected';\n    } else if (states.completed > 0) {\n      newState = 'completed';\n    }\n\n    if (newState !== this.iceConnectionState) {\n      this.iceConnectionState = newState;\n      var event = new Event('iceconnectionstatechange');\n      this._dispatchEvent('iceconnectionstatechange', event);\n    }\n  };\n\n  // Update the connection state.\n  RTCPeerConnection.prototype._updateConnectionState = function() {\n    var newState;\n    var states = {\n      'new': 0,\n      closed: 0,\n      connecting: 0,\n      connected: 0,\n      completed: 0,\n      disconnected: 0,\n      failed: 0\n    };\n    this.transceivers.forEach(function(transceiver) {\n      if (transceiver.iceTransport && transceiver.dtlsTransport &&\n          !transceiver.rejected) {\n        states[transceiver.iceTransport.state]++;\n        states[transceiver.dtlsTransport.state]++;\n      }\n    });\n    // ICETransport.completed and connected are the same for this purpose.\n    states.connected += states.completed;\n\n    newState = 'new';\n    if (states.failed > 0) {\n      newState = 'failed';\n    } else if (states.connecting > 0) {\n      newState = 'connecting';\n    } else if (states.disconnected > 0) {\n      newState = 'disconnected';\n    } else if (states.new > 0) {\n      newState = 'new';\n    } else if (states.connected > 0) {\n      newState = 'connected';\n    }\n\n    if (newState !== this.connectionState) {\n      this.connectionState = newState;\n      var event = new Event('connectionstatechange');\n      this._dispatchEvent('connectionstatechange', event);\n    }\n  };\n\n  RTCPeerConnection.prototype.createOffer = function() {\n    var pc = this;\n\n    if (pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not call createOffer after close'));\n    }\n\n    var numAudioTracks = pc.transceivers.filter(function(t) {\n      return t.kind === 'audio';\n    }).length;\n    var numVideoTracks = pc.transceivers.filter(function(t) {\n      return t.kind === 'video';\n    }).length;\n\n    // Determine number of audio and video tracks we need to send/recv.\n    var offerOptions = arguments[0];\n    if (offerOptions) {\n      // Reject Chrome legacy constraints.\n      if (offerOptions.mandatory || offerOptions.optional) {\n        throw new TypeError(\n            'Legacy mandatory/optional constraints not supported.');\n      }\n      if (offerOptions.offerToReceiveAudio !== undefined) {\n        if (offerOptions.offerToReceiveAudio === true) {\n          numAudioTracks = 1;\n        } else if (offerOptions.offerToReceiveAudio === false) {\n          numAudioTracks = 0;\n        } else {\n          numAudioTracks = offerOptions.offerToReceiveAudio;\n        }\n      }\n      if (offerOptions.offerToReceiveVideo !== undefined) {\n        if (offerOptions.offerToReceiveVideo === true) {\n          numVideoTracks = 1;\n        } else if (offerOptions.offerToReceiveVideo === false) {\n          numVideoTracks = 0;\n        } else {\n          numVideoTracks = offerOptions.offerToReceiveVideo;\n        }\n      }\n    }\n\n    pc.transceivers.forEach(function(transceiver) {\n      if (transceiver.kind === 'audio') {\n        numAudioTracks--;\n        if (numAudioTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      } else if (transceiver.kind === 'video') {\n        numVideoTracks--;\n        if (numVideoTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      }\n    });\n\n    // Create M-lines for recvonly streams.\n    while (numAudioTracks > 0 || numVideoTracks > 0) {\n      if (numAudioTracks > 0) {\n        pc._createTransceiver('audio');\n        numAudioTracks--;\n      }\n      if (numVideoTracks > 0) {\n        pc._createTransceiver('video');\n        numVideoTracks--;\n      }\n    }\n\n    var sdp = SDPUtils.writeSessionBoilerplate(pc._sdpSessionId,\n        pc._sdpSessionVersion++);\n    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      // For each track, create an ice gatherer, ice transport,\n      // dtls transport, potentially rtpsender and rtpreceiver.\n      var track = transceiver.track;\n      var kind = transceiver.kind;\n      var mid = transceiver.mid || SDPUtils.generateIdentifier();\n      transceiver.mid = mid;\n\n      if (!transceiver.iceGatherer) {\n        transceiver.iceGatherer = pc._createIceGatherer(sdpMLineIndex,\n            pc.usingBundle);\n      }\n\n      var localCapabilities = window.RTCRtpSender.getCapabilities(kind);\n      // filter RTX until additional stuff needed for RTX is implemented\n      // in adapter.js\n      if (edgeVersion < 15019) {\n        localCapabilities.codecs = localCapabilities.codecs.filter(\n            function(codec) {\n              return codec.name !== 'rtx';\n            });\n      }\n      localCapabilities.codecs.forEach(function(codec) {\n        // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552\n        // by adding level-asymmetry-allowed=1\n        if (codec.name === 'H264' &&\n            codec.parameters['level-asymmetry-allowed'] === undefined) {\n          codec.parameters['level-asymmetry-allowed'] = '1';\n        }\n\n        // for subsequent offers, we might have to re-use the payload\n        // type of the last offer.\n        if (transceiver.remoteCapabilities &&\n            transceiver.remoteCapabilities.codecs) {\n          transceiver.remoteCapabilities.codecs.forEach(function(remoteCodec) {\n            if (codec.name.toLowerCase() === remoteCodec.name.toLowerCase() &&\n                codec.clockRate === remoteCodec.clockRate) {\n              codec.preferredPayloadType = remoteCodec.payloadType;\n            }\n          });\n        }\n      });\n      localCapabilities.headerExtensions.forEach(function(hdrExt) {\n        var remoteExtensions = transceiver.remoteCapabilities &&\n            transceiver.remoteCapabilities.headerExtensions || [];\n        remoteExtensions.forEach(function(rHdrExt) {\n          if (hdrExt.uri === rHdrExt.uri) {\n            hdrExt.id = rHdrExt.id;\n          }\n        });\n      });\n\n      // generate an ssrc now, to be used later in rtpSender.send\n      var sendEncodingParameters = transceiver.sendEncodingParameters || [{\n        ssrc: (2 * sdpMLineIndex + 1) * 1001\n      }];\n      if (track) {\n        // add RTX\n        if (edgeVersion >= 15019 && kind === 'video' &&\n            !sendEncodingParameters[0].rtx) {\n          sendEncodingParameters[0].rtx = {\n            ssrc: sendEncodingParameters[0].ssrc + 1\n          };\n        }\n      }\n\n      if (transceiver.wantReceive) {\n        transceiver.rtpReceiver = new window.RTCRtpReceiver(\n            transceiver.dtlsTransport, kind);\n      }\n\n      transceiver.localCapabilities = localCapabilities;\n      transceiver.sendEncodingParameters = sendEncodingParameters;\n    });\n\n    // always offer BUNDLE and dispose on return if not supported.\n    if (pc._config.bundlePolicy !== 'max-compat') {\n      sdp += 'a=group:BUNDLE ' + pc.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    sdp += 'a=ice-options:trickle\\r\\n';\n\n    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      sdp += writeMediaSection(transceiver, transceiver.localCapabilities,\n          'offer', transceiver.stream, pc._dtlsRole);\n      sdp += 'a=rtcp-rsize\\r\\n';\n\n      if (transceiver.iceGatherer && pc.iceGatheringState !== 'new' &&\n          (sdpMLineIndex === 0 || !pc.usingBundle)) {\n        transceiver.iceGatherer.getLocalCandidates().forEach(function(cand) {\n          cand.component = 1;\n          sdp += 'a=' + SDPUtils.writeCandidate(cand) + '\\r\\n';\n        });\n\n        if (transceiver.iceGatherer.state === 'completed') {\n          sdp += 'a=end-of-candidates\\r\\n';\n        }\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'offer',\n      sdp: sdp\n    });\n    return Promise.resolve(desc);\n  };\n\n  RTCPeerConnection.prototype.createAnswer = function() {\n    var pc = this;\n\n    if (pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not call createAnswer after close'));\n    }\n\n    if (!(pc.signalingState === 'have-remote-offer' ||\n        pc.signalingState === 'have-local-pranswer')) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not call createAnswer in signalingState ' + pc.signalingState));\n    }\n\n    var sdp = SDPUtils.writeSessionBoilerplate(pc._sdpSessionId,\n        pc._sdpSessionVersion++);\n    if (pc.usingBundle) {\n      sdp += 'a=group:BUNDLE ' + pc.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    sdp += 'a=ice-options:trickle\\r\\n';\n\n    var mediaSectionsInOffer = SDPUtils.getMediaSections(\n        pc._remoteDescription.sdp).length;\n    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      if (sdpMLineIndex + 1 > mediaSectionsInOffer) {\n        return;\n      }\n      if (transceiver.rejected) {\n        if (transceiver.kind === 'application') {\n          if (transceiver.protocol === 'DTLS/SCTP') { // legacy fmt\n            sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n';\n          } else {\n            sdp += 'm=application 0 ' + transceiver.protocol +\n                ' webrtc-datachannel\\r\\n';\n          }\n        } else if (transceiver.kind === 'audio') {\n          sdp += 'm=audio 0 UDP/TLS/RTP/SAVPF 0\\r\\n' +\n              'a=rtpmap:0 PCMU/8000\\r\\n';\n        } else if (transceiver.kind === 'video') {\n          sdp += 'm=video 0 UDP/TLS/RTP/SAVPF 120\\r\\n' +\n              'a=rtpmap:120 VP8/90000\\r\\n';\n        }\n        sdp += 'c=IN IP4 0.0.0.0\\r\\n' +\n            'a=inactive\\r\\n' +\n            'a=mid:' + transceiver.mid + '\\r\\n';\n        return;\n      }\n\n      // FIXME: look at direction.\n      if (transceiver.stream) {\n        var localTrack;\n        if (transceiver.kind === 'audio') {\n          localTrack = transceiver.stream.getAudioTracks()[0];\n        } else if (transceiver.kind === 'video') {\n          localTrack = transceiver.stream.getVideoTracks()[0];\n        }\n        if (localTrack) {\n          // add RTX\n          if (edgeVersion >= 15019 && transceiver.kind === 'video' &&\n              !transceiver.sendEncodingParameters[0].rtx) {\n            transceiver.sendEncodingParameters[0].rtx = {\n              ssrc: transceiver.sendEncodingParameters[0].ssrc + 1\n            };\n          }\n        }\n      }\n\n      // Calculate intersection of capabilities.\n      var commonCapabilities = getCommonCapabilities(\n          transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n\n      var hasRtx = commonCapabilities.codecs.filter(function(c) {\n        return c.name.toLowerCase() === 'rtx';\n      }).length;\n      if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {\n        delete transceiver.sendEncodingParameters[0].rtx;\n      }\n\n      sdp += writeMediaSection(transceiver, commonCapabilities,\n          'answer', transceiver.stream, pc._dtlsRole);\n      if (transceiver.rtcpParameters &&\n          transceiver.rtcpParameters.reducedSize) {\n        sdp += 'a=rtcp-rsize\\r\\n';\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'answer',\n      sdp: sdp\n    });\n    return Promise.resolve(desc);\n  };\n\n  RTCPeerConnection.prototype.addIceCandidate = function(candidate) {\n    var pc = this;\n    var sections;\n    if (candidate && !(candidate.sdpMLineIndex !== undefined ||\n        candidate.sdpMid)) {\n      return Promise.reject(new TypeError('sdpMLineIndex or sdpMid required'));\n    }\n\n    // TODO: needs to go into ops queue.\n    return new Promise(function(resolve, reject) {\n      if (!pc._remoteDescription) {\n        return reject(makeError('InvalidStateError',\n            'Can not add ICE candidate without a remote description'));\n      } else if (!candidate || candidate.candidate === '') {\n        for (var j = 0; j < pc.transceivers.length; j++) {\n          if (pc.transceivers[j].rejected) {\n            continue;\n          }\n          pc.transceivers[j].iceTransport.addRemoteCandidate({});\n          sections = SDPUtils.getMediaSections(pc._remoteDescription.sdp);\n          sections[j] += 'a=end-of-candidates\\r\\n';\n          pc._remoteDescription.sdp =\n              SDPUtils.getDescription(pc._remoteDescription.sdp) +\n              sections.join('');\n          if (pc.usingBundle) {\n            break;\n          }\n        }\n      } else {\n        var sdpMLineIndex = candidate.sdpMLineIndex;\n        if (candidate.sdpMid) {\n          for (var i = 0; i < pc.transceivers.length; i++) {\n            if (pc.transceivers[i].mid === candidate.sdpMid) {\n              sdpMLineIndex = i;\n              break;\n            }\n          }\n        }\n        var transceiver = pc.transceivers[sdpMLineIndex];\n        if (transceiver) {\n          if (transceiver.rejected) {\n            return resolve();\n          }\n          var cand = Object.keys(candidate.candidate).length > 0 ?\n              SDPUtils.parseCandidate(candidate.candidate) : {};\n          // Ignore Chrome's invalid candidates since Edge does not like them.\n          if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {\n            return resolve();\n          }\n          // Ignore RTCP candidates, we assume RTCP-MUX.\n          if (cand.component && cand.component !== 1) {\n            return resolve();\n          }\n          // when using bundle, avoid adding candidates to the wrong\n          // ice transport. And avoid adding candidates added in the SDP.\n          if (sdpMLineIndex === 0 || (sdpMLineIndex > 0 &&\n              transceiver.iceTransport !== pc.transceivers[0].iceTransport)) {\n            if (!maybeAddCandidate(transceiver.iceTransport, cand)) {\n              return reject(makeError('OperationError',\n                  'Can not add ICE candidate'));\n            }\n          }\n\n          // update the remoteDescription.\n          var candidateString = candidate.candidate.trim();\n          if (candidateString.indexOf('a=') === 0) {\n            candidateString = candidateString.substr(2);\n          }\n          sections = SDPUtils.getMediaSections(pc._remoteDescription.sdp);\n          sections[sdpMLineIndex] += 'a=' +\n              (cand.type ? candidateString : 'end-of-candidates')\n              + '\\r\\n';\n          pc._remoteDescription.sdp =\n              SDPUtils.getDescription(pc._remoteDescription.sdp) +\n              sections.join('');\n        } else {\n          return reject(makeError('OperationError',\n              'Can not add ICE candidate'));\n        }\n      }\n      resolve();\n    });\n  };\n\n  RTCPeerConnection.prototype.getStats = function(selector) {\n    if (selector && selector instanceof window.MediaStreamTrack) {\n      var senderOrReceiver = null;\n      this.transceivers.forEach(function(transceiver) {\n        if (transceiver.rtpSender &&\n            transceiver.rtpSender.track === selector) {\n          senderOrReceiver = transceiver.rtpSender;\n        } else if (transceiver.rtpReceiver &&\n            transceiver.rtpReceiver.track === selector) {\n          senderOrReceiver = transceiver.rtpReceiver;\n        }\n      });\n      if (!senderOrReceiver) {\n        throw makeError('InvalidAccessError', 'Invalid selector.');\n      }\n      return senderOrReceiver.getStats();\n    }\n\n    var promises = [];\n    this.transceivers.forEach(function(transceiver) {\n      ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',\n          'dtlsTransport'].forEach(function(method) {\n            if (transceiver[method]) {\n              promises.push(transceiver[method].getStats());\n            }\n          });\n    });\n    return Promise.all(promises).then(function(allStats) {\n      var results = new Map();\n      allStats.forEach(function(stats) {\n        stats.forEach(function(stat) {\n          results.set(stat.id, stat);\n        });\n      });\n      return results;\n    });\n  };\n\n  // fix low-level stat names and return Map instead of object.\n  var ortcObjects = ['RTCRtpSender', 'RTCRtpReceiver', 'RTCIceGatherer',\n    'RTCIceTransport', 'RTCDtlsTransport'];\n  ortcObjects.forEach(function(ortcObjectName) {\n    var obj = window[ortcObjectName];\n    if (obj && obj.prototype && obj.prototype.getStats) {\n      var nativeGetstats = obj.prototype.getStats;\n      obj.prototype.getStats = function() {\n        return nativeGetstats.apply(this)\n        .then(function(nativeStats) {\n          var mapStats = new Map();\n          Object.keys(nativeStats).forEach(function(id) {\n            nativeStats[id].type = fixStatsType(nativeStats[id]);\n            mapStats.set(id, nativeStats[id]);\n          });\n          return mapStats;\n        });\n      };\n    }\n  });\n\n  // legacy callback shims. Should be moved to adapter.js some days.\n  var methods = ['createOffer', 'createAnswer'];\n  methods.forEach(function(method) {\n    var nativeMethod = RTCPeerConnection.prototype[method];\n    RTCPeerConnection.prototype[method] = function() {\n      var args = arguments;\n      if (typeof args[0] === 'function' ||\n          typeof args[1] === 'function') { // legacy\n        return nativeMethod.apply(this, [arguments[2]])\n        .then(function(description) {\n          if (typeof args[0] === 'function') {\n            args[0].apply(null, [description]);\n          }\n        }, function(error) {\n          if (typeof args[1] === 'function') {\n            args[1].apply(null, [error]);\n          }\n        });\n      }\n      return nativeMethod.apply(this, arguments);\n    };\n  });\n\n  methods = ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'];\n  methods.forEach(function(method) {\n    var nativeMethod = RTCPeerConnection.prototype[method];\n    RTCPeerConnection.prototype[method] = function() {\n      var args = arguments;\n      if (typeof args[1] === 'function' ||\n          typeof args[2] === 'function') { // legacy\n        return nativeMethod.apply(this, arguments)\n        .then(function() {\n          if (typeof args[1] === 'function') {\n            args[1].apply(null);\n          }\n        }, function(error) {\n          if (typeof args[2] === 'function') {\n            args[2].apply(null, [error]);\n          }\n        });\n      }\n      return nativeMethod.apply(this, arguments);\n    };\n  });\n\n  // getStats is special. It doesn't have a spec legacy method yet we support\n  // getStats(something, cb) without error callbacks.\n  ['getStats'].forEach(function(method) {\n    var nativeMethod = RTCPeerConnection.prototype[method];\n    RTCPeerConnection.prototype[method] = function() {\n      var args = arguments;\n      if (typeof args[1] === 'function') {\n        return nativeMethod.apply(this, arguments)\n        .then(function() {\n          if (typeof args[1] === 'function') {\n            args[1].apply(null);\n          }\n        });\n      }\n      return nativeMethod.apply(this, arguments);\n    };\n  });\n\n  return RTCPeerConnection;\n};\n","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","import { ComponentType } from 'react'\nimport { ClientBuildManifest } from '../build/webpack/plugins/build-manifest-plugin'\nimport getAssetPathFromRoute from '../next-server/lib/router/utils/get-asset-path-from-route'\nimport { requestIdleCallback } from './request-idle-callback'\n\n// 3.8s was arbitrarily chosen as it's what https://web.dev/interactive\n// considers as \"Good\" time-to-interactive. We must assume something went\n// wrong beyond this point, and then fall-back to a full page transition to\n// show the user something of value.\nconst MS_MAX_IDLE_DELAY = 3800\n\ndeclare global {\n  interface Window {\n    __BUILD_MANIFEST?: ClientBuildManifest\n    __BUILD_MANIFEST_CB?: Function\n  }\n}\n\nexport interface LoadedEntrypointSuccess {\n  component: ComponentType\n  exports: any\n}\nexport interface LoadedEntrypointFailure {\n  error: unknown\n}\nexport type RouteEntrypoint = LoadedEntrypointSuccess | LoadedEntrypointFailure\n\nexport interface RouteStyleSheet {\n  href: string\n  content: string\n}\n\nexport interface LoadedRouteSuccess extends LoadedEntrypointSuccess {\n  styles: RouteStyleSheet[]\n}\nexport interface LoadedRouteFailure {\n  error: unknown\n}\nexport type RouteLoaderEntry = LoadedRouteSuccess | LoadedRouteFailure\n\nexport type Future<V> = {\n  resolve: (entrypoint: V) => void\n  future: Promise<V>\n}\nfunction withFuture<T>(\n  key: string,\n  map: Map<string, Future<T> | T>,\n  generator?: () => Promise<T>\n): Promise<T> {\n  let entry: Future<T> | T | undefined = map.get(key)\n  if (entry) {\n    if ('future' in entry) {\n      return entry.future\n    }\n    return Promise.resolve(entry)\n  }\n  let resolver: (entrypoint: T) => void\n  const prom: Promise<T> = new Promise<T>((resolve) => {\n    resolver = resolve\n  })\n  map.set(key, (entry = { resolve: resolver!, future: prom }))\n  return generator\n    ? // eslint-disable-next-line no-sequences\n      generator().then((value) => (resolver(value), value))\n    : prom\n}\n\nexport interface RouteLoader {\n  whenEntrypoint(route: string): Promise<RouteEntrypoint>\n  onEntrypoint(route: string, execute: () => unknown): void\n  loadRoute(route: string): Promise<RouteLoaderEntry>\n  prefetch(route: string): Promise<void>\n}\n\nfunction hasPrefetch(link?: HTMLLinkElement): boolean {\n  try {\n    link = document.createElement('link')\n    return (\n      // detect IE11 since it supports prefetch but isn't detected\n      // with relList.support\n      (!!window.MSInputMethodContext && !!(document as any).documentMode) ||\n      link.relList.supports('prefetch')\n    )\n  } catch {\n    return false\n  }\n}\n\nconst canPrefetch: boolean = hasPrefetch()\n\nfunction prefetchViaDom(\n  href: string,\n  as: string,\n  link?: HTMLLinkElement\n): Promise<any> {\n  return new Promise((res, rej) => {\n    if (document.querySelector(`link[rel=\"prefetch\"][href^=\"${href}\"]`)) {\n      return res()\n    }\n\n    link = document.createElement('link')\n\n    // The order of property assignment here is intentional:\n    if (as) link!.as = as\n    link!.rel = `prefetch`\n    link!.crossOrigin = process.env.__NEXT_CROSS_ORIGIN!\n    link!.onload = res\n    link!.onerror = rej\n\n    // `href` should always be last:\n    link!.href = href\n\n    document.head.appendChild(link)\n  })\n}\n\nconst ASSET_LOAD_ERROR = Symbol('ASSET_LOAD_ERROR')\n// TODO: unexport\nexport function markAssetError(err: Error): Error {\n  return Object.defineProperty(err, ASSET_LOAD_ERROR, {})\n}\n\nexport function isAssetError(err?: Error): boolean | undefined {\n  return err && ASSET_LOAD_ERROR in err\n}\n\nfunction appendScript(\n  src: string,\n  script?: HTMLScriptElement\n): Promise<unknown> {\n  return new Promise((resolve, reject) => {\n    script = document.createElement('script')\n\n    // The order of property assignment here is intentional.\n    // 1. Setup success/failure hooks in case the browser synchronously\n    //    executes when `src` is set.\n    script.onload = resolve\n    script.onerror = () =>\n      reject(markAssetError(new Error(`Failed to load script: ${src}`)))\n\n    // 2. Configure the cross-origin attribute before setting `src` in case the\n    //    browser begins to fetch.\n    script.crossOrigin = process.env.__NEXT_CROSS_ORIGIN!\n\n    // 3. Finally, set the source and inject into the DOM in case the child\n    //    must be appended for fetching to start.\n    script.src = src\n    document.body.appendChild(script)\n  })\n}\n\n// Resolve a promise that times out after given amount of milliseconds.\nfunction resolvePromiseWithTimeout<T>(\n  p: Promise<T>,\n  ms: number,\n  err: Error\n): Promise<T> {\n  return new Promise((resolve, reject) => {\n    let cancelled = false\n\n    p.then((r) => {\n      // Resolved, cancel the timeout\n      cancelled = true\n      resolve(r)\n    }).catch(reject)\n\n    requestIdleCallback(() =>\n      setTimeout(() => {\n        if (!cancelled) {\n          reject(err)\n        }\n      }, ms)\n    )\n  })\n}\n\n// TODO: stop exporting or cache the failure\n// It'd be best to stop exporting this. It's an implementation detail. We're\n// only exporting it for backwards compatibilty with the `page-loader`.\n// Only cache this response as a last resort if we cannot eliminate all other\n// code branches that use the Build Manifest Callback and push them through\n// the Route Loader interface.\nexport function getClientBuildManifest(): Promise<ClientBuildManifest> {\n  if (self.__BUILD_MANIFEST) {\n    return Promise.resolve(self.__BUILD_MANIFEST)\n  }\n\n  const onBuildManifest: Promise<ClientBuildManifest> = new Promise<\n    ClientBuildManifest\n  >((resolve) => {\n    // Mandatory because this is not concurrent safe:\n    const cb = self.__BUILD_MANIFEST_CB\n    self.__BUILD_MANIFEST_CB = () => {\n      resolve(self.__BUILD_MANIFEST!)\n      cb && cb()\n    }\n  })\n\n  return resolvePromiseWithTimeout<ClientBuildManifest>(\n    onBuildManifest,\n    MS_MAX_IDLE_DELAY,\n    markAssetError(new Error('Failed to load client build manifest'))\n  )\n}\n\ninterface RouteFiles {\n  scripts: string[]\n  css: string[]\n}\nfunction getFilesForRoute(\n  assetPrefix: string,\n  route: string\n): Promise<RouteFiles> {\n  if (process.env.NODE_ENV === 'development') {\n    return Promise.resolve({\n      scripts: [\n        assetPrefix +\n          '/_next/static/chunks/pages' +\n          encodeURI(getAssetPathFromRoute(route, '.js')),\n      ],\n      // Styles are handled by `style-loader` in development:\n      css: [],\n    })\n  }\n  return getClientBuildManifest().then((manifest) => {\n    if (!(route in manifest)) {\n      throw markAssetError(new Error(`Failed to lookup route: ${route}`))\n    }\n    const allFiles = manifest[route].map(\n      (entry) => assetPrefix + '/_next/' + encodeURI(entry)\n    )\n    return {\n      scripts: allFiles.filter((v) => v.endsWith('.js')),\n      css: allFiles.filter((v) => v.endsWith('.css')),\n    }\n  })\n}\n\nfunction createRouteLoader(assetPrefix: string): RouteLoader {\n  const entrypoints: Map<\n    string,\n    Future<RouteEntrypoint> | RouteEntrypoint\n  > = new Map()\n  const loadedScripts: Map<string, Promise<unknown>> = new Map()\n  const styleSheets: Map<string, Promise<RouteStyleSheet>> = new Map()\n  const routes: Map<\n    string,\n    Future<RouteLoaderEntry> | RouteLoaderEntry\n  > = new Map()\n\n  function maybeExecuteScript(src: string): Promise<unknown> {\n    let prom: Promise<unknown> | undefined = loadedScripts.get(src)\n    if (prom) {\n      return prom\n    }\n\n    // Skip executing script if it's already in the DOM:\n    if (document.querySelector(`script[src^=\"${src}\"]`)) {\n      return Promise.resolve()\n    }\n\n    loadedScripts.set(src, (prom = appendScript(src)))\n    return prom\n  }\n\n  function fetchStyleSheet(href: string): Promise<RouteStyleSheet> {\n    let prom: Promise<RouteStyleSheet> | undefined = styleSheets.get(href)\n    if (prom) {\n      return prom\n    }\n\n    styleSheets.set(\n      href,\n      (prom = fetch(href)\n        .then((res) => {\n          if (!res.ok) {\n            throw new Error(`Failed to load stylesheet: ${href}`)\n          }\n          return res.text().then((text) => ({ href: href, content: text }))\n        })\n        .catch((err) => {\n          throw markAssetError(err)\n        }))\n    )\n    return prom\n  }\n\n  return {\n    whenEntrypoint(route: string) {\n      return withFuture(route, entrypoints)\n    },\n    onEntrypoint(route: string, execute: () => unknown) {\n      Promise.resolve(execute)\n        .then((fn) => fn())\n        .then(\n          (exports: any) => ({\n            component: (exports && exports.default) || exports,\n            exports: exports,\n          }),\n          (err) => ({ error: err })\n        )\n        .then((input: RouteEntrypoint) => {\n          const old = entrypoints.get(route)\n          entrypoints.set(route, input)\n          if (old && 'resolve' in old) old.resolve(input)\n        })\n    },\n    loadRoute(route: string) {\n      return withFuture<RouteLoaderEntry>(route, routes, async () => {\n        try {\n          const { scripts, css } = await getFilesForRoute(assetPrefix, route)\n          const [, styles] = await Promise.all([\n            entrypoints.has(route)\n              ? []\n              : Promise.all(scripts.map(maybeExecuteScript)),\n            Promise.all(css.map(fetchStyleSheet)),\n          ] as const)\n\n          const entrypoint: RouteEntrypoint = await resolvePromiseWithTimeout(\n            this.whenEntrypoint(route),\n            MS_MAX_IDLE_DELAY,\n            markAssetError(\n              new Error(`Route did not complete loading: ${route}`)\n            )\n          )\n\n          const res: RouteLoaderEntry = Object.assign<\n            { styles: RouteStyleSheet[] },\n            RouteEntrypoint\n          >({ styles }, entrypoint)\n          return 'error' in entrypoint ? entrypoint : res\n        } catch (err) {\n          return { error: err }\n        }\n      })\n    },\n    prefetch(route: string): Promise<void> {\n      // https://github.com/GoogleChromeLabs/quicklink/blob/453a661fa1fa940e2d2e044452398e38c67a98fb/src/index.mjs#L115-L118\n      // License: Apache 2.0\n      let cn\n      if ((cn = (navigator as any).connection)) {\n        // Don't prefetch if using 2G or if Save-Data is enabled.\n        if (cn.saveData || /2g/.test(cn.effectiveType)) return Promise.resolve()\n      }\n      return getFilesForRoute(assetPrefix, route)\n        .then((output) =>\n          Promise.all(\n            canPrefetch\n              ? output.scripts.map((script) => prefetchViaDom(script, 'script'))\n              : []\n          )\n        )\n        .then(() => {\n          requestIdleCallback(() => this.loadRoute(route))\n        })\n        .catch(\n          // swallow prefetch errors\n          () => {}\n        )\n    },\n  }\n}\n\nexport default createRouteLoader\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","// Translates a logical route into its pages asset path (relative from a common prefix)\n// \"asset path\" being its javascript file, data file, prerendered html,...\nexport default function getAssetPathFromRoute(\n  route: string,\n  ext: string = ''\n): string {\n  const path =\n    route === '/'\n      ? '/index'\n      : /^\\/index(\\/|$)/.test(route)\n      ? `/index${route}`\n      : `${route}`\n  return path + ext\n}\n","type RequestIdleCallbackHandle = any\ntype RequestIdleCallbackOptions = {\n  timeout: number\n}\ntype RequestIdleCallbackDeadline = {\n  readonly didTimeout: boolean\n  timeRemaining: () => number\n}\n\ndeclare global {\n  interface Window {\n    requestIdleCallback: (\n      callback: (deadline: RequestIdleCallbackDeadline) => void,\n      opts?: RequestIdleCallbackOptions\n    ) => RequestIdleCallbackHandle\n    cancelIdleCallback: (id: RequestIdleCallbackHandle) => void\n  }\n}\n\nexport const requestIdleCallback =\n  (typeof self !== 'undefined' && self.requestIdleCallback) ||\n  function (\n    cb: (deadline: RequestIdleCallbackDeadline) => void\n  ): NodeJS.Timeout {\n    let start = Date.now()\n    return setTimeout(function () {\n      cb({\n        didTimeout: false,\n        timeRemaining: function () {\n          return Math.max(0, 50 - (Date.now() - start))\n        },\n      })\n    }, 1)\n  }\n\nexport const cancelIdleCallback =\n  (typeof self !== 'undefined' && self.cancelIdleCallback) ||\n  function (id: RequestIdleCallbackHandle) {\n    return clearTimeout(id)\n  }\n","export function normalizePathSep(path: string): string {\n  return path.replace(/\\\\/g, '/')\n}\n\nexport function denormalizePagePath(page: string) {\n  page = normalizePathSep(page)\n  if (page.startsWith('/index/')) {\n    page = page.slice(6)\n  } else if (page === '/index') {\n    page = '/'\n  }\n  return page\n}\n","/*\nMIT License\n\nCopyright (c) Jason Miller (https://jasonformat.com/)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n// This file is based on https://github.com/developit/mitt/blob/v1.1.3/src/index.js\n// It's been edited for the needs of this script\n// See the LICENSE at the top of the file\n\ntype Handler = (...evts: any[]) => void\n\nexport type MittEmitter = {\n  on(type: string, handler: Handler): void\n  off(type: string, handler: Handler): void\n  emit(type: string, ...evts: any[]): void\n}\n\nexport default function mitt(): MittEmitter {\n  const all: { [s: string]: Handler[] } = Object.create(null)\n\n  return {\n    on(type: string, handler: Handler) {\n      ;(all[type] || (all[type] = [])).push(handler)\n    },\n\n    off(type: string, handler: Handler) {\n      if (all[type]) {\n        all[type].splice(all[type].indexOf(handler) >>> 0, 1)\n      }\n    },\n\n    emit(type: string, ...evts: any[]) {\n      // eslint-disable-next-line array-callback-return\n      ;(all[type] || []).slice().map((handler: Handler) => {\n        handler(...evts)\n      })\n    },\n  }\n}\n","// Format function modified from nodejs\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nimport { UrlObject } from 'url'\nimport { ParsedUrlQuery } from 'querystring'\nimport * as querystring from './querystring'\n\nconst slashedProtocols = /https?|ftp|gopher|file/\n\nexport function formatUrl(urlObj: UrlObject) {\n  let { auth, hostname } = urlObj\n  let protocol = urlObj.protocol || ''\n  let pathname = urlObj.pathname || ''\n  let hash = urlObj.hash || ''\n  let query = urlObj.query || ''\n  let host: string | false = false\n\n  auth = auth ? encodeURIComponent(auth).replace(/%3A/i, ':') + '@' : ''\n\n  if (urlObj.host) {\n    host = auth + urlObj.host\n  } else if (hostname) {\n    host = auth + (~hostname.indexOf(':') ? `[${hostname}]` : hostname)\n    if (urlObj.port) {\n      host += ':' + urlObj.port\n    }\n  }\n\n  if (query && typeof query === 'object') {\n    query = String(querystring.urlQueryToSearchParams(query as ParsedUrlQuery))\n  }\n\n  let search = urlObj.search || (query && `?${query}`) || ''\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':'\n\n  if (\n    urlObj.slashes ||\n    ((!protocol || slashedProtocols.test(protocol)) && host !== false)\n  ) {\n    host = '//' + (host || '')\n    if (pathname && pathname[0] !== '/') pathname = '/' + pathname\n  } else if (!host) {\n    host = ''\n  }\n\n  if (hash && hash[0] !== '#') hash = '#' + hash\n  if (search && search[0] !== '?') search = '?' + search\n\n  pathname = pathname.replace(/[?#]/g, encodeURIComponent)\n  search = search.replace('#', '%23')\n\n  return `${protocol}${host}${pathname}${search}${hash}`\n}\n","// Identify /[param]/ in route string\nconst TEST_ROUTE = /\\/\\[[^/]+?\\](?=\\/|$)/\n\nexport function isDynamicRoute(route: string): boolean {\n  return TEST_ROUTE.test(route)\n}\n","import { ParsedUrlQuery } from 'querystring'\nimport pathMatch from './path-match'\nimport prepareDestination, { matchHas } from './prepare-destination'\nimport { Rewrite } from '../../../../lib/load-custom-routes'\nimport { removePathTrailingSlash } from '../../../../client/normalize-trailing-slash'\nimport { normalizeLocalePath } from '../../i18n/normalize-locale-path'\nimport { parseRelativeUrl } from './parse-relative-url'\nimport { delBasePath } from '../router'\n\nconst customRouteMatcher = pathMatch(true)\n\nexport default function resolveRewrites(\n  asPath: string,\n  pages: string[],\n  rewrites: {\n    beforeFiles: Rewrite[]\n    afterFiles: Rewrite[]\n    fallback: Rewrite[]\n  },\n  query: ParsedUrlQuery,\n  resolveHref: (path: string) => string,\n  locales?: string[]\n): {\n  matchedPage: boolean\n  parsedAs: ReturnType<typeof parseRelativeUrl>\n  asPath: string\n  resolvedHref?: string\n} {\n  let matchedPage = false\n  let parsedAs = parseRelativeUrl(asPath)\n  let fsPathname = removePathTrailingSlash(\n    normalizeLocalePath(delBasePath(parsedAs.pathname), locales).pathname\n  )\n  let resolvedHref\n\n  const handleRewrite = (rewrite: Rewrite) => {\n    const matcher = customRouteMatcher(rewrite.source)\n    let params = matcher(parsedAs.pathname)\n\n    if (rewrite.has && params) {\n      const hasParams = matchHas(\n        {\n          headers: {\n            host: document.location.hostname,\n          },\n          cookies: Object.fromEntries(\n            document.cookie.split('; ').map((item) => {\n              const [key, ...value] = item.split('=')\n              return [key, value.join('=')]\n            })\n          ),\n        } as any,\n        rewrite.has,\n        parsedAs.query\n      )\n\n      if (hasParams) {\n        Object.assign(params, hasParams)\n      } else {\n        params = false\n      }\n    }\n\n    if (params) {\n      if (!rewrite.destination) {\n        // this is a proxied rewrite which isn't handled on the client\n        return true\n      }\n      const destRes = prepareDestination(\n        rewrite.destination,\n        params,\n        query,\n        true\n      )\n      parsedAs = destRes.parsedDestination\n      asPath = destRes.newUrl\n      Object.assign(query, destRes.parsedDestination.query)\n\n      fsPathname = removePathTrailingSlash(\n        normalizeLocalePath(delBasePath(asPath), locales).pathname\n      )\n\n      if (pages.includes(fsPathname)) {\n        // check if we now match a page as this means we are done\n        // resolving the rewrites\n        matchedPage = true\n        resolvedHref = fsPathname\n        return true\n      }\n\n      // check if we match a dynamic-route, if so we break the rewrites chain\n      resolvedHref = resolveHref(fsPathname)\n\n      if (resolvedHref !== asPath && pages.includes(resolvedHref)) {\n        matchedPage = true\n        return true\n      }\n    }\n  }\n  let finished = false\n\n  for (let i = 0; i < rewrites.beforeFiles.length; i++) {\n    const rewrite = rewrites.beforeFiles[i]\n\n    if (handleRewrite(rewrite)) {\n      finished = true\n      break\n    }\n  }\n\n  if (!pages.includes(fsPathname)) {\n    if (!finished) {\n      for (let i = 0; i < rewrites.afterFiles.length; i++) {\n        const rewrite = rewrites.afterFiles[i]\n        if (handleRewrite(rewrite)) {\n          finished = true\n          break\n        }\n      }\n    }\n\n    // check dynamic route before processing fallback rewrites\n    if (!finished) {\n      resolvedHref = resolveHref(fsPathname)\n      matchedPage = pages.includes(resolvedHref)\n      finished = matchedPage\n    }\n\n    if (!finished) {\n      for (let i = 0; i < rewrites.fallback.length; i++) {\n        const rewrite = rewrites.fallback[i]\n        if (handleRewrite(rewrite)) {\n          finished = true\n          break\n        }\n      }\n    }\n  }\n\n  return {\n    asPath,\n    parsedAs,\n    matchedPage,\n    resolvedHref,\n  }\n}\n","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}\n\nmodule.exports = _toArray;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","import * as pathToRegexp from 'next/dist/compiled/path-to-regexp'\n\nexport { pathToRegexp }\n\nexport const matcherOptions: pathToRegexp.TokensToRegexpOptions &\n  pathToRegexp.ParseOptions = {\n  sensitive: false,\n  delimiter: '/',\n}\n\nexport const customRouteMatcherOptions: pathToRegexp.TokensToRegexpOptions &\n  pathToRegexp.ParseOptions = {\n  ...matcherOptions,\n  strict: true,\n}\n\nexport default (customRoute = false) => {\n  return (path: string) => {\n    const keys: pathToRegexp.Key[] = []\n    const matcherRegex = pathToRegexp.pathToRegexp(\n      path,\n      keys,\n      customRoute ? customRouteMatcherOptions : matcherOptions\n    )\n    const matcher = pathToRegexp.regexpToFunction(matcherRegex, keys)\n\n    return (pathname: string | null | undefined, params?: any) => {\n      const res = pathname == null ? false : matcher(pathname)\n      if (!res) {\n        return false\n      }\n\n      if (customRoute) {\n        for (const key of keys) {\n          // unnamed params should be removed as they\n          // are not allowed to be used in the destination\n          if (typeof key.name === 'number') {\n            delete (res.params as any)[key.name]\n          }\n        }\n      }\n\n      return { ...params, ...res.params }\n    }\n  }\n}\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","import { IncomingMessage } from 'http'\nimport { ParsedUrlQuery } from 'querystring'\nimport { searchParamsToUrlQuery } from './querystring'\nimport { parseRelativeUrl } from './parse-relative-url'\nimport * as pathToRegexp from 'next/dist/compiled/path-to-regexp'\nimport { RouteHas } from '../../../../lib/load-custom-routes'\n\ntype Params = { [param: string]: any }\n\n// ensure only a-zA-Z are used for param names for proper interpolating\n// with path-to-regexp\nexport const getSafeParamName = (paramName: string) => {\n  let newParamName = ''\n\n  for (let i = 0; i < paramName.length; i++) {\n    const charCode = paramName.charCodeAt(i)\n\n    if (\n      (charCode > 64 && charCode < 91) || // A-Z\n      (charCode > 96 && charCode < 123) // a-z\n    ) {\n      newParamName += paramName[i]\n    }\n  }\n  return newParamName\n}\n\nexport function matchHas(\n  req: IncomingMessage,\n  has: RouteHas[],\n  query: Params\n): false | Params {\n  const params: Params = {}\n  const allMatch = has.every((hasItem) => {\n    let value: undefined | string\n    let key = hasItem.key\n\n    switch (hasItem.type) {\n      case 'header': {\n        key = key!.toLowerCase()\n        value = req.headers[key] as string\n        break\n      }\n      case 'cookie': {\n        value = (req as any).cookies[hasItem.key]\n        break\n      }\n      case 'query': {\n        value = query[key!]\n        break\n      }\n      case 'host': {\n        const { host } = req?.headers || {}\n        // remove port from host if present\n        const hostname = host?.split(':')[0].toLowerCase()\n        value = hostname\n        break\n      }\n      default: {\n        break\n      }\n    }\n\n    if (!hasItem.value && value) {\n      params[getSafeParamName(key!)] = value\n      return true\n    } else if (value) {\n      const matcher = new RegExp(`^${hasItem.value}$`)\n      const matches = value.match(matcher)\n\n      if (matches) {\n        if (matches.groups) {\n          Object.keys(matches.groups).forEach((groupKey) => {\n            const safeKey = getSafeParamName(groupKey)\n\n            if (safeKey && matches.groups![groupKey]) {\n              params[safeKey] = matches.groups![groupKey]\n            }\n          })\n        } else {\n          params[getSafeParamName(key || 'host')] = matches[0]\n        }\n        return true\n      }\n    }\n    return false\n  })\n\n  if (allMatch) {\n    return params\n  }\n  return false\n}\n\nexport function compileNonPath(value: string, params: Params): string {\n  if (!value.includes(':')) {\n    return value\n  }\n\n  for (const key of Object.keys(params)) {\n    if (value.includes(`:${key}`)) {\n      value = value\n        .replace(\n          new RegExp(`:${key}\\\\*`, 'g'),\n          `:${key}--ESCAPED_PARAM_ASTERISKS`\n        )\n        .replace(\n          new RegExp(`:${key}\\\\?`, 'g'),\n          `:${key}--ESCAPED_PARAM_QUESTION`\n        )\n        .replace(new RegExp(`:${key}\\\\+`, 'g'), `:${key}--ESCAPED_PARAM_PLUS`)\n        .replace(\n          new RegExp(`:${key}(?!\\\\w)`, 'g'),\n          `--ESCAPED_PARAM_COLON${key}`\n        )\n    }\n  }\n  value = value\n    .replace(/(:|\\*|\\?|\\+|\\(|\\)|\\{|\\})/g, '\\\\$1')\n    .replace(/--ESCAPED_PARAM_PLUS/g, '+')\n    .replace(/--ESCAPED_PARAM_COLON/g, ':')\n    .replace(/--ESCAPED_PARAM_QUESTION/g, '?')\n    .replace(/--ESCAPED_PARAM_ASTERISKS/g, '*')\n\n  // the value needs to start with a forward-slash to be compiled\n  // correctly\n  return pathToRegexp\n    .compile(`/${value}`, { validate: false })(params)\n    .substr(1)\n}\n\nexport default function prepareDestination(\n  destination: string,\n  params: Params,\n  query: ParsedUrlQuery,\n  appendParamsToQuery: boolean\n) {\n  let parsedDestination: {\n    query?: ParsedUrlQuery\n    protocol?: string\n    hostname?: string\n    port?: string\n  } & ReturnType<typeof parseRelativeUrl> = {} as any\n\n  // clone query so we don't modify the original\n  query = Object.assign({}, query)\n  const hadLocale = query.__nextLocale\n  delete query.__nextLocale\n  delete query.__nextDefaultLocale\n\n  if (destination.startsWith('/')) {\n    parsedDestination = parseRelativeUrl(destination)\n  } else {\n    const {\n      pathname,\n      searchParams,\n      hash,\n      hostname,\n      port,\n      protocol,\n      search,\n      href,\n    } = new URL(destination)\n\n    parsedDestination = {\n      pathname,\n      query: searchParamsToUrlQuery(searchParams),\n      hash,\n      protocol,\n      hostname,\n      port,\n      search,\n      href,\n    }\n  }\n\n  const destQuery = parsedDestination.query\n  const destPath = `${parsedDestination.pathname!}${\n    parsedDestination.hash || ''\n  }`\n  const destPathParamKeys: pathToRegexp.Key[] = []\n  pathToRegexp.pathToRegexp(destPath, destPathParamKeys)\n\n  const destPathParams = destPathParamKeys.map((key) => key.name)\n\n  let destinationCompiler = pathToRegexp.compile(\n    destPath,\n    // we don't validate while compiling the destination since we should\n    // have already validated before we got to this point and validating\n    // breaks compiling destinations with named pattern params from the source\n    // e.g. /something:hello(.*) -> /another/:hello is broken with validation\n    // since compile validation is meant for reversing and not for inserting\n    // params from a separate path-regex into another\n    { validate: false }\n  )\n  let newUrl\n\n  // update any params in query values\n  for (const [key, strOrArray] of Object.entries(destQuery)) {\n    let value = Array.isArray(strOrArray) ? strOrArray[0] : strOrArray\n    if (value) {\n      // the value needs to start with a forward-slash to be compiled\n      // correctly\n      value = compileNonPath(value, params)\n    }\n    destQuery[key] = value\n  }\n\n  // add path params to query if it's not a redirect and not\n  // already defined in destination query or path\n  let paramKeys = Object.keys(params)\n\n  // remove internal param for i18n\n  if (hadLocale) {\n    paramKeys = paramKeys.filter((name) => name !== 'nextInternalLocale')\n  }\n\n  if (\n    appendParamsToQuery &&\n    !paramKeys.some((key) => destPathParams.includes(key))\n  ) {\n    for (const key of paramKeys) {\n      if (!(key in destQuery)) {\n        destQuery[key] = params[key]\n      }\n    }\n  }\n\n  try {\n    newUrl = destinationCompiler(params)\n\n    const [pathname, hash] = newUrl.split('#')\n    parsedDestination.pathname = pathname\n    parsedDestination.hash = `${hash ? '#' : ''}${hash || ''}`\n    delete (parsedDestination as any).search\n  } catch (err) {\n    if (err.message.match(/Expected .*? to not repeat, but got an array/)) {\n      throw new Error(\n        `To use a multi-match in the destination you must add \\`*\\` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match`\n      )\n    }\n    throw err\n  }\n\n  // Query merge order lowest priority to highest\n  // 1. initial URL query values\n  // 2. path segment values\n  // 3. destination specified query values\n  parsedDestination.query = {\n    ...query,\n    ...parsedDestination.query,\n  }\n\n  return {\n    newUrl,\n    parsedDestination,\n  }\n}\n","import { getRouteRegex } from './route-regex'\n\nexport function getRouteMatcher(routeRegex: ReturnType<typeof getRouteRegex>) {\n  const { re, groups } = routeRegex\n  return (pathname: string | null | undefined) => {\n    const routeMatch = re.exec(pathname!)\n    if (!routeMatch) {\n      return false\n    }\n\n    const decode = (param: string) => {\n      try {\n        return decodeURIComponent(param)\n      } catch (_) {\n        const err: Error & { code?: string } = new Error(\n          'failed to decode param'\n        )\n        err.code = 'DECODE_FAILED'\n        throw err\n      }\n    }\n    const params: { [paramName: string]: string | string[] } = {}\n\n    Object.keys(groups).forEach((slugName: string) => {\n      const g = groups[slugName]\n      const m = routeMatch[g.pos]\n      if (m !== undefined) {\n        params[slugName] = ~m.indexOf('/')\n          ? m.split('/').map((entry) => decode(entry))\n          : g.repeat\n          ? [decode(m)]\n          : decode(m)\n      }\n    })\n    return params\n  }\n}\n","export interface Group {\n  pos: number\n  repeat: boolean\n  optional: boolean\n}\n\n// this isn't importing the escape-string-regex module\n// to reduce bytes\nfunction escapeRegex(str: string) {\n  return str.replace(/[|\\\\{}()[\\]^$+*?.-]/g, '\\\\$&')\n}\n\nfunction parseParameter(param: string) {\n  const optional = param.startsWith('[') && param.endsWith(']')\n  if (optional) {\n    param = param.slice(1, -1)\n  }\n  const repeat = param.startsWith('...')\n  if (repeat) {\n    param = param.slice(3)\n  }\n  return { key: param, repeat, optional }\n}\n\nexport function getRouteRegex(\n  normalizedRoute: string\n): {\n  re: RegExp\n  namedRegex?: string\n  routeKeys?: { [named: string]: string }\n  groups: { [groupName: string]: Group }\n} {\n  const segments = (normalizedRoute.replace(/\\/$/, '') || '/')\n    .slice(1)\n    .split('/')\n\n  const groups: { [groupName: string]: Group } = {}\n  let groupIndex = 1\n  const parameterizedRoute = segments\n    .map((segment) => {\n      if (segment.startsWith('[') && segment.endsWith(']')) {\n        const { key, optional, repeat } = parseParameter(segment.slice(1, -1))\n        groups[key] = { pos: groupIndex++, repeat, optional }\n        return repeat ? (optional ? '(?:/(.+?))?' : '/(.+?)') : '/([^/]+?)'\n      } else {\n        return `/${escapeRegex(segment)}`\n      }\n    })\n    .join('')\n\n  // dead code eliminate for browser since it's only needed\n  // while generating routes-manifest\n  if (typeof window === 'undefined') {\n    let routeKeyCharCode = 97\n    let routeKeyCharLength = 1\n\n    // builds a minimal routeKey using only a-z and minimal number of characters\n    const getSafeRouteKey = () => {\n      let routeKey = ''\n\n      for (let i = 0; i < routeKeyCharLength; i++) {\n        routeKey += String.fromCharCode(routeKeyCharCode)\n        routeKeyCharCode++\n\n        if (routeKeyCharCode > 122) {\n          routeKeyCharLength++\n          routeKeyCharCode = 97\n        }\n      }\n      return routeKey\n    }\n\n    const routeKeys: { [named: string]: string } = {}\n\n    let namedParameterizedRoute = segments\n      .map((segment) => {\n        if (segment.startsWith('[') && segment.endsWith(']')) {\n          const { key, optional, repeat } = parseParameter(segment.slice(1, -1))\n          // replace any non-word characters since they can break\n          // the named regex\n          let cleanedKey = key.replace(/\\W/g, '')\n          let invalidKey = false\n\n          // check if the key is still invalid and fallback to using a known\n          // safe key\n          if (cleanedKey.length === 0 || cleanedKey.length > 30) {\n            invalidKey = true\n          }\n          if (!isNaN(parseInt(cleanedKey.substr(0, 1)))) {\n            invalidKey = true\n          }\n\n          if (invalidKey) {\n            cleanedKey = getSafeRouteKey()\n          }\n\n          routeKeys[cleanedKey] = key\n          return repeat\n            ? optional\n              ? `(?:/(?<${cleanedKey}>.+?))?`\n              : `/(?<${cleanedKey}>.+?)`\n            : `/(?<${cleanedKey}>[^/]+?)`\n        } else {\n          return `/${escapeRegex(segment)}`\n        }\n      })\n      .join('')\n\n    return {\n      re: new RegExp(`^${parameterizedRoute}(?:/)?$`),\n      groups,\n      routeKeys,\n      namedRegex: `^${namedParameterizedRoute}(?:/)?$`,\n    }\n  }\n\n  return {\n    re: new RegExp(`^${parameterizedRoute}(?:/)?$`),\n    groups,\n  }\n}\n","export function detectDomainLocale(\n  domainItems:\n    | Array<{\n        http?: boolean\n        domain: string\n        locales?: string[]\n        defaultLocale: string\n      }>\n    | undefined,\n  hostname?: string,\n  detectedLocale?: string\n) {\n  let domainItem:\n    | {\n        http?: boolean\n        domain: string\n        locales?: string[]\n        defaultLocale: string\n      }\n    | undefined\n\n  if (domainItems) {\n    if (detectedLocale) {\n      detectedLocale = detectedLocale.toLowerCase()\n    }\n\n    for (const item of domainItems) {\n      // remove port if present\n      const domainHostname = item.domain?.split(':')[0].toLowerCase()\n      if (\n        hostname === domainHostname ||\n        detectedLocale === item.defaultLocale.toLowerCase() ||\n        item.locales?.some((locale) => locale.toLowerCase() === detectedLocale)\n      ) {\n        domainItem = item\n        break\n      }\n    }\n  }\n\n  return domainItem\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nlet logDisabled_ = true;\nlet deprecationWarnings_ = true;\n\n/**\n * Extract browser version out of the provided user agent string.\n *\n * @param {!string} uastring userAgent string.\n * @param {!string} expr Regular expression used as match criteria.\n * @param {!number} pos position in the version string to be returned.\n * @return {!number} browser version.\n */\nexport function extractVersion(uastring, expr, pos) {\n  const match = uastring.match(expr);\n  return match && match.length >= pos && parseInt(match[pos], 10);\n}\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object (or false to prevent\n// the event).\nexport function wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  const proto = window.RTCPeerConnection.prototype;\n  const nativeAddEventListener = proto.addEventListener;\n  proto.addEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap) {\n      return nativeAddEventListener.apply(this, arguments);\n    }\n    const wrappedCallback = (e) => {\n      const modifiedEvent = wrapper(e);\n      if (modifiedEvent) {\n        if (cb.handleEvent) {\n          cb.handleEvent(modifiedEvent);\n        } else {\n          cb(modifiedEvent);\n        }\n      }\n    };\n    this._eventMap = this._eventMap || {};\n    if (!this._eventMap[eventNameToWrap]) {\n      this._eventMap[eventNameToWrap] = new Map();\n    }\n    this._eventMap[eventNameToWrap].set(cb, wrappedCallback);\n    return nativeAddEventListener.apply(this, [nativeEventName,\n      wrappedCallback]);\n  };\n\n  const nativeRemoveEventListener = proto.removeEventListener;\n  proto.removeEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap || !this._eventMap\n        || !this._eventMap[eventNameToWrap]) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    if (!this._eventMap[eventNameToWrap].has(cb)) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    const unwrappedCb = this._eventMap[eventNameToWrap].get(cb);\n    this._eventMap[eventNameToWrap].delete(cb);\n    if (this._eventMap[eventNameToWrap].size === 0) {\n      delete this._eventMap[eventNameToWrap];\n    }\n    if (Object.keys(this._eventMap).length === 0) {\n      delete this._eventMap;\n    }\n    return nativeRemoveEventListener.apply(this, [nativeEventName,\n      unwrappedCb]);\n  };\n\n  Object.defineProperty(proto, 'on' + eventNameToWrap, {\n    get() {\n      return this['_on' + eventNameToWrap];\n    },\n    set(cb) {\n      if (this['_on' + eventNameToWrap]) {\n        this.removeEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap]);\n        delete this['_on' + eventNameToWrap];\n      }\n      if (cb) {\n        this.addEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap] = cb);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n}\n\nexport function disableLog(bool) {\n  if (typeof bool !== 'boolean') {\n    return new Error('Argument type: ' + typeof bool +\n        '. Please use a boolean.');\n  }\n  logDisabled_ = bool;\n  return (bool) ? 'adapter.js logging disabled' :\n      'adapter.js logging enabled';\n}\n\n/**\n * Disable or enable deprecation warnings\n * @param {!boolean} bool set to true to disable warnings.\n */\nexport function disableWarnings(bool) {\n  if (typeof bool !== 'boolean') {\n    return new Error('Argument type: ' + typeof bool +\n        '. Please use a boolean.');\n  }\n  deprecationWarnings_ = !bool;\n  return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n}\n\nexport function log() {\n  if (typeof window === 'object') {\n    if (logDisabled_) {\n      return;\n    }\n    if (typeof console !== 'undefined' && typeof console.log === 'function') {\n      console.log.apply(console, arguments);\n    }\n  }\n}\n\n/**\n * Shows a deprecation warning suggesting the modern and spec-compatible API.\n */\nexport function deprecated(oldMethod, newMethod) {\n  if (!deprecationWarnings_) {\n    return;\n  }\n  console.warn(oldMethod + ' is deprecated, please use ' + newMethod +\n      ' instead.');\n}\n\n/**\n * Browser detector.\n *\n * @return {object} result containing browser and version\n *     properties.\n */\nexport function detectBrowser(window) {\n  // Returned result object.\n  const result = {browser: null, version: null};\n\n  // Fail early if it's not a browser\n  if (typeof window === 'undefined' || !window.navigator) {\n    result.browser = 'Not a browser.';\n    return result;\n  }\n\n  const {navigator} = window;\n\n  if (navigator.mozGetUserMedia) { // Firefox.\n    result.browser = 'firefox';\n    result.version = extractVersion(navigator.userAgent,\n        /Firefox\\/(\\d+)\\./, 1);\n  } else if (navigator.webkitGetUserMedia ||\n      (window.isSecureContext === false && window.webkitRTCPeerConnection &&\n       !window.RTCIceGatherer)) {\n    // Chrome, Chromium, Webview, Opera.\n    // Version matches Chrome/WebRTC version.\n    // Chrome 74 removed webkitGetUserMedia on http as well so we need the\n    // more complicated fallback to webkitRTCPeerConnection.\n    result.browser = 'chrome';\n    result.version = extractVersion(navigator.userAgent,\n        /Chrom(e|ium)\\/(\\d+)\\./, 2);\n  } else if (navigator.mediaDevices &&\n      navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) { // Edge.\n    result.browser = 'edge';\n    result.version = extractVersion(navigator.userAgent,\n        /Edge\\/(\\d+).(\\d+)$/, 2);\n  } else if (window.RTCPeerConnection &&\n      navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) { // Safari.\n    result.browser = 'safari';\n    result.version = extractVersion(navigator.userAgent,\n        /AppleWebKit\\/(\\d+)\\./, 1);\n    result.supportsUnifiedPlan = window.RTCRtpTransceiver &&\n        'currentDirection' in window.RTCRtpTransceiver.prototype;\n  } else { // Default fallthrough: not supported.\n    result.browser = 'Not a supported browser.';\n    return result;\n  }\n\n  return result;\n}\n\n/**\n * Checks if something is an object.\n *\n * @param {*} val The something you want to check.\n * @return true if val is an object, false otherwise.\n */\nfunction isObject(val) {\n  return Object.prototype.toString.call(val) === '[object Object]';\n}\n\n/**\n * Remove all empty objects and undefined values\n * from a nested object -- an enhanced and vanilla version\n * of Lodash's `compact`.\n */\nexport function compactObject(data) {\n  if (!isObject(data)) {\n    return data;\n  }\n\n  return Object.keys(data).reduce(function(accumulator, key) {\n    const isObj = isObject(data[key]);\n    const value = isObj ? compactObject(data[key]) : data[key];\n    const isEmptyObject = isObj && !Object.keys(value).length;\n    if (value === undefined || isEmptyObject) {\n      return accumulator;\n    }\n    return Object.assign(accumulator, {[key]: value});\n  }, {});\n}\n\n/* iterates the stats graph recursively. */\nexport function walkStats(stats, base, resultSet) {\n  if (!base || resultSet.has(base.id)) {\n    return;\n  }\n  resultSet.set(base.id, base);\n  Object.keys(base).forEach(name => {\n    if (name.endsWith('Id')) {\n      walkStats(stats, stats.get(base[name]), resultSet);\n    } else if (name.endsWith('Ids')) {\n      base[name].forEach(id => {\n        walkStats(stats, stats.get(id), resultSet);\n      });\n    }\n  });\n}\n\n/* filter getStats for a sender/receiver track. */\nexport function filterStats(result, track, outbound) {\n  const streamStatsType = outbound ? 'outbound-rtp' : 'inbound-rtp';\n  const filteredResult = new Map();\n  if (track === null) {\n    return filteredResult;\n  }\n  const trackStats = [];\n  result.forEach(value => {\n    if (value.type === 'track' &&\n        value.trackIdentifier === track.id) {\n      trackStats.push(value);\n    }\n  });\n  trackStats.forEach(trackStat => {\n    result.forEach(stats => {\n      if (stats.type === streamStatsType && stats.trackId === trackStat.id) {\n        walkStats(result, stats, filteredResult);\n      }\n    });\n  });\n  return filteredResult;\n}\n\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\nimport * as utils from '../utils.js';\nconst logging = utils.log;\n\nexport function shimGetUserMedia(window, browserDetails) {\n  const navigator = window && window.navigator;\n\n  if (!navigator.mediaDevices) {\n    return;\n  }\n\n  const constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    const cc = {};\n    Object.keys(c).forEach(key => {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      const r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      const oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        let oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(mix => {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  const shimConstraints_ = function(constraints, func) {\n    if (browserDetails.version >= 61) {\n      return func(constraints);\n    }\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && typeof constraints.audio === 'object') {\n      const remap = function(obj, a, b) {\n        if (a in obj && !(b in obj)) {\n          obj[b] = obj[a];\n          delete obj[a];\n        }\n      };\n      constraints = JSON.parse(JSON.stringify(constraints));\n      remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n      remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile & surface pro.\n      let face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n      const getSupportedFacingModeLies = browserDetails.version < 66;\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode &&\n            !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        let matches;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          matches = ['back', 'rear'];\n        } else if (face.exact === 'user' || face.ideal === 'user') {\n          matches = ['front'];\n        }\n        if (matches) {\n          // Look for matches in label, or use last cam for back (typical).\n          return navigator.mediaDevices.enumerateDevices()\n          .then(devices => {\n            devices = devices.filter(d => d.kind === 'videoinput');\n            let dev = devices.find(d => matches.some(match =>\n              d.label.toLowerCase().includes(match)));\n            if (!dev && devices.length && matches.includes('back')) {\n              dev = devices[devices.length - 1]; // more likely the back cam\n            }\n            if (dev) {\n              constraints.video.deviceId = face.exact ? {exact: dev.deviceId} :\n                                                        {ideal: dev.deviceId};\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  const shimError_ = function(e) {\n    if (browserDetails.version >= 64) {\n      return e;\n    }\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        PermissionDismissedError: 'NotAllowedError',\n        InvalidStateError: 'NotAllowedError',\n        DevicesNotFoundError: 'NotFoundError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError',\n        TrackStartError: 'NotReadableError',\n        MediaDeviceFailedDueToShutdown: 'NotAllowedError',\n        MediaDeviceKillSwitchOn: 'NotAllowedError',\n        TabCaptureError: 'AbortError',\n        ScreenCaptureError: 'AbortError',\n        DeviceCaptureError: 'AbortError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint || e.constraintName,\n      toString() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  const getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, c => {\n      navigator.webkitGetUserMedia(c, onSuccess, e => {\n        if (onError) {\n          onError(shimError_(e));\n        }\n      });\n    });\n  };\n  navigator.getUserMedia = getUserMedia_.bind(navigator);\n\n  // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n  // function which returns a Promise, it does not accept spec-style\n  // constraints.\n  if (navigator.mediaDevices.getUserMedia) {\n    const origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, c => origGetUserMedia(c).then(stream => {\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(track => {\n            track.stop();\n          });\n          throw new DOMException('', 'NotFoundError');\n        }\n        return stream;\n      }, e => Promise.reject(shimError_(e))));\n    };\n  }\n}\n","/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\nexport function shimGetDisplayMedia(window, getSourceId) {\n  if (window.navigator.mediaDevices &&\n    'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  if (!(window.navigator.mediaDevices)) {\n    return;\n  }\n  // getSourceId is a function that returns a promise resolving with\n  // the sourceId of the screen/window/tab to be shared.\n  if (typeof getSourceId !== 'function') {\n    console.error('shimGetDisplayMedia: getSourceId argument is not ' +\n        'a function');\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia =\n    function getDisplayMedia(constraints) {\n      return getSourceId(constraints)\n        .then(sourceId => {\n          const widthSpecified = constraints.video && constraints.video.width;\n          const heightSpecified = constraints.video &&\n            constraints.video.height;\n          const frameRateSpecified = constraints.video &&\n            constraints.video.frameRate;\n          constraints.video = {\n            mandatory: {\n              chromeMediaSource: 'desktop',\n              chromeMediaSourceId: sourceId,\n              maxFrameRate: frameRateSpecified || 3\n            }\n          };\n          if (widthSpecified) {\n            constraints.video.mandatory.maxWidth = widthSpecified;\n          }\n          if (heightSpecified) {\n            constraints.video.mandatory.maxHeight = heightSpecified;\n          }\n          return window.navigator.mediaDevices.getUserMedia(constraints);\n        });\n    };\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nimport * as utils from '../utils.js';\n\nexport {shimGetUserMedia} from './getusermedia';\nexport {shimGetDisplayMedia} from './getdisplaymedia';\n\nexport function shimMediaStream(window) {\n  window.MediaStream = window.MediaStream || window.webkitMediaStream;\n}\n\nexport function shimOnTrack(window) {\n  if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n      window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n      get() {\n        return this._ontrack;\n      },\n      set(f) {\n        if (this._ontrack) {\n          this.removeEventListener('track', this._ontrack);\n        }\n        this.addEventListener('track', this._ontrack = f);\n      },\n      enumerable: true,\n      configurable: true\n    });\n    const origSetRemoteDescription =\n        window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription =\n      function setRemoteDescription() {\n        if (!this._ontrackpoly) {\n          this._ontrackpoly = (e) => {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', te => {\n              let receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = this.getReceivers()\n                  .find(r => r.track && r.track.id === te.track.id);\n              } else {\n                receiver = {track: te.track};\n              }\n\n              const event = new Event('track');\n              event.track = te.track;\n              event.receiver = receiver;\n              event.transceiver = {receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(track => {\n              let receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = this.getReceivers()\n                  .find(r => r.track && r.track.id === track.id);\n              } else {\n                receiver = {track};\n              }\n              const event = new Event('track');\n              event.track = track;\n              event.receiver = receiver;\n              event.transceiver = {receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            });\n          };\n          this.addEventListener('addstream', this._ontrackpoly);\n        }\n        return origSetRemoteDescription.apply(this, arguments);\n      };\n  } else {\n    // even if RTCRtpTransceiver is in window, it is only used and\n    // emitted in unified-plan. Unfortunately this means we need\n    // to unconditionally wrap the event.\n    utils.wrapPeerConnectionEvent(window, 'track', e => {\n      if (!e.transceiver) {\n        Object.defineProperty(e, 'transceiver',\n          {value: {receiver: e.receiver}});\n      }\n      return e;\n    });\n  }\n}\n\nexport function shimGetSendersWithDtmf(window) {\n  // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n  if (typeof window === 'object' && window.RTCPeerConnection &&\n      !('getSenders' in window.RTCPeerConnection.prototype) &&\n      'createDTMFSender' in window.RTCPeerConnection.prototype) {\n    const shimSenderWithDtmf = function(pc, track) {\n      return {\n        track,\n        get dtmf() {\n          if (this._dtmf === undefined) {\n            if (track.kind === 'audio') {\n              this._dtmf = pc.createDTMFSender(track);\n            } else {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        },\n        _pc: pc\n      };\n    };\n\n    // augment addTrack when getSenders is not available.\n    if (!window.RTCPeerConnection.prototype.getSenders) {\n      window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n        this._senders = this._senders || [];\n        return this._senders.slice(); // return a copy of the internal state.\n      };\n      const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n      window.RTCPeerConnection.prototype.addTrack =\n        function addTrack(track, stream) {\n          let sender = origAddTrack.apply(this, arguments);\n          if (!sender) {\n            sender = shimSenderWithDtmf(this, track);\n            this._senders.push(sender);\n          }\n          return sender;\n        };\n\n      const origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n      window.RTCPeerConnection.prototype.removeTrack =\n        function removeTrack(sender) {\n          origRemoveTrack.apply(this, arguments);\n          const idx = this._senders.indexOf(sender);\n          if (idx !== -1) {\n            this._senders.splice(idx, 1);\n          }\n        };\n    }\n    const origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n      this._senders = this._senders || [];\n      origAddStream.apply(this, [stream]);\n      stream.getTracks().forEach(track => {\n        this._senders.push(shimSenderWithDtmf(this, track));\n      });\n    };\n\n    const origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream =\n      function removeStream(stream) {\n        this._senders = this._senders || [];\n        origRemoveStream.apply(this, [stream]);\n\n        stream.getTracks().forEach(track => {\n          const sender = this._senders.find(s => s.track === track);\n          if (sender) { // remove sender\n            this._senders.splice(this._senders.indexOf(sender), 1);\n          }\n        });\n      };\n  } else if (typeof window === 'object' && window.RTCPeerConnection &&\n             'getSenders' in window.RTCPeerConnection.prototype &&\n             'createDTMFSender' in window.RTCPeerConnection.prototype &&\n             window.RTCRtpSender &&\n             !('dtmf' in window.RTCRtpSender.prototype)) {\n    const origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n    window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n      const senders = origGetSenders.apply(this, []);\n      senders.forEach(sender => sender._pc = this);\n      return senders;\n    };\n\n    Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n      get() {\n        if (this._dtmf === undefined) {\n          if (this.track.kind === 'audio') {\n            this._dtmf = this._pc.createDTMFSender(this.track);\n          } else {\n            this._dtmf = null;\n          }\n        }\n        return this._dtmf;\n      }\n    });\n  }\n}\n\nexport function shimGetStats(window) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n\n  const origGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    const [selector, onSucc, onErr] = arguments;\n\n    // If selector is a function then we are in the old style stats so just\n    // pass back the original getStats format to avoid breaking old users.\n    if (arguments.length > 0 && typeof selector === 'function') {\n      return origGetStats.apply(this, arguments);\n    }\n\n    // When spec-style getStats is supported, return those when called with\n    // either no arguments or the selector argument is null.\n    if (origGetStats.length === 0 && (arguments.length === 0 ||\n        typeof selector !== 'function')) {\n      return origGetStats.apply(this, []);\n    }\n\n    const fixChromeStats_ = function(response) {\n      const standardReport = {};\n      const reports = response.result();\n      reports.forEach(report => {\n        const standardStats = {\n          id: report.id,\n          timestamp: report.timestamp,\n          type: {\n            localcandidate: 'local-candidate',\n            remotecandidate: 'remote-candidate'\n          }[report.type] || report.type\n        };\n        report.names().forEach(name => {\n          standardStats[name] = report.stat(name);\n        });\n        standardReport[standardStats.id] = standardStats;\n      });\n\n      return standardReport;\n    };\n\n    // shim getStats with maplike support\n    const makeMapStats = function(stats) {\n      return new Map(Object.keys(stats).map(key => [key, stats[key]]));\n    };\n\n    if (arguments.length >= 2) {\n      const successCallbackWrapper_ = function(response) {\n        onSucc(makeMapStats(fixChromeStats_(response)));\n      };\n\n      return origGetStats.apply(this, [successCallbackWrapper_,\n        selector]);\n    }\n\n    // promise-support\n    return new Promise((resolve, reject) => {\n      origGetStats.apply(this, [\n        function(response) {\n          resolve(makeMapStats(fixChromeStats_(response)));\n        }, reject]);\n    }).then(onSucc, onErr);\n  };\n}\n\nexport function shimSenderReceiverGetStats(window) {\n  if (!(typeof window === 'object' && window.RTCPeerConnection &&\n      window.RTCRtpSender && window.RTCRtpReceiver)) {\n    return;\n  }\n\n  // shim sender stats.\n  if (!('getStats' in window.RTCRtpSender.prototype)) {\n    const origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n    if (origGetSenders) {\n      window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n        const senders = origGetSenders.apply(this, []);\n        senders.forEach(sender => sender._pc = this);\n        return senders;\n      };\n    }\n\n    const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n    if (origAddTrack) {\n      window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n        const sender = origAddTrack.apply(this, arguments);\n        sender._pc = this;\n        return sender;\n      };\n    }\n    window.RTCRtpSender.prototype.getStats = function getStats() {\n      const sender = this;\n      return this._pc.getStats().then(result =>\n        /* Note: this will include stats of all senders that\n         *   send a track with the same id as sender.track as\n         *   it is not possible to identify the RTCRtpSender.\n         */\n        utils.filterStats(result, sender.track, true));\n    };\n  }\n\n  // shim receiver stats.\n  if (!('getStats' in window.RTCRtpReceiver.prototype)) {\n    const origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n    if (origGetReceivers) {\n      window.RTCPeerConnection.prototype.getReceivers =\n        function getReceivers() {\n          const receivers = origGetReceivers.apply(this, []);\n          receivers.forEach(receiver => receiver._pc = this);\n          return receivers;\n        };\n    }\n    utils.wrapPeerConnectionEvent(window, 'track', e => {\n      e.receiver._pc = e.srcElement;\n      return e;\n    });\n    window.RTCRtpReceiver.prototype.getStats = function getStats() {\n      const receiver = this;\n      return this._pc.getStats().then(result =>\n        utils.filterStats(result, receiver.track, false));\n    };\n  }\n\n  if (!('getStats' in window.RTCRtpSender.prototype &&\n      'getStats' in window.RTCRtpReceiver.prototype)) {\n    return;\n  }\n\n  // shim RTCPeerConnection.getStats(track).\n  const origGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    if (arguments.length > 0 &&\n        arguments[0] instanceof window.MediaStreamTrack) {\n      const track = arguments[0];\n      let sender;\n      let receiver;\n      let err;\n      this.getSenders().forEach(s => {\n        if (s.track === track) {\n          if (sender) {\n            err = true;\n          } else {\n            sender = s;\n          }\n        }\n      });\n      this.getReceivers().forEach(r => {\n        if (r.track === track) {\n          if (receiver) {\n            err = true;\n          } else {\n            receiver = r;\n          }\n        }\n        return r.track === track;\n      });\n      if (err || (sender && receiver)) {\n        return Promise.reject(new DOMException(\n          'There are more than one sender or receiver for the track.',\n          'InvalidAccessError'));\n      } else if (sender) {\n        return sender.getStats();\n      } else if (receiver) {\n        return receiver.getStats();\n      }\n      return Promise.reject(new DOMException(\n        'There is no sender or receiver for the track.',\n        'InvalidAccessError'));\n    }\n    return origGetStats.apply(this, arguments);\n  };\n}\n\nexport function shimAddTrackRemoveTrackWithNative(window) {\n  // shim addTrack/removeTrack with native variants in order to make\n  // the interactions with legacy getLocalStreams behave as in other browsers.\n  // Keeps a mapping stream.id => [stream, rtpsenders...]\n  window.RTCPeerConnection.prototype.getLocalStreams =\n    function getLocalStreams() {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      return Object.keys(this._shimmedLocalStreams)\n        .map(streamId => this._shimmedLocalStreams[streamId][0]);\n    };\n\n  const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n  window.RTCPeerConnection.prototype.addTrack =\n    function addTrack(track, stream) {\n      if (!stream) {\n        return origAddTrack.apply(this, arguments);\n      }\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n      const sender = origAddTrack.apply(this, arguments);\n      if (!this._shimmedLocalStreams[stream.id]) {\n        this._shimmedLocalStreams[stream.id] = [stream, sender];\n      } else if (this._shimmedLocalStreams[stream.id].indexOf(sender) === -1) {\n        this._shimmedLocalStreams[stream.id].push(sender);\n      }\n      return sender;\n    };\n\n  const origAddStream = window.RTCPeerConnection.prototype.addStream;\n  window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n    this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n    stream.getTracks().forEach(track => {\n      const alreadyExists = this.getSenders().find(s => s.track === track);\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n    });\n    const existingSenders = this.getSenders();\n    origAddStream.apply(this, arguments);\n    const newSenders = this.getSenders()\n      .filter(newSender => existingSenders.indexOf(newSender) === -1);\n    this._shimmedLocalStreams[stream.id] = [stream].concat(newSenders);\n  };\n\n  const origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n  window.RTCPeerConnection.prototype.removeStream =\n    function removeStream(stream) {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      delete this._shimmedLocalStreams[stream.id];\n      return origRemoveStream.apply(this, arguments);\n    };\n\n  const origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n  window.RTCPeerConnection.prototype.removeTrack =\n    function removeTrack(sender) {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      if (sender) {\n        Object.keys(this._shimmedLocalStreams).forEach(streamId => {\n          const idx = this._shimmedLocalStreams[streamId].indexOf(sender);\n          if (idx !== -1) {\n            this._shimmedLocalStreams[streamId].splice(idx, 1);\n          }\n          if (this._shimmedLocalStreams[streamId].length === 1) {\n            delete this._shimmedLocalStreams[streamId];\n          }\n        });\n      }\n      return origRemoveTrack.apply(this, arguments);\n    };\n}\n\nexport function shimAddTrackRemoveTrack(window, browserDetails) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  // shim addTrack and removeTrack.\n  if (window.RTCPeerConnection.prototype.addTrack &&\n      browserDetails.version >= 65) {\n    return shimAddTrackRemoveTrackWithNative(window);\n  }\n\n  // also shim pc.getLocalStreams when addTrack is shimmed\n  // to return the original streams.\n  const origGetLocalStreams = window.RTCPeerConnection.prototype\n      .getLocalStreams;\n  window.RTCPeerConnection.prototype.getLocalStreams =\n    function getLocalStreams() {\n      const nativeStreams = origGetLocalStreams.apply(this);\n      this._reverseStreams = this._reverseStreams || {};\n      return nativeStreams.map(stream => this._reverseStreams[stream.id]);\n    };\n\n  const origAddStream = window.RTCPeerConnection.prototype.addStream;\n  window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n    this._streams = this._streams || {};\n    this._reverseStreams = this._reverseStreams || {};\n\n    stream.getTracks().forEach(track => {\n      const alreadyExists = this.getSenders().find(s => s.track === track);\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n    });\n    // Add identity mapping for consistency with addTrack.\n    // Unless this is being used with a stream from addTrack.\n    if (!this._reverseStreams[stream.id]) {\n      const newStream = new window.MediaStream(stream.getTracks());\n      this._streams[stream.id] = newStream;\n      this._reverseStreams[newStream.id] = stream;\n      stream = newStream;\n    }\n    origAddStream.apply(this, [stream]);\n  };\n\n  const origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n  window.RTCPeerConnection.prototype.removeStream =\n    function removeStream(stream) {\n      this._streams = this._streams || {};\n      this._reverseStreams = this._reverseStreams || {};\n\n      origRemoveStream.apply(this, [(this._streams[stream.id] || stream)]);\n      delete this._reverseStreams[(this._streams[stream.id] ?\n          this._streams[stream.id].id : stream.id)];\n      delete this._streams[stream.id];\n    };\n\n  window.RTCPeerConnection.prototype.addTrack =\n    function addTrack(track, stream) {\n      if (this.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      const streams = [].slice.call(arguments, 1);\n      if (streams.length !== 1 ||\n          !streams[0].getTracks().find(t => t === track)) {\n        // this is not fully correct but all we can manage without\n        // [[associated MediaStreams]] internal slot.\n        throw new DOMException(\n          'The adapter.js addTrack polyfill only supports a single ' +\n          ' stream which is associated with the specified track.',\n          'NotSupportedError');\n      }\n\n      const alreadyExists = this.getSenders().find(s => s.track === track);\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n\n      this._streams = this._streams || {};\n      this._reverseStreams = this._reverseStreams || {};\n      const oldStream = this._streams[stream.id];\n      if (oldStream) {\n        // this is using odd Chrome behaviour, use with caution:\n        // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n        // Note: we rely on the high-level addTrack/dtmf shim to\n        // create the sender with a dtmf sender.\n        oldStream.addTrack(track);\n\n        // Trigger ONN async.\n        Promise.resolve().then(() => {\n          this.dispatchEvent(new Event('negotiationneeded'));\n        });\n      } else {\n        const newStream = new window.MediaStream([track]);\n        this._streams[stream.id] = newStream;\n        this._reverseStreams[newStream.id] = stream;\n        this.addStream(newStream);\n      }\n      return this.getSenders().find(s => s.track === track);\n    };\n\n  // replace the internal stream id with the external one and\n  // vice versa.\n  function replaceInternalStreamId(pc, description) {\n    let sdp = description.sdp;\n    Object.keys(pc._reverseStreams || []).forEach(internalId => {\n      const externalStream = pc._reverseStreams[internalId];\n      const internalStream = pc._streams[externalStream.id];\n      sdp = sdp.replace(new RegExp(internalStream.id, 'g'),\n          externalStream.id);\n    });\n    return new RTCSessionDescription({\n      type: description.type,\n      sdp\n    });\n  }\n  function replaceExternalStreamId(pc, description) {\n    let sdp = description.sdp;\n    Object.keys(pc._reverseStreams || []).forEach(internalId => {\n      const externalStream = pc._reverseStreams[internalId];\n      const internalStream = pc._streams[externalStream.id];\n      sdp = sdp.replace(new RegExp(externalStream.id, 'g'),\n          internalStream.id);\n    });\n    return new RTCSessionDescription({\n      type: description.type,\n      sdp\n    });\n  }\n  ['createOffer', 'createAnswer'].forEach(function(method) {\n    const nativeMethod = window.RTCPeerConnection.prototype[method];\n    const methodObj = {[method]() {\n      const args = arguments;\n      const isLegacyCall = arguments.length &&\n          typeof arguments[0] === 'function';\n      if (isLegacyCall) {\n        return nativeMethod.apply(this, [\n          (description) => {\n            const desc = replaceInternalStreamId(this, description);\n            args[0].apply(null, [desc]);\n          },\n          (err) => {\n            if (args[1]) {\n              args[1].apply(null, err);\n            }\n          }, arguments[2]\n        ]);\n      }\n      return nativeMethod.apply(this, arguments)\n      .then(description => replaceInternalStreamId(this, description));\n    }};\n    window.RTCPeerConnection.prototype[method] = methodObj[method];\n  });\n\n  const origSetLocalDescription =\n      window.RTCPeerConnection.prototype.setLocalDescription;\n  window.RTCPeerConnection.prototype.setLocalDescription =\n    function setLocalDescription() {\n      if (!arguments.length || !arguments[0].type) {\n        return origSetLocalDescription.apply(this, arguments);\n      }\n      arguments[0] = replaceExternalStreamId(this, arguments[0]);\n      return origSetLocalDescription.apply(this, arguments);\n    };\n\n  // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n\n  const origLocalDescription = Object.getOwnPropertyDescriptor(\n      window.RTCPeerConnection.prototype, 'localDescription');\n  Object.defineProperty(window.RTCPeerConnection.prototype,\n      'localDescription', {\n        get() {\n          const description = origLocalDescription.get.apply(this);\n          if (description.type === '') {\n            return description;\n          }\n          return replaceInternalStreamId(this, description);\n        }\n      });\n\n  window.RTCPeerConnection.prototype.removeTrack =\n    function removeTrack(sender) {\n      if (this.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      // We can not yet check for sender instanceof RTCRtpSender\n      // since we shim RTPSender. So we check if sender._pc is set.\n      if (!sender._pc) {\n        throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' +\n            'does not implement interface RTCRtpSender.', 'TypeError');\n      }\n      const isLocal = sender._pc === this;\n      if (!isLocal) {\n        throw new DOMException('Sender was not created by this connection.',\n            'InvalidAccessError');\n      }\n\n      // Search for the native stream the senders track belongs to.\n      this._streams = this._streams || {};\n      let stream;\n      Object.keys(this._streams).forEach(streamid => {\n        const hasTrack = this._streams[streamid].getTracks()\n          .find(track => sender.track === track);\n        if (hasTrack) {\n          stream = this._streams[streamid];\n        }\n      });\n\n      if (stream) {\n        if (stream.getTracks().length === 1) {\n          // if this is the last track of the stream, remove the stream. This\n          // takes care of any shimmed _senders.\n          this.removeStream(this._reverseStreams[stream.id]);\n        } else {\n          // relying on the same odd chrome behaviour as above.\n          stream.removeTrack(sender.track);\n        }\n        this.dispatchEvent(new Event('negotiationneeded'));\n      }\n    };\n}\n\nexport function shimPeerConnection(window, browserDetails) {\n  if (!window.RTCPeerConnection && window.webkitRTCPeerConnection) {\n    // very basic support for old versions.\n    window.RTCPeerConnection = window.webkitRTCPeerConnection;\n  }\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n\n  // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n  if (browserDetails.version < 53) {\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          const nativeMethod = window.RTCPeerConnection.prototype[method];\n          const methodObj = {[method]() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          }};\n          window.RTCPeerConnection.prototype[method] = methodObj[method];\n        });\n  }\n}\n\n// Attempt to fix ONN in plan-b mode.\nexport function fixNegotiationNeeded(window, browserDetails) {\n  utils.wrapPeerConnectionEvent(window, 'negotiationneeded', e => {\n    const pc = e.target;\n    if (browserDetails.version < 72 || (pc.getConfiguration &&\n        pc.getConfiguration().sdpSemantics === 'plan-b')) {\n      if (pc.signalingState !== 'stable') {\n        return;\n      }\n    }\n    return e;\n  });\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nexport function shimGetUserMedia(window) {\n  const navigator = window && window.navigator;\n\n  const shimError_ = function(e) {\n    return {\n      name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint,\n      toString() {\n        return this.name;\n      }\n    };\n  };\n\n  // getUserMedia error shim.\n  const origGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n  navigator.mediaDevices.getUserMedia = function(c) {\n    return origGetUserMedia(c).catch(e => Promise.reject(shimError_(e)));\n  };\n}\n","/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nexport function shimGetDisplayMedia(window) {\n  if (!('getDisplayMedia' in window.navigator)) {\n    return;\n  }\n  if (!(window.navigator.mediaDevices)) {\n    return;\n  }\n  if (window.navigator.mediaDevices &&\n    'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia =\n    window.navigator.getDisplayMedia.bind(window.navigator);\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport * as utils from '../utils';\nimport {filterIceServers} from './filtericeservers';\nimport shimRTCPeerConnection from 'rtcpeerconnection-shim';\n\nexport {shimGetUserMedia} from './getusermedia';\nexport {shimGetDisplayMedia} from './getdisplaymedia';\n\nexport function shimPeerConnection(window, browserDetails) {\n  if (window.RTCIceGatherer) {\n    if (!window.RTCIceCandidate) {\n      window.RTCIceCandidate = function RTCIceCandidate(args) {\n        return args;\n      };\n    }\n    if (!window.RTCSessionDescription) {\n      window.RTCSessionDescription = function RTCSessionDescription(args) {\n        return args;\n      };\n    }\n    // this adds an additional event listener to MediaStrackTrack that signals\n    // when a tracks enabled property was changed. Workaround for a bug in\n    // addStream, see below. No longer required in 15025+\n    if (browserDetails.version < 15025) {\n      const origMSTEnabled = Object.getOwnPropertyDescriptor(\n          window.MediaStreamTrack.prototype, 'enabled');\n      Object.defineProperty(window.MediaStreamTrack.prototype, 'enabled', {\n        set(value) {\n          origMSTEnabled.set.call(this, value);\n          const ev = new Event('enabled');\n          ev.enabled = value;\n          this.dispatchEvent(ev);\n        }\n      });\n    }\n  }\n\n  // ORTC defines the DTMF sender a bit different.\n  // https://github.com/w3c/ortc/issues/714\n  if (window.RTCRtpSender && !('dtmf' in window.RTCRtpSender.prototype)) {\n    Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n      get() {\n        if (this._dtmf === undefined) {\n          if (this.track.kind === 'audio') {\n            this._dtmf = new window.RTCDtmfSender(this);\n          } else if (this.track.kind === 'video') {\n            this._dtmf = null;\n          }\n        }\n        return this._dtmf;\n      }\n    });\n  }\n  // Edge currently only implements the RTCDtmfSender, not the\n  // RTCDTMFSender alias. See http://draft.ortc.org/#rtcdtmfsender2*\n  if (window.RTCDtmfSender && !window.RTCDTMFSender) {\n    window.RTCDTMFSender = window.RTCDtmfSender;\n  }\n\n  const RTCPeerConnectionShim = shimRTCPeerConnection(window,\n      browserDetails.version);\n  window.RTCPeerConnection = function RTCPeerConnection(config) {\n    if (config && config.iceServers) {\n      config.iceServers = filterIceServers(config.iceServers,\n        browserDetails.version);\n      utils.log('ICE servers after filtering:', config.iceServers);\n    }\n    return new RTCPeerConnectionShim(config);\n  };\n  window.RTCPeerConnection.prototype = RTCPeerConnectionShim.prototype;\n}\n\nexport function shimReplaceTrack(window) {\n  // ORTC has replaceTrack -- https://github.com/w3c/ortc/issues/614\n  if (window.RTCRtpSender &&\n      !('replaceTrack' in window.RTCRtpSender.prototype)) {\n    window.RTCRtpSender.prototype.replaceTrack =\n        window.RTCRtpSender.prototype.setTrack;\n  }\n}\n","/*\n *  Copyright (c) 2018 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport * as utils from '../utils';\n// Edge does not like\n// 1) stun: filtered after 14393 unless ?transport=udp is present\n// 2) turn: that does not have all of turn:host:port?transport=udp\n// 3) turn: with ipv6 addresses\n// 4) turn: occurring muliple times\nexport function filterIceServers(iceServers, edgeVersion) {\n  let hasTurn = false;\n  iceServers = JSON.parse(JSON.stringify(iceServers));\n  return iceServers.filter(server => {\n    if (server && (server.urls || server.url)) {\n      let urls = server.urls || server.url;\n      if (server.url && !server.urls) {\n        utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n      }\n      const isString = typeof urls === 'string';\n      if (isString) {\n        urls = [urls];\n      }\n      urls = urls.filter(url => {\n        // filter STUN unconditionally.\n        if (url.indexOf('stun:') === 0) {\n          return false;\n        }\n\n        const validTurn = url.startsWith('turn') &&\n            !url.startsWith('turn:[') &&\n            url.includes('transport=udp');\n        if (validTurn && !hasTurn) {\n          hasTurn = true;\n          return true;\n        }\n        return validTurn && !hasTurn;\n      });\n\n      delete server.url;\n      server.urls = isString ? urls[0] : urls;\n      return !!urls.length;\n    }\n  });\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport * as utils from '../utils';\n\nexport function shimGetUserMedia(window, browserDetails) {\n  const navigator = window && window.navigator;\n  const MediaStreamTrack = window && window.MediaStreamTrack;\n\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    utils.deprecated('navigator.getUserMedia',\n        'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n\n  if (!(browserDetails.version > 55 &&\n      'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    const remap = function(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n\n    const nativeGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      if (typeof c === 'object' && typeof c.audio === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      const nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function() {\n        const obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      const nativeApplyConstraints =\n        MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function(c) {\n        if (this.kind === 'audio' && typeof c === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n}\n","/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nexport function shimGetDisplayMedia(window, preferredMediaSource) {\n  if (window.navigator.mediaDevices &&\n    'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  if (!(window.navigator.mediaDevices)) {\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia =\n    function getDisplayMedia(constraints) {\n      if (!(constraints && constraints.video)) {\n        const err = new DOMException('getDisplayMedia without video ' +\n            'constraints is undefined');\n        err.name = 'NotFoundError';\n        // from https://heycam.github.io/webidl/#idl-DOMException-error-names\n        err.code = 8;\n        return Promise.reject(err);\n      }\n      if (constraints.video === true) {\n        constraints.video = {mediaSource: preferredMediaSource};\n      } else {\n        constraints.video.mediaSource = preferredMediaSource;\n      }\n      return window.navigator.mediaDevices.getUserMedia(constraints);\n    };\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport * as utils from '../utils';\nexport {shimGetUserMedia} from './getusermedia';\nexport {shimGetDisplayMedia} from './getdisplaymedia';\n\nexport function shimOnTrack(window) {\n  if (typeof window === 'object' && window.RTCTrackEvent &&\n      ('receiver' in window.RTCTrackEvent.prototype) &&\n      !('transceiver' in window.RTCTrackEvent.prototype)) {\n    Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n      get() {\n        return {receiver: this.receiver};\n      }\n    });\n  }\n}\n\nexport function shimPeerConnection(window, browserDetails) {\n  if (typeof window !== 'object' ||\n      !(window.RTCPeerConnection || window.mozRTCPeerConnection)) {\n    return; // probably media.peerconnection.enabled=false in about:config\n  }\n  if (!window.RTCPeerConnection && window.mozRTCPeerConnection) {\n    // very basic support for old versions.\n    window.RTCPeerConnection = window.mozRTCPeerConnection;\n  }\n\n  if (browserDetails.version < 53) {\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          const nativeMethod = window.RTCPeerConnection.prototype[method];\n          const methodObj = {[method]() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          }};\n          window.RTCPeerConnection.prototype[method] = methodObj[method];\n        });\n  }\n\n  const modernStatsTypes = {\n    inboundrtp: 'inbound-rtp',\n    outboundrtp: 'outbound-rtp',\n    candidatepair: 'candidate-pair',\n    localcandidate: 'local-candidate',\n    remotecandidate: 'remote-candidate'\n  };\n\n  const nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    const [selector, onSucc, onErr] = arguments;\n    return nativeGetStats.apply(this, [selector || null])\n      .then(stats => {\n        if (browserDetails.version < 53 && !onSucc) {\n          // Shim only promise getStats with spec-hyphens in type names\n          // Leave callback version alone; misc old uses of forEach before Map\n          try {\n            stats.forEach(stat => {\n              stat.type = modernStatsTypes[stat.type] || stat.type;\n            });\n          } catch (e) {\n            if (e.name !== 'TypeError') {\n              throw e;\n            }\n            // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n            stats.forEach((stat, i) => {\n              stats.set(i, Object.assign({}, stat, {\n                type: modernStatsTypes[stat.type] || stat.type\n              }));\n            });\n          }\n        }\n        return stats;\n      })\n      .then(onSucc, onErr);\n  };\n}\n\nexport function shimSenderGetStats(window) {\n  if (!(typeof window === 'object' && window.RTCPeerConnection &&\n      window.RTCRtpSender)) {\n    return;\n  }\n  if (window.RTCRtpSender && 'getStats' in window.RTCRtpSender.prototype) {\n    return;\n  }\n  const origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n  if (origGetSenders) {\n    window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n      const senders = origGetSenders.apply(this, []);\n      senders.forEach(sender => sender._pc = this);\n      return senders;\n    };\n  }\n\n  const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n  if (origAddTrack) {\n    window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n      const sender = origAddTrack.apply(this, arguments);\n      sender._pc = this;\n      return sender;\n    };\n  }\n  window.RTCRtpSender.prototype.getStats = function getStats() {\n    return this.track ? this._pc.getStats(this.track) :\n        Promise.resolve(new Map());\n  };\n}\n\nexport function shimReceiverGetStats(window) {\n  if (!(typeof window === 'object' && window.RTCPeerConnection &&\n      window.RTCRtpSender)) {\n    return;\n  }\n  if (window.RTCRtpSender && 'getStats' in window.RTCRtpReceiver.prototype) {\n    return;\n  }\n  const origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n  if (origGetReceivers) {\n    window.RTCPeerConnection.prototype.getReceivers = function getReceivers() {\n      const receivers = origGetReceivers.apply(this, []);\n      receivers.forEach(receiver => receiver._pc = this);\n      return receivers;\n    };\n  }\n  utils.wrapPeerConnectionEvent(window, 'track', e => {\n    e.receiver._pc = e.srcElement;\n    return e;\n  });\n  window.RTCRtpReceiver.prototype.getStats = function getStats() {\n    return this._pc.getStats(this.track);\n  };\n}\n\nexport function shimRemoveStream(window) {\n  if (!window.RTCPeerConnection ||\n      'removeStream' in window.RTCPeerConnection.prototype) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.removeStream =\n    function removeStream(stream) {\n      utils.deprecated('removeStream', 'removeTrack');\n      this.getSenders().forEach(sender => {\n        if (sender.track && stream.getTracks().includes(sender.track)) {\n          this.removeTrack(sender);\n        }\n      });\n    };\n}\n\nexport function shimRTCDataChannel(window) {\n  // rename DataChannel to RTCDataChannel (native fix in FF60):\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1173851\n  if (window.DataChannel && !window.RTCDataChannel) {\n    window.RTCDataChannel = window.DataChannel;\n  }\n}\n\nexport function shimAddTransceiver(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  const origAddTransceiver = window.RTCPeerConnection.prototype.addTransceiver;\n  if (origAddTransceiver) {\n    window.RTCPeerConnection.prototype.addTransceiver =\n      function addTransceiver() {\n        this.setParametersPromises = [];\n        const initParameters = arguments[1];\n        const shouldPerformCheck = initParameters &&\n                                  'sendEncodings' in initParameters;\n        if (shouldPerformCheck) {\n          // If sendEncodings params are provided, validate grammar\n          initParameters.sendEncodings.forEach((encodingParam) => {\n            if ('rid' in encodingParam) {\n              const ridRegex = /^[a-z0-9]{0,16}$/i;\n              if (!ridRegex.test(encodingParam.rid)) {\n                throw new TypeError('Invalid RID value provided.');\n              }\n            }\n            if ('scaleResolutionDownBy' in encodingParam) {\n              if (!(parseFloat(encodingParam.scaleResolutionDownBy) >= 1.0)) {\n                throw new RangeError('scale_resolution_down_by must be >= 1.0');\n              }\n            }\n            if ('maxFramerate' in encodingParam) {\n              if (!(parseFloat(encodingParam.maxFramerate) >= 0)) {\n                throw new RangeError('max_framerate must be >= 0.0');\n              }\n            }\n          });\n        }\n        const transceiver = origAddTransceiver.apply(this, arguments);\n        if (shouldPerformCheck) {\n          // Check if the init options were applied. If not we do this in an\n          // asynchronous way and save the promise reference in a global object.\n          // This is an ugly hack, but at the same time is way more robust than\n          // checking the sender parameters before and after the createOffer\n          // Also note that after the createoffer we are not 100% sure that\n          // the params were asynchronously applied so we might miss the\n          // opportunity to recreate offer.\n          const {sender} = transceiver;\n          const params = sender.getParameters();\n          if (!('encodings' in params) ||\n              // Avoid being fooled by patched getParameters() below.\n              (params.encodings.length === 1 &&\n               Object.keys(params.encodings[0]).length === 0)) {\n            params.encodings = initParameters.sendEncodings;\n            sender.sendEncodings = initParameters.sendEncodings;\n            this.setParametersPromises.push(sender.setParameters(params)\n              .then(() => {\n                delete sender.sendEncodings;\n              }).catch(() => {\n                delete sender.sendEncodings;\n              })\n            );\n          }\n        }\n        return transceiver;\n      };\n  }\n}\n\nexport function shimGetParameters(window) {\n  if (!(typeof window === 'object' && window.RTCRtpSender)) {\n    return;\n  }\n  const origGetParameters = window.RTCRtpSender.prototype.getParameters;\n  if (origGetParameters) {\n    window.RTCRtpSender.prototype.getParameters =\n      function getParameters() {\n        const params = origGetParameters.apply(this, arguments);\n        if (!('encodings' in params)) {\n          params.encodings = [].concat(this.sendEncodings || [{}]);\n        }\n        return params;\n      };\n  }\n}\n\nexport function shimCreateOffer(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  const origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n  window.RTCPeerConnection.prototype.createOffer = function createOffer() {\n    if (this.setParametersPromises && this.setParametersPromises.length) {\n      return Promise.all(this.setParametersPromises)\n      .then(() => {\n        return origCreateOffer.apply(this, arguments);\n      })\n      .finally(() => {\n        this.setParametersPromises = [];\n      });\n    }\n    return origCreateOffer.apply(this, arguments);\n  };\n}\n\nexport function shimCreateAnswer(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  const origCreateAnswer = window.RTCPeerConnection.prototype.createAnswer;\n  window.RTCPeerConnection.prototype.createAnswer = function createAnswer() {\n    if (this.setParametersPromises && this.setParametersPromises.length) {\n      return Promise.all(this.setParametersPromises)\n      .then(() => {\n        return origCreateAnswer.apply(this, arguments);\n      })\n      .finally(() => {\n        this.setParametersPromises = [];\n      });\n    }\n    return origCreateAnswer.apply(this, arguments);\n  };\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\nimport * as utils from '../utils';\n\nexport function shimLocalStreamsAPI(window) {\n  if (typeof window !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.getLocalStreams =\n      function getLocalStreams() {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        return this._localStreams;\n      };\n  }\n  if (!('addStream' in window.RTCPeerConnection.prototype)) {\n    const _addTrack = window.RTCPeerConnection.prototype.addTrack;\n    window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n      if (!this._localStreams) {\n        this._localStreams = [];\n      }\n      if (!this._localStreams.includes(stream)) {\n        this._localStreams.push(stream);\n      }\n      // Try to emulate Chrome's behaviour of adding in audio-video order.\n      // Safari orders by track id.\n      stream.getAudioTracks().forEach(track => _addTrack.call(this, track,\n        stream));\n      stream.getVideoTracks().forEach(track => _addTrack.call(this, track,\n        stream));\n    };\n\n    window.RTCPeerConnection.prototype.addTrack =\n      function addTrack(track, ...streams) {\n        if (streams) {\n          streams.forEach((stream) => {\n            if (!this._localStreams) {\n              this._localStreams = [stream];\n            } else if (!this._localStreams.includes(stream)) {\n              this._localStreams.push(stream);\n            }\n          });\n        }\n        return _addTrack.apply(this, arguments);\n      };\n  }\n  if (!('removeStream' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.removeStream =\n      function removeStream(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        const index = this._localStreams.indexOf(stream);\n        if (index === -1) {\n          return;\n        }\n        this._localStreams.splice(index, 1);\n        const tracks = stream.getTracks();\n        this.getSenders().forEach(sender => {\n          if (tracks.includes(sender.track)) {\n            this.removeTrack(sender);\n          }\n        });\n      };\n  }\n}\n\nexport function shimRemoteStreamsAPI(window) {\n  if (typeof window !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.getRemoteStreams =\n      function getRemoteStreams() {\n        return this._remoteStreams ? this._remoteStreams : [];\n      };\n  }\n  if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n      get() {\n        return this._onaddstream;\n      },\n      set(f) {\n        if (this._onaddstream) {\n          this.removeEventListener('addstream', this._onaddstream);\n          this.removeEventListener('track', this._onaddstreampoly);\n        }\n        this.addEventListener('addstream', this._onaddstream = f);\n        this.addEventListener('track', this._onaddstreampoly = (e) => {\n          e.streams.forEach(stream => {\n            if (!this._remoteStreams) {\n              this._remoteStreams = [];\n            }\n            if (this._remoteStreams.includes(stream)) {\n              return;\n            }\n            this._remoteStreams.push(stream);\n            const event = new Event('addstream');\n            event.stream = stream;\n            this.dispatchEvent(event);\n          });\n        });\n      }\n    });\n    const origSetRemoteDescription =\n      window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription =\n      function setRemoteDescription() {\n        const pc = this;\n        if (!this._onaddstreampoly) {\n          this.addEventListener('track', this._onaddstreampoly = function(e) {\n            e.streams.forEach(stream => {\n              if (!pc._remoteStreams) {\n                pc._remoteStreams = [];\n              }\n              if (pc._remoteStreams.indexOf(stream) >= 0) {\n                return;\n              }\n              pc._remoteStreams.push(stream);\n              const event = new Event('addstream');\n              event.stream = stream;\n              pc.dispatchEvent(event);\n            });\n          });\n        }\n        return origSetRemoteDescription.apply(pc, arguments);\n      };\n  }\n}\n\nexport function shimCallbacksAPI(window) {\n  if (typeof window !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  const prototype = window.RTCPeerConnection.prototype;\n  const origCreateOffer = prototype.createOffer;\n  const origCreateAnswer = prototype.createAnswer;\n  const setLocalDescription = prototype.setLocalDescription;\n  const setRemoteDescription = prototype.setRemoteDescription;\n  const addIceCandidate = prototype.addIceCandidate;\n\n  prototype.createOffer =\n    function createOffer(successCallback, failureCallback) {\n      const options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      const promise = origCreateOffer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n  prototype.createAnswer =\n    function createAnswer(successCallback, failureCallback) {\n      const options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      const promise = origCreateAnswer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n  let withCallback = function(description, successCallback, failureCallback) {\n    const promise = setLocalDescription.apply(this, [description]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.setLocalDescription = withCallback;\n\n  withCallback = function(description, successCallback, failureCallback) {\n    const promise = setRemoteDescription.apply(this, [description]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.setRemoteDescription = withCallback;\n\n  withCallback = function(candidate, successCallback, failureCallback) {\n    const promise = addIceCandidate.apply(this, [candidate]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.addIceCandidate = withCallback;\n}\n\nexport function shimGetUserMedia(window) {\n  const navigator = window && window.navigator;\n\n  if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n    // shim not needed in Safari 12.1\n    const mediaDevices = navigator.mediaDevices;\n    const _getUserMedia = mediaDevices.getUserMedia.bind(mediaDevices);\n    navigator.mediaDevices.getUserMedia = (constraints) => {\n      return _getUserMedia(shimConstraints(constraints));\n    };\n  }\n\n  if (!navigator.getUserMedia && navigator.mediaDevices &&\n    navigator.mediaDevices.getUserMedia) {\n    navigator.getUserMedia = function getUserMedia(constraints, cb, errcb) {\n      navigator.mediaDevices.getUserMedia(constraints)\n      .then(cb, errcb);\n    }.bind(navigator);\n  }\n}\n\nexport function shimConstraints(constraints) {\n  if (constraints && constraints.video !== undefined) {\n    return Object.assign({},\n      constraints,\n      {video: utils.compactObject(constraints.video)}\n    );\n  }\n\n  return constraints;\n}\n\nexport function shimRTCIceServerUrls(window) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n  const OrigPeerConnection = window.RTCPeerConnection;\n  window.RTCPeerConnection =\n    function RTCPeerConnection(pcConfig, pcConstraints) {\n      if (pcConfig && pcConfig.iceServers) {\n        const newIceServers = [];\n        for (let i = 0; i < pcConfig.iceServers.length; i++) {\n          let server = pcConfig.iceServers[i];\n          if (!server.hasOwnProperty('urls') &&\n              server.hasOwnProperty('url')) {\n            utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n            server = JSON.parse(JSON.stringify(server));\n            server.urls = server.url;\n            delete server.url;\n            newIceServers.push(server);\n          } else {\n            newIceServers.push(pcConfig.iceServers[i]);\n          }\n        }\n        pcConfig.iceServers = newIceServers;\n      }\n      return new OrigPeerConnection(pcConfig, pcConstraints);\n    };\n  window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n  // wrap static methods. Currently just generateCertificate.\n  if ('generateCertificate' in OrigPeerConnection) {\n    Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n      get() {\n        return OrigPeerConnection.generateCertificate;\n      }\n    });\n  }\n}\n\nexport function shimTrackEventTransceiver(window) {\n  // Add event.transceiver member over deprecated event.receiver\n  if (typeof window === 'object' && window.RTCTrackEvent &&\n      'receiver' in window.RTCTrackEvent.prototype &&\n      !('transceiver' in window.RTCTrackEvent.prototype)) {\n    Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n      get() {\n        return {receiver: this.receiver};\n      }\n    });\n  }\n}\n\nexport function shimCreateOfferLegacy(window) {\n  const origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n  window.RTCPeerConnection.prototype.createOffer =\n    function createOffer(offerOptions) {\n      if (offerOptions) {\n        if (typeof offerOptions.offerToReceiveAudio !== 'undefined') {\n          // support bit values\n          offerOptions.offerToReceiveAudio =\n            !!offerOptions.offerToReceiveAudio;\n        }\n        const audioTransceiver = this.getTransceivers().find(transceiver =>\n          transceiver.receiver.track.kind === 'audio');\n        if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {\n          if (audioTransceiver.direction === 'sendrecv') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('sendonly');\n            } else {\n              audioTransceiver.direction = 'sendonly';\n            }\n          } else if (audioTransceiver.direction === 'recvonly') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('inactive');\n            } else {\n              audioTransceiver.direction = 'inactive';\n            }\n          }\n        } else if (offerOptions.offerToReceiveAudio === true &&\n            !audioTransceiver) {\n          this.addTransceiver('audio');\n        }\n\n        if (typeof offerOptions.offerToReceiveVideo !== 'undefined') {\n          // support bit values\n          offerOptions.offerToReceiveVideo =\n            !!offerOptions.offerToReceiveVideo;\n        }\n        const videoTransceiver = this.getTransceivers().find(transceiver =>\n          transceiver.receiver.track.kind === 'video');\n        if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {\n          if (videoTransceiver.direction === 'sendrecv') {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection('sendonly');\n            } else {\n              videoTransceiver.direction = 'sendonly';\n            }\n          } else if (videoTransceiver.direction === 'recvonly') {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection('inactive');\n            } else {\n              videoTransceiver.direction = 'inactive';\n            }\n          }\n        } else if (offerOptions.offerToReceiveVideo === true &&\n            !videoTransceiver) {\n          this.addTransceiver('video');\n        }\n      }\n      return origCreateOffer.apply(this, arguments);\n    };\n}\n\nexport function shimAudioContext(window) {\n  if (typeof window !== 'object' || window.AudioContext) {\n    return;\n  }\n  window.AudioContext = window.webkitAudioContext;\n}\n","/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport SDPUtils from 'sdp';\nimport * as utils from './utils';\n\nexport function shimRTCIceCandidate(window) {\n  // foundation is arbitrarily chosen as an indicator for full support for\n  // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n  if (!window.RTCIceCandidate || (window.RTCIceCandidate && 'foundation' in\n      window.RTCIceCandidate.prototype)) {\n    return;\n  }\n\n  const NativeRTCIceCandidate = window.RTCIceCandidate;\n  window.RTCIceCandidate = function RTCIceCandidate(args) {\n    // Remove the a= which shouldn't be part of the candidate string.\n    if (typeof args === 'object' && args.candidate &&\n        args.candidate.indexOf('a=') === 0) {\n      args = JSON.parse(JSON.stringify(args));\n      args.candidate = args.candidate.substr(2);\n    }\n\n    if (args.candidate && args.candidate.length) {\n      // Augment the native candidate with the parsed fields.\n      const nativeCandidate = new NativeRTCIceCandidate(args);\n      const parsedCandidate = SDPUtils.parseCandidate(args.candidate);\n      const augmentedCandidate = Object.assign(nativeCandidate,\n          parsedCandidate);\n\n      // Add a serializer that does not serialize the extra attributes.\n      augmentedCandidate.toJSON = function toJSON() {\n        return {\n          candidate: augmentedCandidate.candidate,\n          sdpMid: augmentedCandidate.sdpMid,\n          sdpMLineIndex: augmentedCandidate.sdpMLineIndex,\n          usernameFragment: augmentedCandidate.usernameFragment,\n        };\n      };\n      return augmentedCandidate;\n    }\n    return new NativeRTCIceCandidate(args);\n  };\n  window.RTCIceCandidate.prototype = NativeRTCIceCandidate.prototype;\n\n  // Hook up the augmented candidate in onicecandidate and\n  // addEventListener('icecandidate', ...)\n  utils.wrapPeerConnectionEvent(window, 'icecandidate', e => {\n    if (e.candidate) {\n      Object.defineProperty(e, 'candidate', {\n        value: new window.RTCIceCandidate(e.candidate),\n        writable: 'false'\n      });\n    }\n    return e;\n  });\n}\n\nexport function shimMaxMessageSize(window, browserDetails) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n\n  if (!('sctp' in window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'sctp', {\n      get() {\n        return typeof this._sctp === 'undefined' ? null : this._sctp;\n      }\n    });\n  }\n\n  const sctpInDescription = function(description) {\n    if (!description || !description.sdp) {\n      return false;\n    }\n    const sections = SDPUtils.splitSections(description.sdp);\n    sections.shift();\n    return sections.some(mediaSection => {\n      const mLine = SDPUtils.parseMLine(mediaSection);\n      return mLine && mLine.kind === 'application'\n          && mLine.protocol.indexOf('SCTP') !== -1;\n    });\n  };\n\n  const getRemoteFirefoxVersion = function(description) {\n    // TODO: Is there a better solution for detecting Firefox?\n    const match = description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);\n    if (match === null || match.length < 2) {\n      return -1;\n    }\n    const version = parseInt(match[1], 10);\n    // Test for NaN (yes, this is ugly)\n    return version !== version ? -1 : version;\n  };\n\n  const getCanSendMaxMessageSize = function(remoteIsFirefox) {\n    // Every implementation we know can send at least 64 KiB.\n    // Note: Although Chrome is technically able to send up to 256 KiB, the\n    //       data does not reach the other peer reliably.\n    //       See: https://bugs.chromium.org/p/webrtc/issues/detail?id=8419\n    let canSendMaxMessageSize = 65536;\n    if (browserDetails.browser === 'firefox') {\n      if (browserDetails.version < 57) {\n        if (remoteIsFirefox === -1) {\n          // FF < 57 will send in 16 KiB chunks using the deprecated PPID\n          // fragmentation.\n          canSendMaxMessageSize = 16384;\n        } else {\n          // However, other FF (and RAWRTC) can reassemble PPID-fragmented\n          // messages. Thus, supporting ~2 GiB when sending.\n          canSendMaxMessageSize = 2147483637;\n        }\n      } else if (browserDetails.version < 60) {\n        // Currently, all FF >= 57 will reset the remote maximum message size\n        // to the default value when a data channel is created at a later\n        // stage. :(\n        // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n        canSendMaxMessageSize =\n          browserDetails.version === 57 ? 65535 : 65536;\n      } else {\n        // FF >= 60 supports sending ~2 GiB\n        canSendMaxMessageSize = 2147483637;\n      }\n    }\n    return canSendMaxMessageSize;\n  };\n\n  const getMaxMessageSize = function(description, remoteIsFirefox) {\n    // Note: 65536 bytes is the default value from the SDP spec. Also,\n    //       every implementation we know supports receiving 65536 bytes.\n    let maxMessageSize = 65536;\n\n    // FF 57 has a slightly incorrect default remote max message size, so\n    // we need to adjust it here to avoid a failure when sending.\n    // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1425697\n    if (browserDetails.browser === 'firefox'\n         && browserDetails.version === 57) {\n      maxMessageSize = 65535;\n    }\n\n    const match = SDPUtils.matchPrefix(description.sdp,\n      'a=max-message-size:');\n    if (match.length > 0) {\n      maxMessageSize = parseInt(match[0].substr(19), 10);\n    } else if (browserDetails.browser === 'firefox' &&\n                remoteIsFirefox !== -1) {\n      // If the maximum message size is not present in the remote SDP and\n      // both local and remote are Firefox, the remote peer can receive\n      // ~2 GiB.\n      maxMessageSize = 2147483637;\n    }\n    return maxMessageSize;\n  };\n\n  const origSetRemoteDescription =\n      window.RTCPeerConnection.prototype.setRemoteDescription;\n  window.RTCPeerConnection.prototype.setRemoteDescription =\n    function setRemoteDescription() {\n      this._sctp = null;\n      // Chrome decided to not expose .sctp in plan-b mode.\n      // As usual, adapter.js has to do an 'ugly worakaround'\n      // to cover up the mess.\n      if (browserDetails.browser === 'chrome' && browserDetails.version >= 76) {\n        const {sdpSemantics} = this.getConfiguration();\n        if (sdpSemantics === 'plan-b') {\n          Object.defineProperty(this, 'sctp', {\n            get() {\n              return typeof this._sctp === 'undefined' ? null : this._sctp;\n            },\n            enumerable: true,\n            configurable: true,\n          });\n        }\n      }\n\n      if (sctpInDescription(arguments[0])) {\n        // Check if the remote is FF.\n        const isFirefox = getRemoteFirefoxVersion(arguments[0]);\n\n        // Get the maximum message size the local peer is capable of sending\n        const canSendMMS = getCanSendMaxMessageSize(isFirefox);\n\n        // Get the maximum message size of the remote peer.\n        const remoteMMS = getMaxMessageSize(arguments[0], isFirefox);\n\n        // Determine final maximum message size\n        let maxMessageSize;\n        if (canSendMMS === 0 && remoteMMS === 0) {\n          maxMessageSize = Number.POSITIVE_INFINITY;\n        } else if (canSendMMS === 0 || remoteMMS === 0) {\n          maxMessageSize = Math.max(canSendMMS, remoteMMS);\n        } else {\n          maxMessageSize = Math.min(canSendMMS, remoteMMS);\n        }\n\n        // Create a dummy RTCSctpTransport object and the 'maxMessageSize'\n        // attribute.\n        const sctp = {};\n        Object.defineProperty(sctp, 'maxMessageSize', {\n          get() {\n            return maxMessageSize;\n          }\n        });\n        this._sctp = sctp;\n      }\n\n      return origSetRemoteDescription.apply(this, arguments);\n    };\n}\n\nexport function shimSendThrowTypeError(window) {\n  if (!(window.RTCPeerConnection &&\n      'createDataChannel' in window.RTCPeerConnection.prototype)) {\n    return;\n  }\n\n  // Note: Although Firefox >= 57 has a native implementation, the maximum\n  //       message size can be reset for all data channels at a later stage.\n  //       See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n\n  function wrapDcSend(dc, pc) {\n    const origDataChannelSend = dc.send;\n    dc.send = function send() {\n      const data = arguments[0];\n      const length = data.length || data.size || data.byteLength;\n      if (dc.readyState === 'open' &&\n          pc.sctp && length > pc.sctp.maxMessageSize) {\n        throw new TypeError('Message too large (can send a maximum of ' +\n          pc.sctp.maxMessageSize + ' bytes)');\n      }\n      return origDataChannelSend.apply(dc, arguments);\n    };\n  }\n  const origCreateDataChannel =\n    window.RTCPeerConnection.prototype.createDataChannel;\n  window.RTCPeerConnection.prototype.createDataChannel =\n    function createDataChannel() {\n      const dataChannel = origCreateDataChannel.apply(this, arguments);\n      wrapDcSend(dataChannel, this);\n      return dataChannel;\n    };\n  utils.wrapPeerConnectionEvent(window, 'datachannel', e => {\n    wrapDcSend(e.channel, e.target);\n    return e;\n  });\n}\n\n\n/* shims RTCConnectionState by pretending it is the same as iceConnectionState.\n * See https://bugs.chromium.org/p/webrtc/issues/detail?id=6145#c12\n * for why this is a valid hack in Chrome. In Firefox it is slightly incorrect\n * since DTLS failures would be hidden. See\n * https://bugzilla.mozilla.org/show_bug.cgi?id=1265827\n * for the Firefox tracking bug.\n */\nexport function shimConnectionState(window) {\n  if (!window.RTCPeerConnection ||\n      'connectionState' in window.RTCPeerConnection.prototype) {\n    return;\n  }\n  const proto = window.RTCPeerConnection.prototype;\n  Object.defineProperty(proto, 'connectionState', {\n    get() {\n      return {\n        completed: 'connected',\n        checking: 'connecting'\n      }[this.iceConnectionState] || this.iceConnectionState;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(proto, 'onconnectionstatechange', {\n    get() {\n      return this._onconnectionstatechange || null;\n    },\n    set(cb) {\n      if (this._onconnectionstatechange) {\n        this.removeEventListener('connectionstatechange',\n            this._onconnectionstatechange);\n        delete this._onconnectionstatechange;\n      }\n      if (cb) {\n        this.addEventListener('connectionstatechange',\n            this._onconnectionstatechange = cb);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  ['setLocalDescription', 'setRemoteDescription'].forEach((method) => {\n    const origMethod = proto[method];\n    proto[method] = function() {\n      if (!this._connectionstatechangepoly) {\n        this._connectionstatechangepoly = e => {\n          const pc = e.target;\n          if (pc._lastConnectionState !== pc.connectionState) {\n            pc._lastConnectionState = pc.connectionState;\n            const newEvent = new Event('connectionstatechange', e);\n            pc.dispatchEvent(newEvent);\n          }\n          return e;\n        };\n        this.addEventListener('iceconnectionstatechange',\n          this._connectionstatechangepoly);\n      }\n      return origMethod.apply(this, arguments);\n    };\n  });\n}\n\nexport function removeExtmapAllowMixed(window, browserDetails) {\n  /* remove a=extmap-allow-mixed for webrtc.org < M71 */\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  if (browserDetails.browser === 'chrome' && browserDetails.version >= 71) {\n    return;\n  }\n  if (browserDetails.browser === 'safari' && browserDetails.version >= 605) {\n    return;\n  }\n  const nativeSRD = window.RTCPeerConnection.prototype.setRemoteDescription;\n  window.RTCPeerConnection.prototype.setRemoteDescription =\n  function setRemoteDescription(desc) {\n    if (desc && desc.sdp && desc.sdp.indexOf('\\na=extmap-allow-mixed') !== -1) {\n      const sdp = desc.sdp.split('\\n').filter((line) => {\n        return line.trim() !== 'a=extmap-allow-mixed';\n      }).join('\\n');\n      // Safari enforces read-only-ness of RTCSessionDescription fields.\n      if (window.RTCSessionDescription &&\n          desc instanceof window.RTCSessionDescription) {\n        arguments[0] = new window.RTCSessionDescription({\n          type: desc.type,\n          sdp,\n        });\n      } else {\n        desc.sdp = sdp;\n      }\n    }\n    return nativeSRD.apply(this, arguments);\n  };\n}\n\nexport function shimAddIceCandidateNullOrEmpty(window, browserDetails) {\n  // Support for addIceCandidate(null or undefined)\n  // as well as addIceCandidate({candidate: \"\", ...})\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=978582\n  // Note: must be called before other polyfills which change the signature.\n  if (!(window.RTCPeerConnection && window.RTCPeerConnection.prototype)) {\n    return;\n  }\n  const nativeAddIceCandidate =\n      window.RTCPeerConnection.prototype.addIceCandidate;\n  if (!nativeAddIceCandidate || nativeAddIceCandidate.length === 0) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.addIceCandidate =\n    function addIceCandidate() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      // Firefox 68+ emits and processes {candidate: \"\", ...}, ignore\n      // in older versions.\n      // Native support for ignoring exists for Chrome M77+.\n      // Safari ignores as well, exact version unknown but works in the same\n      // version that also ignores addIceCandidate(null).\n      if (((browserDetails.browser === 'chrome' && browserDetails.version < 78)\n           || (browserDetails.browser === 'firefox'\n               && browserDetails.version < 68)\n           || (browserDetails.browser === 'safari'))\n          && arguments[0] && arguments[0].candidate === '') {\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n\n'use strict';\n\nimport {adapterFactory} from './adapter_factory.js';\n\nconst adapter =\n  adapterFactory({window: typeof window === 'undefined' ? undefined : window});\nexport default adapter;\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\nimport * as utils from './utils';\n\n  // Browser shims.\nimport * as chromeShim from './chrome/chrome_shim';\nimport * as edgeShim from './edge/edge_shim';\nimport * as firefoxShim from './firefox/firefox_shim';\nimport * as safariShim from './safari/safari_shim';\nimport * as commonShim from './common_shim';\n\n// Shimming starts here.\nexport function adapterFactory({window} = {}, options = {\n  shimChrome: true,\n  shimFirefox: true,\n  shimEdge: true,\n  shimSafari: true,\n}) {\n  // Utils.\n  const logging = utils.log;\n  const browserDetails = utils.detectBrowser(window);\n\n  const adapter = {\n    browserDetails,\n    commonShim,\n    extractVersion: utils.extractVersion,\n    disableLog: utils.disableLog,\n    disableWarnings: utils.disableWarnings\n  };\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection ||\n          !options.shimChrome) {\n        logging('Chrome shim is not included in this adapter release.');\n        return adapter;\n      }\n      if (browserDetails.version === null) {\n        logging('Chrome shim can not determine version, not shimming.');\n        return adapter;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = chromeShim;\n\n      // Must be called before shimPeerConnection.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n\n      chromeShim.shimGetUserMedia(window, browserDetails);\n      chromeShim.shimMediaStream(window, browserDetails);\n      chromeShim.shimPeerConnection(window, browserDetails);\n      chromeShim.shimOnTrack(window, browserDetails);\n      chromeShim.shimAddTrackRemoveTrack(window, browserDetails);\n      chromeShim.shimGetSendersWithDtmf(window, browserDetails);\n      chromeShim.shimGetStats(window, browserDetails);\n      chromeShim.shimSenderReceiverGetStats(window, browserDetails);\n      chromeShim.fixNegotiationNeeded(window, browserDetails);\n\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimConnectionState(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      commonShim.removeExtmapAllowMixed(window, browserDetails);\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection ||\n          !options.shimFirefox) {\n        logging('Firefox shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = firefoxShim;\n\n      // Must be called before shimPeerConnection.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n\n      firefoxShim.shimGetUserMedia(window, browserDetails);\n      firefoxShim.shimPeerConnection(window, browserDetails);\n      firefoxShim.shimOnTrack(window, browserDetails);\n      firefoxShim.shimRemoveStream(window, browserDetails);\n      firefoxShim.shimSenderGetStats(window, browserDetails);\n      firefoxShim.shimReceiverGetStats(window, browserDetails);\n      firefoxShim.shimRTCDataChannel(window, browserDetails);\n      firefoxShim.shimAddTransceiver(window, browserDetails);\n      firefoxShim.shimGetParameters(window, browserDetails);\n      firefoxShim.shimCreateOffer(window, browserDetails);\n      firefoxShim.shimCreateAnswer(window, browserDetails);\n\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimConnectionState(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      break;\n    case 'edge':\n      if (!edgeShim || !edgeShim.shimPeerConnection || !options.shimEdge) {\n        logging('MS edge shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming edge.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = edgeShim;\n\n      edgeShim.shimGetUserMedia(window, browserDetails);\n      edgeShim.shimGetDisplayMedia(window, browserDetails);\n      edgeShim.shimPeerConnection(window, browserDetails);\n      edgeShim.shimReplaceTrack(window, browserDetails);\n\n      // the edge shim implements the full RTCIceCandidate object.\n\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      break;\n    case 'safari':\n      if (!safariShim || !options.shimSafari) {\n        logging('Safari shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = safariShim;\n\n      // Must be called before shimCallbackAPI.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n\n      safariShim.shimRTCIceServerUrls(window, browserDetails);\n      safariShim.shimCreateOfferLegacy(window, browserDetails);\n      safariShim.shimCallbacksAPI(window, browserDetails);\n      safariShim.shimLocalStreamsAPI(window, browserDetails);\n      safariShim.shimRemoteStreamsAPI(window, browserDetails);\n      safariShim.shimTrackEventTransceiver(window, browserDetails);\n      safariShim.shimGetUserMedia(window, browserDetails);\n      safariShim.shimAudioContext(window, browserDetails);\n\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      commonShim.removeExtmapAllowMixed(window, browserDetails);\n      break;\n    default:\n      logging('Unsupported browser!');\n      break;\n  }\n\n  return adapter;\n}\n","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","import { ParsedUrlQuery } from 'querystring'\n\nexport function searchParamsToUrlQuery(\n  searchParams: URLSearchParams\n): ParsedUrlQuery {\n  const query: ParsedUrlQuery = {}\n  searchParams.forEach((value, key) => {\n    if (typeof query[key] === 'undefined') {\n      query[key] = value\n    } else if (Array.isArray(query[key])) {\n      ;(query[key] as string[]).push(value)\n    } else {\n      query[key] = [query[key] as string, value]\n    }\n  })\n  return query\n}\n\nfunction stringifyUrlQueryParam(param: string): string {\n  if (\n    typeof param === 'string' ||\n    (typeof param === 'number' && !isNaN(param)) ||\n    typeof param === 'boolean'\n  ) {\n    return String(param)\n  } else {\n    return ''\n  }\n}\n\nexport function urlQueryToSearchParams(\n  urlQuery: ParsedUrlQuery\n): URLSearchParams {\n  const result = new URLSearchParams()\n  Object.entries(urlQuery).forEach(([key, value]) => {\n    if (Array.isArray(value)) {\n      value.forEach((item) => result.append(key, stringifyUrlQueryParam(item)))\n    } else {\n      result.set(key, stringifyUrlQueryParam(value))\n    }\n  })\n  return result\n}\n\nexport function assign(\n  target: URLSearchParams,\n  ...searchParamsList: URLSearchParams[]\n): URLSearchParams {\n  searchParamsList.forEach((searchParams) => {\n    Array.from(searchParams.keys()).forEach((key) => target.delete(key))\n    searchParams.forEach((value, key) => target.append(key, value))\n  })\n  return target\n}\n"],"sourceRoot":""}