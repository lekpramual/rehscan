(this.webpackJsonprehscan=this.webpackJsonprehscan||[]).push([[13],{106:function(e,t,a){"use strict";var n=a(0),l=a.n(n);t.a=function(e){return l.a.createElement("div",{className:"row",style:{marginBottom:10}},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"".concat(e.alert," alert-dismissible")},l.a.createElement("h5",null,"\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19 !"),e.msg)))}},275:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(87),c=a.n(r),o=a(88),s=a(94),i=a.n(s),m=a(25),u=a(26),d=a(13),f=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.scanlocation.indexData})),a=Object(u.c)((function(e){return e.scanlocation.indexStatus})),r=Object(u.c)((function(e){return e.scanlocation.indexFailure}));var c=function(){var e,a=[];return t.map((function(t){return 0===t.data.length?e=!1:(e=!0,a=t.data,{iscount:e,isdata:a})})),{iscount:e,isdata:a}}(),o=c.iscount,s=c.isdata;return Object(n.useEffect)((function(){e(Object(d.h)())}),[e]),l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 table table-responsive "},l.a.createElement("table",{className:"table table-bordered table-hover text-nowrap"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",null,"\u0e25\u0e33\u0e14\u0e31\u0e1a"),l.a.createElement("td",null,"\u0e25\u0e30\u0e15\u0e34\u0e08\u0e39\u0e14"),l.a.createElement("td",null,"\u0e25\u0e2d\u0e07\u0e15\u0e34\u0e08\u0e39\u0e14"),l.a.createElement("td",null,"\u0e2a\u0e16\u0e32\u0e19\u0e17\u0e35\u0e48"),l.a.createElement("td",null,"\u0e2a\u0e16\u0e32\u0e19\u0e30"),l.a.createElement("td",null,"\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07"))),l.a.createElement("tbody",null,o?s.map((function(e,t){return l.a.createElement("tr",{key:e.scan_id},l.a.createElement("td",null,t+1),l.a.createElement("td",null,e.latitude),l.a.createElement("td",null,e.longitude),l.a.createElement("td",null,e.scan_location),l.a.createElement("td",null,1===e.status_id?l.a.createElement("span",{className:"badge bg-success"},"\u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19"):l.a.createElement("span",{className:"badge bg-danger"},"\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19")),l.a.createElement("td",null,l.a.createElement(m.b,{to:{pathname:"/scan/member-printlocation",state:e}},l.a.createElement("button",{className:"btn btn-default"},l.a.createElement("i",{className:"fas fa-qrcode"})))))})):l.a.createElement("tr",{key:"emtpydata"},l.a.createElement("td",{style:{verticalAlign:"middle"},colSpan:"7",className:"text-center"},"loading"===a?l.a.createElement("div",{className:"overlay"},l.a.createElement("i",{className:"fas fa-2x fa-sync-alt fa-spin"})):"failed"===a?l.a.createElement("p",{className:"text-danger"},r):"--- \u0e44\u0e21\u0e48\u0e21\u0e35\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 ---")))))))},E=a(77),b=a(72),v=a.n(b),p=a(271),g=a(277),N=a(105),h=a(106);var y=Object(N.geolocated)({positionOptions:{enableHighAccuracy:!1},userDecisionTimeout:5e3})((function(e){var t=Object(n.useState)(""),a=Object(E.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(!1),s=Object(E.a)(o,2),i=s[0],m=s[1],u=function(){return m(!1)},d=function(t){t.preventDefault(),function(){var e=!0;return""===r&&(c(""),e=!1),e}()&&(e.confirm(e.coords.latitude.toFixed(4),e.coords.longitude.toFixed(4),r),m(!1),c(""))};return Object(n.useEffect)((function(){console.log("Loading ...")}),[i]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row",style:{marginBottom:10}},l.a.createElement("div",{className:"col-12",style:{textAlign:"right"}},l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return m(!0)}},l.a.createElement("i",{className:"fas fa-plus"})," \u0e40\u0e1e\u0e34\u0e48\u0e21\u0e08\u0e38\u0e14\u0e2a\u0e41\u0e01\u0e19"," "))),e.isGeolocationAvailable?e.isGeolocationEnabled?e.coords?l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement(p.a,{show:i,onHide:u},l.a.createElement(p.a.Header,{closeButton:!0},l.a.createElement(p.a.Title,null,"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e08\u0e38\u0e14\u0e2a\u0e41\u0e01\u0e19")),l.a.createElement(p.a.Body,null,l.a.createElement("form",{onSubmit:function(e){return d(e)}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"InputMember",className:"col-form-label"}," ","\u0e25\u0e30\u0e15\u0e34\u0e08\u0e39\u0e14"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u0e25\u0e30\u0e15\u0e34\u0e08\u0e39\u0e14",value:e.coords.latitude.toFixed(4),disabled:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"InputMember",className:"col-form-label"}," ","\u0e25\u0e2d\u0e07\u0e15\u0e34\u0e08\u0e39\u0e14"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u0e25\u0e2d\u0e07\u0e15\u0e34\u0e08\u0e39\u0e14",value:e.coords.longitude.toFixed(4),disabled:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"InputMember",className:"col-form-label"}," ","\u0e2a\u0e16\u0e32\u0e19\u0e17\u0e35\u0e48 ",r.isvalid),l.a.createElement("input",{type:"text",className:v()("form-control",{"form-control is-invalid":!1===r.isvalid}),placeholder:"\u0e2a\u0e16\u0e32\u0e19\u0e17\u0e35\u0e48",value:r,onChange:function(e){return c(e.target.value)}})))),l.a.createElement(p.a.Footer,{className:"modal-footer justify-content-between p-0"},l.a.createElement(g.a,{variant:"secondary",onClick:u},"\u0e1b\u0e34\u0e14"),l.a.createElement(g.a,{variant:"primary",onClick:function(e){return d(e)},disabled:""===r},"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"))))):l.a.createElement("div",{className:"col-12",style:{textAlign:"center"}},l.a.createElement(h.a,{msg:"--- \u0e01\u0e33\u0e25\u0e31\u0e07\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e15\u0e33\u0e41\u0e2b\u0e19\u0e48\u0e07 \u2026 ---",alert:"alert alert-info"})):l.a.createElement(h.a,{msg:"--- \u0e01\u0e23\u0e38\u0e13\u0e32\u0e40\u0e1b\u0e34\u0e14 GPS \u0e21\u0e37\u0e2d\u0e16\u0e37\u0e2d\u0e02\u0e2d\u0e07\u0e17\u0e48\u0e32\u0e19 \u2026 ---",alert:"alert alert-warning"}):l.a.createElement(h.a,{msg:"--- \u0e40\u0e1a\u0e23\u0e32\u0e27\u0e4c\u0e40\u0e0b\u0e2d\u0e23\u0e4c\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e44\u0e21\u0e48\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a \u0e41\u0e19\u0e30\u0e19\u0e33 Chome---",alert:"alert alert-warning"}))})),w=a(71),x=a(84),j=a(83);var O=function(){var e=Object(u.b)(),t=new w.a("http://localhost:3000/");return Object(n.useEffect)((function(){}),[]),t.loggedIn()?l.a.createElement("section",{className:"content",style:{marginTop:-16}},l.a.createElement("div",{className:"container-fluid"},l.a.createElement(x.a,null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body "},l.a.createElement(y,{confirm:function(t,a,n){var l={lat:t,lon:a,scanName:n};new Promise((function(t,a){function n(){return r.apply(this,arguments)}function r(){return(r=Object(o.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Object(d.g)(l)).then((function(e){return e[0].msg}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:"created successful"===e.sent?(setTimeout((function(){window.location.reload()}),1600),t(!0)):a(!1);case 4:case"end":return e.stop()}}),e)})))()})).then((function(e){e?i.a.fire({icon:"success",title:"\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08",text:"\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e08\u0e38\u0e14\u0e2a\u0e41\u0e01\u0e19\u0e40\u0e23\u0e35\u0e22\u0e1a\u0e23\u0e49\u0e2d\u0e22",showConfirmButton:!1,timer:1500}):i.a.fire({icon:"warning",title:"\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14",text:"\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14",showConfirmButton:!1,timer:1500})})).catch((function(e){i.a.fire({icon:"error",title:"\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14",text:"\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14",showConfirmButton:!1,timer:1500})}))}}),l.a.createElement(f,null))))))):l.a.createElement(j.a,null)};t.default=function(){return l.a.createElement("div",null,l.a.createElement(O,null))}},71:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(74),l=a(75),r=a(78),c=a(79),o=a.n(c),s=function(){function e(){Object(n.a)(this,e)}return Object(l.a)(e,[{key:"loggedIn",value:function(){return!!this.getToken()}},{key:"setToken",value:function(e){var t=o()(e,"secret");localStorage.setItem("id_token",t)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"getProfile",value:function(){return Object(r.a)(this.getToken())}}]),e}()},83:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(25);t.a=function(){return l.a.createElement("div",{className:"content-wrapper",style:{minHeight:2836}},l.a.createElement("section",{className:"content"},l.a.createElement("div",{className:"error-page"},l.a.createElement("h2",{className:"headline text-warning"}," 404"),l.a.createElement("div",{className:"error-content"},l.a.createElement("h3",null,l.a.createElement("i",{className:"fas fa-exclamation-triangle text-warning"})," ","\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19 ! . \u0e01\u0e23\u0e38\u0e13\u0e32\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"),l.a.createElement("p",null,l.a.createElement(r.b,{to:"/scan/member-register"},"\u0e04\u0e25\u0e34\u0e01\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"))))))}},84:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),l=a.n(n),r=a(71),c=function(){var e=new r.a("http://localhost:3000/");return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body",style:{textAlign:"center"}},l.a.createElement("span",{className:"text-muted"},l.a.createElement("i",{className:"fas fa-user"})," ",e.loggedIn()?e.getProfile().name:"")))))}}}]);
//# sourceMappingURL=13.d6b9b878.chunk.js.map